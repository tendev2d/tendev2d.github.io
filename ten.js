/*! For license information please see ten.js.LICENSE.txt */
(()=>{var t,e={755:function(t,e){var i;!function(e,i){"use strict";"object"==typeof t.exports?t.exports=e.document?i(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return i(t)}:i(e)}("undefined"!=typeof window?window:this,(function(n,s){"use strict";var r=[],a=Object.getPrototypeOf,o=r.slice,l=r.flat?function(t){return r.flat.call(t)}:function(t){return r.concat.apply([],t)},h=r.push,c=r.indexOf,u={},d=u.toString,f=u.hasOwnProperty,p=f.toString,m=p.call(Object),g={},x=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item},v=function(t){return null!=t&&t===t.window},y=n.document,b={type:!0,src:!0,nonce:!0,noModule:!0};function w(t,e,i){var n,s,r=(i=i||y).createElement("script");if(r.text=t,e)for(n in b)(s=e[n]||e.getAttribute&&e.getAttribute(n))&&r.setAttribute(n,s);i.head.appendChild(r).parentNode.removeChild(r)}function C(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?u[d.call(t)]||"object":typeof t}var A="3.6.2",T=function(t,e){return new T.fn.init(t,e)};function S(t){var e=!!t&&"length"in t&&t.length,i=C(t);return!x(t)&&!v(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}T.fn=T.prototype={jquery:A,constructor:T,length:0,toArray:function(){return o.call(this)},get:function(t){return null==t?o.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=T.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return T.each(this,t)},map:function(t){return this.pushStack(T.map(this,(function(e,i){return t.call(e,i,e)})))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(T.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(T.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:r.sort,splice:r.splice},T.extend=T.fn.extend=function(){var t,e,i,n,s,r,a=arguments[0]||{},o=1,l=arguments.length,h=!1;for("boolean"==typeof a&&(h=a,a=arguments[o]||{},o++),"object"==typeof a||x(a)||(a={}),o===l&&(a=this,o--);o<l;o++)if(null!=(t=arguments[o]))for(e in t)n=t[e],"__proto__"!==e&&a!==n&&(h&&n&&(T.isPlainObject(n)||(s=Array.isArray(n)))?(i=a[e],r=s&&!Array.isArray(i)?[]:s||T.isPlainObject(i)?i:{},s=!1,a[e]=T.extend(h,r,n)):void 0!==n&&(a[e]=n));return a},T.extend({expando:"jQuery"+(A+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==d.call(t)||(e=a(t))&&("function"!=typeof(i=f.call(e,"constructor")&&e.constructor)||p.call(i)!==m))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,i){w(t,{nonce:e&&e.nonce},i)},each:function(t,e){var i,n=0;if(S(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},makeArray:function(t,e){var i=e||[];return null!=t&&(S(Object(t))?T.merge(i,"string"==typeof t?[t]:t):h.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:c.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,s=t.length;n<i;n++)t[s++]=e[n];return t.length=s,t},grep:function(t,e,i){for(var n=[],s=0,r=t.length,a=!i;s<r;s++)!e(t[s],s)!==a&&n.push(t[s]);return n},map:function(t,e,i){var n,s,r=0,a=[];if(S(t))for(n=t.length;r<n;r++)null!=(s=e(t[r],r,i))&&a.push(s);else for(r in t)null!=(s=e(t[r],r,i))&&a.push(s);return l(a)},guid:1,support:g}),"function"==typeof Symbol&&(T.fn[Symbol.iterator]=r[Symbol.iterator]),T.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){u["[object "+e+"]"]=e.toLowerCase()}));var k=function(t){var e,i,n,s,r,a,o,l,h,c,u,d,f,p,m,g,x,v,y,b="sizzle"+1*new Date,w=t.document,C=0,A=0,T=lt(),S=lt(),k=lt(),E=lt(),M=function(t,e){return t===e&&(u=!0),0},R={}.hasOwnProperty,I=[],L=I.pop,P=I.push,D=I.push,F=I.slice,X=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},Y="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",N="[\\x20\\t\\r\\n\\f]",O="(?:\\\\[\\da-fA-F]{1,6}"+N+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",_="\\["+N+"*("+O+")(?:"+N+"*([*^$|!~]?=)"+N+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+N+"*\\]",B=":("+O+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+_+")*)|.*)\\)|)",V=new RegExp(N+"+","g"),q=new RegExp("^"+N+"+|((?:^|[^\\\\])(?:\\\\.)*)"+N+"+$","g"),W=new RegExp("^"+N+"*,"+N+"*"),j=new RegExp("^"+N+"*([>+~]|"+N+")"+N+"*"),z=new RegExp(N+"|>"),H=new RegExp(B),U=new RegExp("^"+O+"$"),$={ID:new RegExp("^#("+O+")"),CLASS:new RegExp("^\\.("+O+")"),TAG:new RegExp("^("+O+"|[*])"),ATTR:new RegExp("^"+_),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+N+"*(even|odd|(([+-]|)(\\d*)n|)"+N+"*(?:([+-]|)"+N+"*(\\d+)|))"+N+"*\\)|)","i"),bool:new RegExp("^(?:"+Y+")$","i"),needsContext:new RegExp("^"+N+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+N+"*((?:-\\d)?\\d*)"+N+"*\\)|)(?=[^-]|$)","i")},G=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}"+N+"?|\\\\([^\\r\\n\\f])","g"),it=function(t,e){var i="0x"+t.slice(1)-65536;return e||(i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320))},nt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,st=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},rt=function(){d()},at=bt((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{D.apply(I=F.call(w.childNodes),w.childNodes),I[w.childNodes.length].nodeType}catch(t){D={apply:I.length?function(t,e){P.apply(t,F.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}function ot(t,e,n,s){var r,o,h,c,u,p,x,v=e&&e.ownerDocument,w=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==w&&9!==w&&11!==w)return n;if(!s&&(d(e),e=e||f,m)){if(11!==w&&(u=Z.exec(t)))if(r=u[1]){if(9===w){if(!(h=e.getElementById(r)))return n;if(h.id===r)return n.push(h),n}else if(v&&(h=v.getElementById(r))&&y(e,h)&&h.id===r)return n.push(h),n}else{if(u[2])return D.apply(n,e.getElementsByTagName(t)),n;if((r=u[3])&&i.getElementsByClassName&&e.getElementsByClassName)return D.apply(n,e.getElementsByClassName(r)),n}if(i.qsa&&!E[t+" "]&&(!g||!g.test(t))&&(1!==w||"object"!==e.nodeName.toLowerCase())){if(x=t,v=e,1===w&&(z.test(t)||j.test(t))){for((v=tt.test(t)&&xt(e.parentNode)||e)===e&&i.scope||((c=e.getAttribute("id"))?c=c.replace(nt,st):e.setAttribute("id",c=b)),o=(p=a(t)).length;o--;)p[o]=(c?"#"+c:":scope")+" "+yt(p[o]);x=p.join(",")}try{if(i.cssSupportsSelector&&!CSS.supports("selector("+x+")"))throw new Error;return D.apply(n,v.querySelectorAll(x)),n}catch(e){E(t,!0)}finally{c===b&&e.removeAttribute("id")}}}return l(t.replace(q,"$1"),e,n,s)}function lt(){var t=[];return function e(i,s){return t.push(i+" ")>n.cacheLength&&delete e[t.shift()],e[i+" "]=s}}function ht(t){return t[b]=!0,t}function ct(t){var e=f.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ut(t,e){for(var i=t.split("|"),s=i.length;s--;)n.attrHandle[i[s]]=e}function dt(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function ft(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function pt(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function mt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&at(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function gt(t){return ht((function(e){return e=+e,ht((function(i,n){for(var s,r=t([],i.length,e),a=r.length;a--;)i[s=r[a]]&&(i[s]=!(n[s]=i[s]))}))}))}function xt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in i=ot.support={},r=ot.isXML=function(t){var e=t&&t.namespaceURI,i=t&&(t.ownerDocument||t).documentElement;return!G.test(e||i&&i.nodeName||"HTML")},d=ot.setDocument=function(t){var e,s,a=t?t.ownerDocument||t:w;return a!=f&&9===a.nodeType&&a.documentElement?(p=(f=a).documentElement,m=!r(f),w!=f&&(s=f.defaultView)&&s.top!==s&&(s.addEventListener?s.addEventListener("unload",rt,!1):s.attachEvent&&s.attachEvent("onunload",rt)),i.scope=ct((function(t){return p.appendChild(t).appendChild(f.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length})),i.cssSupportsSelector=ct((function(){return CSS.supports("selector(*)")&&f.querySelectorAll(":is(:jqfake)")&&!CSS.supports("selector(:is(*,:jqfake))")})),i.attributes=ct((function(t){return t.className="i",!t.getAttribute("className")})),i.getElementsByTagName=ct((function(t){return t.appendChild(f.createComment("")),!t.getElementsByTagName("*").length})),i.getElementsByClassName=Q.test(f.getElementsByClassName),i.getById=ct((function(t){return p.appendChild(t).id=b,!f.getElementsByName||!f.getElementsByName(b).length})),i.getById?(n.filter.ID=function(t){var e=t.replace(et,it);return function(t){return t.getAttribute("id")===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var i=e.getElementById(t);return i?[i]:[]}}):(n.filter.ID=function(t){var e=t.replace(et,it);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var i,n,s,r=e.getElementById(t);if(r){if((i=r.getAttributeNode("id"))&&i.value===t)return[r];for(s=e.getElementsByName(t),n=0;r=s[n++];)if((i=r.getAttributeNode("id"))&&i.value===t)return[r]}return[]}}),n.find.TAG=i.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):i.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],s=0,r=e.getElementsByTagName(t);if("*"===t){for(;i=r[s++];)1===i.nodeType&&n.push(i);return n}return r},n.find.CLASS=i.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&m)return e.getElementsByClassName(t)},x=[],g=[],(i.qsa=Q.test(f.querySelectorAll))&&(ct((function(t){var e;p.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+N+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+N+"*(?:value|"+Y+")"),t.querySelectorAll("[id~="+b+"-]").length||g.push("~="),(e=f.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||g.push("\\["+N+"*name"+N+"*="+N+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||g.push(".#.+[+~]"),t.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")})),ct((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=f.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+N+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")}))),(i.matchesSelector=Q.test(v=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ct((function(t){i.disconnectedMatch=v.call(t,"*"),v.call(t,"[s!='']:x"),x.push("!=",B)})),i.cssSupportsSelector||g.push(":has"),g=g.length&&new RegExp(g.join("|")),x=x.length&&new RegExp(x.join("|")),e=Q.test(p.compareDocumentPosition),y=e||Q.test(p.contains)?function(t,e){var i=9===t.nodeType&&t.documentElement||t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},M=e?function(t,e){if(t===e)return u=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!i.sortDetached&&e.compareDocumentPosition(t)===n?t==f||t.ownerDocument==w&&y(w,t)?-1:e==f||e.ownerDocument==w&&y(w,e)?1:c?X(c,t)-X(c,e):0:4&n?-1:1)}:function(t,e){if(t===e)return u=!0,0;var i,n=0,s=t.parentNode,r=e.parentNode,a=[t],o=[e];if(!s||!r)return t==f?-1:e==f?1:s?-1:r?1:c?X(c,t)-X(c,e):0;if(s===r)return dt(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)o.unshift(i);for(;a[n]===o[n];)n++;return n?dt(a[n],o[n]):a[n]==w?-1:o[n]==w?1:0},f):f},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if(d(t),i.matchesSelector&&m&&!E[e+" "]&&(!x||!x.test(e))&&(!g||!g.test(e)))try{var n=v.call(t,e);if(n||i.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){E(e,!0)}return ot(e,f,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!=f&&d(t),y(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!=f&&d(t);var s=n.attrHandle[e.toLowerCase()],r=s&&R.call(n.attrHandle,e.toLowerCase())?s(t,e,!m):void 0;return void 0!==r?r:i.attributes||!m?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},ot.escape=function(t){return(t+"").replace(nt,st)},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,n=[],s=0,r=0;if(u=!i.detectDuplicates,c=!i.sortStable&&t.slice(0),t.sort(M),u){for(;e=t[r++];)e===t[r]&&(s=n.push(r));for(;s--;)t.splice(n[s],1)}return c=null,t},s=ot.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=s(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n++];)i+=s(e);return i},n=ot.selectors={cacheLength:50,createPseudo:ht,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,it),t[3]=(t[3]||t[4]||t[5]||"").replace(et,it),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return $.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&H.test(i)&&(e=a(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,it).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=T[t+" "];return e||(e=new RegExp("(^|"+N+")"+t+"("+N+"|$)"))&&T(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,i){return function(n){var s=ot.attr(n,t);return null==s?"!="===e:!e||(s+="","="===e?s===i:"!="===e?s!==i:"^="===e?i&&0===s.indexOf(i):"*="===e?i&&s.indexOf(i)>-1:"$="===e?i&&s.slice(-i.length)===i:"~="===e?(" "+s.replace(V," ")+" ").indexOf(i)>-1:"|="===e&&(s===i||s.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,i,n,s){var r="nth"!==t.slice(0,3),a="last"!==t.slice(-4),o="of-type"===e;return 1===n&&0===s?function(t){return!!t.parentNode}:function(e,i,l){var h,c,u,d,f,p,m=r!==a?"nextSibling":"previousSibling",g=e.parentNode,x=o&&e.nodeName.toLowerCase(),v=!l&&!o,y=!1;if(g){if(r){for(;m;){for(d=e;d=d[m];)if(o?d.nodeName.toLowerCase()===x:1===d.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&v){for(y=(f=(h=(c=(u=(d=g)[b]||(d[b]={}))[d.uniqueID]||(u[d.uniqueID]={}))[t]||[])[0]===C&&h[1])&&h[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(y=f=0)||p.pop();)if(1===d.nodeType&&++y&&d===e){c[t]=[C,f,y];break}}else if(v&&(y=f=(h=(c=(u=(d=e)[b]||(d[b]={}))[d.uniqueID]||(u[d.uniqueID]={}))[t]||[])[0]===C&&h[1]),!1===y)for(;(d=++f&&d&&d[m]||(y=f=0)||p.pop())&&((o?d.nodeName.toLowerCase()!==x:1!==d.nodeType)||!++y||(v&&((c=(u=d[b]||(d[b]={}))[d.uniqueID]||(u[d.uniqueID]={}))[t]=[C,y]),d!==e)););return(y-=s)===n||y%n==0&&y/n>=0}}},PSEUDO:function(t,e){var i,s=n.pseudos[t]||n.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return s[b]?s(e):s.length>1?(i=[t,t,"",e],n.setFilters.hasOwnProperty(t.toLowerCase())?ht((function(t,i){for(var n,r=s(t,e),a=r.length;a--;)t[n=X(t,r[a])]=!(i[n]=r[a])})):function(t){return s(t,0,i)}):s}},pseudos:{not:ht((function(t){var e=[],i=[],n=o(t.replace(q,"$1"));return n[b]?ht((function(t,e,i,s){for(var r,a=n(t,null,s,[]),o=t.length;o--;)(r=a[o])&&(t[o]=!(e[o]=r))})):function(t,s,r){return e[0]=t,n(e,null,r,i),e[0]=null,!i.pop()}})),has:ht((function(t){return function(e){return ot(t,e).length>0}})),contains:ht((function(t){return t=t.replace(et,it),function(e){return(e.textContent||s(e)).indexOf(t)>-1}})),lang:ht((function(t){return U.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace(et,it).toLowerCase(),function(e){var i;do{if(i=m?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:mt(!1),disabled:mt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!n.pseudos.empty(t)},header:function(t){return K.test(t.nodeName)},input:function(t){return J.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:gt((function(){return[0]})),last:gt((function(t,e){return[e-1]})),eq:gt((function(t,e,i){return[i<0?i+e:i]})),even:gt((function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t})),odd:gt((function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t})),lt:gt((function(t,e,i){for(var n=i<0?i+e:i>e?e:i;--n>=0;)t.push(n);return t})),gt:gt((function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t}))}},n.pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[e]=ft(e);for(e in{submit:!0,reset:!0})n.pseudos[e]=pt(e);function vt(){}function yt(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function bt(t,e,i){var n=e.dir,s=e.next,r=s||n,a=i&&"parentNode"===r,o=A++;return e.first?function(e,i,s){for(;e=e[n];)if(1===e.nodeType||a)return t(e,i,s);return!1}:function(e,i,l){var h,c,u,d=[C,o];if(l){for(;e=e[n];)if((1===e.nodeType||a)&&t(e,i,l))return!0}else for(;e=e[n];)if(1===e.nodeType||a)if(c=(u=e[b]||(e[b]={}))[e.uniqueID]||(u[e.uniqueID]={}),s&&s===e.nodeName.toLowerCase())e=e[n]||e;else{if((h=c[r])&&h[0]===C&&h[1]===o)return d[2]=h[2];if(c[r]=d,d[2]=t(e,i,l))return!0}return!1}}function wt(t){return t.length>1?function(e,i,n){for(var s=t.length;s--;)if(!t[s](e,i,n))return!1;return!0}:t[0]}function Ct(t,e,i,n,s){for(var r,a=[],o=0,l=t.length,h=null!=e;o<l;o++)(r=t[o])&&(i&&!i(r,n,s)||(a.push(r),h&&e.push(o)));return a}function At(t,e,i,n,s,r){return n&&!n[b]&&(n=At(n)),s&&!s[b]&&(s=At(s,r)),ht((function(r,a,o,l){var h,c,u,d=[],f=[],p=a.length,m=r||function(t,e,i){for(var n=0,s=e.length;n<s;n++)ot(t,e[n],i);return i}(e||"*",o.nodeType?[o]:o,[]),g=!t||!r&&e?m:Ct(m,d,t,o,l),x=i?s||(r?t:p||n)?[]:a:g;if(i&&i(g,x,o,l),n)for(h=Ct(x,f),n(h,[],o,l),c=h.length;c--;)(u=h[c])&&(x[f[c]]=!(g[f[c]]=u));if(r){if(s||t){if(s){for(h=[],c=x.length;c--;)(u=x[c])&&h.push(g[c]=u);s(null,x=[],h,l)}for(c=x.length;c--;)(u=x[c])&&(h=s?X(r,u):d[c])>-1&&(r[h]=!(a[h]=u))}}else x=Ct(x===a?x.splice(p,x.length):x),s?s(null,a,x,l):D.apply(a,x)}))}function Tt(t){for(var e,i,s,r=t.length,a=n.relative[t[0].type],o=a||n.relative[" "],l=a?1:0,c=bt((function(t){return t===e}),o,!0),u=bt((function(t){return X(e,t)>-1}),o,!0),d=[function(t,i,n){var s=!a&&(n||i!==h)||((e=i).nodeType?c(t,i,n):u(t,i,n));return e=null,s}];l<r;l++)if(i=n.relative[t[l].type])d=[bt(wt(d),i)];else{if((i=n.filter[t[l].type].apply(null,t[l].matches))[b]){for(s=++l;s<r&&!n.relative[t[s].type];s++);return At(l>1&&wt(d),l>1&&yt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(q,"$1"),i,l<s&&Tt(t.slice(l,s)),s<r&&Tt(t=t.slice(s)),s<r&&yt(t))}d.push(i)}return wt(d)}return vt.prototype=n.filters=n.pseudos,n.setFilters=new vt,a=ot.tokenize=function(t,e){var i,s,r,a,o,l,h,c=S[t+" "];if(c)return e?0:c.slice(0);for(o=t,l=[],h=n.preFilter;o;){for(a in i&&!(s=W.exec(o))||(s&&(o=o.slice(s[0].length)||o),l.push(r=[])),i=!1,(s=j.exec(o))&&(i=s.shift(),r.push({value:i,type:s[0].replace(q," ")}),o=o.slice(i.length)),n.filter)!(s=$[a].exec(o))||h[a]&&!(s=h[a](s))||(i=s.shift(),r.push({value:i,type:a,matches:s}),o=o.slice(i.length));if(!i)break}return e?o.length:o?ot.error(t):S(t,l).slice(0)},o=ot.compile=function(t,e){var i,s=[],r=[],o=k[t+" "];if(!o){for(e||(e=a(t)),i=e.length;i--;)(o=Tt(e[i]))[b]?s.push(o):r.push(o);o=k(t,function(t,e){var i=e.length>0,s=t.length>0,r=function(r,a,o,l,c){var u,p,g,x=0,v="0",y=r&&[],b=[],w=h,A=r||s&&n.find.TAG("*",c),T=C+=null==w?1:Math.random()||.1,S=A.length;for(c&&(h=a==f||a||c);v!==S&&null!=(u=A[v]);v++){if(s&&u){for(p=0,a||u.ownerDocument==f||(d(u),o=!m);g=t[p++];)if(g(u,a||f,o)){l.push(u);break}c&&(C=T)}i&&((u=!g&&u)&&x--,r&&y.push(u))}if(x+=v,i&&v!==x){for(p=0;g=e[p++];)g(y,b,a,o);if(r){if(x>0)for(;v--;)y[v]||b[v]||(b[v]=L.call(l));b=Ct(b)}D.apply(l,b),c&&!r&&b.length>0&&x+e.length>1&&ot.uniqueSort(l)}return c&&(C=T,h=w),y};return i?ht(r):r}(r,s)),o.selector=t}return o},l=ot.select=function(t,e,i,s){var r,l,h,c,u,d="function"==typeof t&&t,f=!s&&a(t=d.selector||t);if(i=i||[],1===f.length){if((l=f[0]=f[0].slice(0)).length>2&&"ID"===(h=l[0]).type&&9===e.nodeType&&m&&n.relative[l[1].type]){if(!(e=(n.find.ID(h.matches[0].replace(et,it),e)||[])[0]))return i;d&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(r=$.needsContext.test(t)?0:l.length;r--&&(h=l[r],!n.relative[c=h.type]);)if((u=n.find[c])&&(s=u(h.matches[0].replace(et,it),tt.test(l[0].type)&&xt(e.parentNode)||e))){if(l.splice(r,1),!(t=s.length&&yt(l)))return D.apply(i,s),i;break}}return(d||o(t,f))(s,e,!m,i,!e||tt.test(t)&&xt(e.parentNode)||e),i},i.sortStable=b.split("").sort(M).join("")===b,i.detectDuplicates=!!u,d(),i.sortDetached=ct((function(t){return 1&t.compareDocumentPosition(f.createElement("fieldset"))})),ct((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||ut("type|href|height|width",(function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),i.attributes&&ct((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||ut("value",(function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),ct((function(t){return null==t.getAttribute("disabled")}))||ut(Y,(function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null})),ot}(n);T.find=k,T.expr=k.selectors,T.expr[":"]=T.expr.pseudos,T.uniqueSort=T.unique=k.uniqueSort,T.text=k.getText,T.isXMLDoc=k.isXML,T.contains=k.contains,T.escapeSelector=k.escape;var E=function(t,e,i){for(var n=[],s=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(s&&T(t).is(i))break;n.push(t)}return n},M=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},R=T.expr.match.needsContext;function I(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var L=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function P(t,e,i){return x(e)?T.grep(t,(function(t,n){return!!e.call(t,n,t)!==i})):e.nodeType?T.grep(t,(function(t){return t===e!==i})):"string"!=typeof e?T.grep(t,(function(t){return c.call(e,t)>-1!==i})):T.filter(e,t,i)}T.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?T.find.matchesSelector(n,t)?[n]:[]:T.find.matches(t,T.grep(e,(function(t){return 1===t.nodeType})))},T.fn.extend({find:function(t){var e,i,n=this.length,s=this;if("string"!=typeof t)return this.pushStack(T(t).filter((function(){for(e=0;e<n;e++)if(T.contains(s[e],this))return!0})));for(i=this.pushStack([]),e=0;e<n;e++)T.find(t,s[e],i);return n>1?T.uniqueSort(i):i},filter:function(t){return this.pushStack(P(this,t||[],!1))},not:function(t){return this.pushStack(P(this,t||[],!0))},is:function(t){return!!P(this,"string"==typeof t&&R.test(t)?T(t):t||[],!1).length}});var D,F=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(T.fn.init=function(t,e,i){var n,s;if(!t)return this;if(i=i||D,"string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:F.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof T?e[0]:e,T.merge(this,T.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:y,!0)),L.test(n[1])&&T.isPlainObject(e))for(n in e)x(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(s=y.getElementById(n[2]))&&(this[0]=s,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):x(t)?void 0!==i.ready?i.ready(t):t(T):T.makeArray(t,this)}).prototype=T.fn,D=T(y);var X=/^(?:parents|prev(?:Until|All))/,Y={children:!0,contents:!0,next:!0,prev:!0};function N(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}T.fn.extend({has:function(t){var e=T(t,this),i=e.length;return this.filter((function(){for(var t=0;t<i;t++)if(T.contains(this,e[t]))return!0}))},closest:function(t,e){var i,n=0,s=this.length,r=[],a="string"!=typeof t&&T(t);if(!R.test(t))for(;n<s;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&T.find.matchesSelector(i,t))){r.push(i);break}return this.pushStack(r.length>1?T.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?c.call(T(t),this[0]):c.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(T.uniqueSort(T.merge(this.get(),T(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),T.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return E(t,"parentNode")},parentsUntil:function(t,e,i){return E(t,"parentNode",i)},next:function(t){return N(t,"nextSibling")},prev:function(t){return N(t,"previousSibling")},nextAll:function(t){return E(t,"nextSibling")},prevAll:function(t){return E(t,"previousSibling")},nextUntil:function(t,e,i){return E(t,"nextSibling",i)},prevUntil:function(t,e,i){return E(t,"previousSibling",i)},siblings:function(t){return M((t.parentNode||{}).firstChild,t)},children:function(t){return M(t.firstChild)},contents:function(t){return null!=t.contentDocument&&a(t.contentDocument)?t.contentDocument:(I(t,"template")&&(t=t.content||t),T.merge([],t.childNodes))}},(function(t,e){T.fn[t]=function(i,n){var s=T.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(s=T.filter(n,s)),this.length>1&&(Y[t]||T.uniqueSort(s),X.test(t)&&s.reverse()),this.pushStack(s)}}));var O=/[^\x20\t\r\n\f]+/g;function _(t){return t}function B(t){throw t}function V(t,e,i,n){var s;try{t&&x(s=t.promise)?s.call(t).done(e).fail(i):t&&x(s=t.then)?s.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}T.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return T.each(t.match(O)||[],(function(t,i){e[i]=!0})),e}(t):T.extend({},t);var e,i,n,s,r=[],a=[],o=-1,l=function(){for(s=s||t.once,n=e=!0;a.length;o=-1)for(i=a.shift();++o<r.length;)!1===r[o].apply(i[0],i[1])&&t.stopOnFalse&&(o=r.length,i=!1);t.memory||(i=!1),e=!1,s&&(r=i?[]:"")},h={add:function(){return r&&(i&&!e&&(o=r.length-1,a.push(i)),function e(i){T.each(i,(function(i,n){x(n)?t.unique&&h.has(n)||r.push(n):n&&n.length&&"string"!==C(n)&&e(n)}))}(arguments),i&&!e&&l()),this},remove:function(){return T.each(arguments,(function(t,e){for(var i;(i=T.inArray(e,r,i))>-1;)r.splice(i,1),i<=o&&o--})),this},has:function(t){return t?T.inArray(t,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return s=a=[],r=i="",this},disabled:function(){return!r},lock:function(){return s=a=[],i||e||(r=i=""),this},locked:function(){return!!s},fireWith:function(t,i){return s||(i=[t,(i=i||[]).slice?i.slice():i],a.push(i),e||l()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},T.extend({Deferred:function(t){var e=[["notify","progress",T.Callbacks("memory"),T.Callbacks("memory"),2],["resolve","done",T.Callbacks("once memory"),T.Callbacks("once memory"),0,"resolved"],["reject","fail",T.Callbacks("once memory"),T.Callbacks("once memory"),1,"rejected"]],i="pending",s={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},catch:function(t){return s.then(null,t)},pipe:function(){var t=arguments;return T.Deferred((function(i){T.each(e,(function(e,n){var s=x(t[n[4]])&&t[n[4]];r[n[1]]((function(){var t=s&&s.apply(this,arguments);t&&x(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[n[0]+"With"](this,s?[t]:arguments)}))})),t=null})).promise()},then:function(t,i,s){var r=0;function a(t,e,i,s){return function(){var o=this,l=arguments,h=function(){var n,h;if(!(t<r)){if((n=i.apply(o,l))===e.promise())throw new TypeError("Thenable self-resolution");h=n&&("object"==typeof n||"function"==typeof n)&&n.then,x(h)?s?h.call(n,a(r,e,_,s),a(r,e,B,s)):(r++,h.call(n,a(r,e,_,s),a(r,e,B,s),a(r,e,_,e.notifyWith))):(i!==_&&(o=void 0,l=[n]),(s||e.resolveWith)(o,l))}},c=s?h:function(){try{h()}catch(n){T.Deferred.exceptionHook&&T.Deferred.exceptionHook(n,c.stackTrace),t+1>=r&&(i!==B&&(o=void 0,l=[n]),e.rejectWith(o,l))}};t?c():(T.Deferred.getStackHook&&(c.stackTrace=T.Deferred.getStackHook()),n.setTimeout(c))}}return T.Deferred((function(n){e[0][3].add(a(0,n,x(s)?s:_,n.notifyWith)),e[1][3].add(a(0,n,x(t)?t:_)),e[2][3].add(a(0,n,x(i)?i:B))})).promise()},promise:function(t){return null!=t?T.extend(t,s):s}},r={};return T.each(e,(function(t,n){var a=n[2],o=n[5];s[n[1]]=a.add,o&&a.add((function(){i=o}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),a.add(n[3].fire),r[n[0]]=function(){return r[n[0]+"With"](this===r?void 0:this,arguments),this},r[n[0]+"With"]=a.fireWith})),s.promise(r),t&&t.call(r,r),r},when:function(t){var e=arguments.length,i=e,n=Array(i),s=o.call(arguments),r=T.Deferred(),a=function(t){return function(i){n[t]=this,s[t]=arguments.length>1?o.call(arguments):i,--e||r.resolveWith(n,s)}};if(e<=1&&(V(t,r.done(a(i)).resolve,r.reject,!e),"pending"===r.state()||x(s[i]&&s[i].then)))return r.then();for(;i--;)V(s[i],a(i),r.reject);return r.promise()}});var q=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;T.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&q.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},T.readyException=function(t){n.setTimeout((function(){throw t}))};var W=T.Deferred();function j(){y.removeEventListener("DOMContentLoaded",j),n.removeEventListener("load",j),T.ready()}T.fn.ready=function(t){return W.then(t).catch((function(t){T.readyException(t)})),this},T.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--T.readyWait:T.isReady)||(T.isReady=!0,!0!==t&&--T.readyWait>0||W.resolveWith(y,[T]))}}),T.ready.then=W.then,"complete"===y.readyState||"loading"!==y.readyState&&!y.documentElement.doScroll?n.setTimeout(T.ready):(y.addEventListener("DOMContentLoaded",j),n.addEventListener("load",j));var z=function(t,e,i,n,s,r,a){var o=0,l=t.length,h=null==i;if("object"===C(i))for(o in s=!0,i)z(t,e,o,i[o],!0,r,a);else if(void 0!==n&&(s=!0,x(n)||(a=!0),h&&(a?(e.call(t,n),e=null):(h=e,e=function(t,e,i){return h.call(T(t),i)})),e))for(;o<l;o++)e(t[o],i,a?n:n.call(t[o],o,e(t[o],i)));return s?t:h?e.call(t):l?e(t[0],i):r},H=/^-ms-/,U=/-([a-z])/g;function $(t,e){return e.toUpperCase()}function G(t){return t.replace(H,"ms-").replace(U,$)}var J=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function K(){this.expando=T.expando+K.uid++}K.uid=1,K.prototype={cache:function(t){var e=t[this.expando];return e||(e={},J(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,s=this.cache(t);if("string"==typeof e)s[G(e)]=i;else for(n in e)s[G(n)]=e[n];return s},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][G(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){i=(e=Array.isArray(e)?e.map(G):(e=G(e))in n?[e]:e.match(O)||[]).length;for(;i--;)delete n[e[i]]}(void 0===e||T.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!T.isEmptyObject(e)}};var Q=new K,Z=new K,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function it(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(i)}catch(t){}Z.set(t,e,i)}else i=void 0;return i}T.extend({hasData:function(t){return Z.hasData(t)||Q.hasData(t)},data:function(t,e,i){return Z.access(t,e,i)},removeData:function(t,e){Z.remove(t,e)},_data:function(t,e,i){return Q.access(t,e,i)},_removeData:function(t,e){Q.remove(t,e)}}),T.fn.extend({data:function(t,e){var i,n,s,r=this[0],a=r&&r.attributes;if(void 0===t){if(this.length&&(s=Z.get(r),1===r.nodeType&&!Q.get(r,"hasDataAttrs"))){for(i=a.length;i--;)a[i]&&0===(n=a[i].name).indexOf("data-")&&(n=G(n.slice(5)),it(r,n,s[n]));Q.set(r,"hasDataAttrs",!0)}return s}return"object"==typeof t?this.each((function(){Z.set(this,t)})):z(this,(function(e){var i;if(r&&void 0===e)return void 0!==(i=Z.get(r,t))||void 0!==(i=it(r,t))?i:void 0;this.each((function(){Z.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){Z.remove(this,t)}))}}),T.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=Q.get(t,e),i&&(!n||Array.isArray(i)?n=Q.access(t,e,T.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=T.queue(t,e),n=i.length,s=i.shift(),r=T._queueHooks(t,e);"inprogress"===s&&(s=i.shift(),n--),s&&("fx"===e&&i.unshift("inprogress"),delete r.stop,s.call(t,(function(){T.dequeue(t,e)}),r)),!n&&r&&r.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return Q.get(t,i)||Q.access(t,i,{empty:T.Callbacks("once memory").add((function(){Q.remove(t,[e+"queue",i])}))})}}),T.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?T.queue(this[0],t):void 0===e?this:this.each((function(){var i=T.queue(this,t,e);T._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&T.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){T.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,s=T.Deferred(),r=this,a=this.length,o=function(){--n||s.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(i=Q.get(r[a],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(o));return o(),s.promise(e)}});var nt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,st=new RegExp("^(?:([+-])=|)("+nt+")([a-z%]*)$","i"),rt=["Top","Right","Bottom","Left"],at=y.documentElement,ot=function(t){return T.contains(t.ownerDocument,t)},lt={composed:!0};at.getRootNode&&(ot=function(t){return T.contains(t.ownerDocument,t)||t.getRootNode(lt)===t.ownerDocument});var ht=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&ot(t)&&"none"===T.css(t,"display")};function ct(t,e,i,n){var s,r,a=20,o=n?function(){return n.cur()}:function(){return T.css(t,e,"")},l=o(),h=i&&i[3]||(T.cssNumber[e]?"":"px"),c=t.nodeType&&(T.cssNumber[e]||"px"!==h&&+l)&&st.exec(T.css(t,e));if(c&&c[3]!==h){for(l/=2,h=h||c[3],c=+l||1;a--;)T.style(t,e,c+h),(1-r)*(1-(r=o()/l||.5))<=0&&(a=0),c/=r;c*=2,T.style(t,e,c+h),i=i||[]}return i&&(c=+c||+l||0,s=i[1]?c+(i[1]+1)*i[2]:+i[2],n&&(n.unit=h,n.start=c,n.end=s)),s}var ut={};function dt(t){var e,i=t.ownerDocument,n=t.nodeName,s=ut[n];return s||(e=i.body.appendChild(i.createElement(n)),s=T.css(e,"display"),e.parentNode.removeChild(e),"none"===s&&(s="block"),ut[n]=s,s)}function ft(t,e){for(var i,n,s=[],r=0,a=t.length;r<a;r++)(n=t[r]).style&&(i=n.style.display,e?("none"===i&&(s[r]=Q.get(n,"display")||null,s[r]||(n.style.display="")),""===n.style.display&&ht(n)&&(s[r]=dt(n))):"none"!==i&&(s[r]="none",Q.set(n,"display",i)));for(r=0;r<a;r++)null!=s[r]&&(t[r].style.display=s[r]);return t}T.fn.extend({show:function(){return ft(this,!0)},hide:function(){return ft(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){ht(this)?T(this).show():T(this).hide()}))}});var pt,mt,gt=/^(?:checkbox|radio)$/i,xt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,vt=/^$|^module$|\/(?:java|ecma)script/i;pt=y.createDocumentFragment().appendChild(y.createElement("div")),(mt=y.createElement("input")).setAttribute("type","radio"),mt.setAttribute("checked","checked"),mt.setAttribute("name","t"),pt.appendChild(mt),g.checkClone=pt.cloneNode(!0).cloneNode(!0).lastChild.checked,pt.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!pt.cloneNode(!0).lastChild.defaultValue,pt.innerHTML="<option></option>",g.option=!!pt.lastChild;var yt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function bt(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&I(t,e)?T.merge([t],i):i}function wt(t,e){for(var i=0,n=t.length;i<n;i++)Q.set(t[i],"globalEval",!e||Q.get(e[i],"globalEval"))}yt.tbody=yt.tfoot=yt.colgroup=yt.caption=yt.thead,yt.th=yt.td,g.option||(yt.optgroup=yt.option=[1,"<select multiple='multiple'>","</select>"]);var Ct=/<|&#?\w+;/;function At(t,e,i,n,s){for(var r,a,o,l,h,c,u=e.createDocumentFragment(),d=[],f=0,p=t.length;f<p;f++)if((r=t[f])||0===r)if("object"===C(r))T.merge(d,r.nodeType?[r]:r);else if(Ct.test(r)){for(a=a||u.appendChild(e.createElement("div")),o=(xt.exec(r)||["",""])[1].toLowerCase(),l=yt[o]||yt._default,a.innerHTML=l[1]+T.htmlPrefilter(r)+l[2],c=l[0];c--;)a=a.lastChild;T.merge(d,a.childNodes),(a=u.firstChild).textContent=""}else d.push(e.createTextNode(r));for(u.textContent="",f=0;r=d[f++];)if(n&&T.inArray(r,n)>-1)s&&s.push(r);else if(h=ot(r),a=bt(u.appendChild(r),"script"),h&&wt(a),i)for(c=0;r=a[c++];)vt.test(r.type||"")&&i.push(r);return u}var Tt=/^([^.]*)(?:\.(.+)|)/;function St(){return!0}function kt(){return!1}function Et(t,e){return t===function(){try{return y.activeElement}catch(t){}}()==("focus"===e)}function Mt(t,e,i,n,s,r){var a,o;if("object"==typeof e){for(o in"string"!=typeof i&&(n=n||i,i=void 0),e)Mt(t,o,i,n,e[o],r);return t}if(null==n&&null==s?(s=i,n=i=void 0):null==s&&("string"==typeof i?(s=n,n=void 0):(s=n,n=i,i=void 0)),!1===s)s=kt;else if(!s)return t;return 1===r&&(a=s,s=function(t){return T().off(t),a.apply(this,arguments)},s.guid=a.guid||(a.guid=T.guid++)),t.each((function(){T.event.add(this,e,s,n,i)}))}function Rt(t,e,i){i?(Q.set(t,e,!1),T.event.add(t,e,{namespace:!1,handler:function(t){var n,s,r=Q.get(this,e);if(1&t.isTrigger&&this[e]){if(r.length)(T.event.special[e]||{}).delegateType&&t.stopPropagation();else if(r=o.call(arguments),Q.set(this,e,r),n=i(this,e),this[e](),r!==(s=Q.get(this,e))||n?Q.set(this,e,!1):s={},r!==s)return t.stopImmediatePropagation(),t.preventDefault(),s&&s.value}else r.length&&(Q.set(this,e,{value:T.event.trigger(T.extend(r[0],T.Event.prototype),r.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Q.get(t,e)&&T.event.add(t,e,St)}T.event={global:{},add:function(t,e,i,n,s){var r,a,o,l,h,c,u,d,f,p,m,g=Q.get(t);if(J(t))for(i.handler&&(i=(r=i).handler,s=r.selector),s&&T.find.matchesSelector(at,s),i.guid||(i.guid=T.guid++),(l=g.events)||(l=g.events=Object.create(null)),(a=g.handle)||(a=g.handle=function(e){return void 0!==T&&T.event.triggered!==e.type?T.event.dispatch.apply(t,arguments):void 0}),h=(e=(e||"").match(O)||[""]).length;h--;)f=m=(o=Tt.exec(e[h])||[])[1],p=(o[2]||"").split(".").sort(),f&&(u=T.event.special[f]||{},f=(s?u.delegateType:u.bindType)||f,u=T.event.special[f]||{},c=T.extend({type:f,origType:m,data:n,handler:i,guid:i.guid,selector:s,needsContext:s&&T.expr.match.needsContext.test(s),namespace:p.join(".")},r),(d=l[f])||((d=l[f]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,n,p,a)||t.addEventListener&&t.addEventListener(f,a)),u.add&&(u.add.call(t,c),c.handler.guid||(c.handler.guid=i.guid)),s?d.splice(d.delegateCount++,0,c):d.push(c),T.event.global[f]=!0)},remove:function(t,e,i,n,s){var r,a,o,l,h,c,u,d,f,p,m,g=Q.hasData(t)&&Q.get(t);if(g&&(l=g.events)){for(h=(e=(e||"").match(O)||[""]).length;h--;)if(f=m=(o=Tt.exec(e[h])||[])[1],p=(o[2]||"").split(".").sort(),f){for(u=T.event.special[f]||{},d=l[f=(n?u.delegateType:u.bindType)||f]||[],o=o[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=r=d.length;r--;)c=d[r],!s&&m!==c.origType||i&&i.guid!==c.guid||o&&!o.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(d.splice(r,1),c.selector&&d.delegateCount--,u.remove&&u.remove.call(t,c));a&&!d.length&&(u.teardown&&!1!==u.teardown.call(t,p,g.handle)||T.removeEvent(t,f,g.handle),delete l[f])}else for(f in l)T.event.remove(t,f+e[h],i,n,!0);T.isEmptyObject(l)&&Q.remove(t,"handle events")}},dispatch:function(t){var e,i,n,s,r,a,o=new Array(arguments.length),l=T.event.fix(t),h=(Q.get(this,"events")||Object.create(null))[l.type]||[],c=T.event.special[l.type]||{};for(o[0]=l,e=1;e<arguments.length;e++)o[e]=arguments[e];if(l.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,l)){for(a=T.event.handlers.call(this,l,h),e=0;(s=a[e++])&&!l.isPropagationStopped();)for(l.currentTarget=s.elem,i=0;(r=s.handlers[i++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==r.namespace&&!l.rnamespace.test(r.namespace)||(l.handleObj=r,l.data=r.data,void 0!==(n=((T.event.special[r.origType]||{}).handle||r.handler).apply(s.elem,o))&&!1===(l.result=n)&&(l.preventDefault(),l.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,l),l.result}},handlers:function(t,e){var i,n,s,r,a,o=[],l=e.delegateCount,h=t.target;if(l&&h.nodeType&&!("click"===t.type&&t.button>=1))for(;h!==this;h=h.parentNode||this)if(1===h.nodeType&&("click"!==t.type||!0!==h.disabled)){for(r=[],a={},i=0;i<l;i++)void 0===a[s=(n=e[i]).selector+" "]&&(a[s]=n.needsContext?T(s,this).index(h)>-1:T.find(s,this,null,[h]).length),a[s]&&r.push(n);r.length&&o.push({elem:h,handlers:r})}return h=this,l<e.length&&o.push({elem:h,handlers:e.slice(l)}),o},addProp:function(t,e){Object.defineProperty(T.Event.prototype,t,{enumerable:!0,configurable:!0,get:x(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[T.expando]?t:new T.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return gt.test(e.type)&&e.click&&I(e,"input")&&Rt(e,"click",St),!1},trigger:function(t){var e=this||t;return gt.test(e.type)&&e.click&&I(e,"input")&&Rt(e,"click"),!0},_default:function(t){var e=t.target;return gt.test(e.type)&&e.click&&I(e,"input")&&Q.get(e,"click")||I(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},T.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},T.Event=function(t,e){if(!(this instanceof T.Event))return new T.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?St:kt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&T.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[T.expando]=!0},T.Event.prototype={constructor:T.Event,isDefaultPrevented:kt,isPropagationStopped:kt,isImmediatePropagationStopped:kt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=St,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=St,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=St,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},T.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},T.event.addProp),T.each({focus:"focusin",blur:"focusout"},(function(t,e){T.event.special[t]={setup:function(){return Rt(this,t,Et),!1},trigger:function(){return Rt(this,t),!0},_default:function(e){return Q.get(e.target,t)},delegateType:e}})),T.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){T.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,s=t.relatedTarget,r=t.handleObj;return s&&(s===n||T.contains(n,s))||(t.type=r.origType,i=r.handler.apply(this,arguments),t.type=e),i}}})),T.fn.extend({on:function(t,e,i,n){return Mt(this,t,e,i,n)},one:function(t,e,i,n){return Mt(this,t,e,i,n,1)},off:function(t,e,i){var n,s;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,T(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(s in t)this.off(s,e,t[s]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=kt),this.each((function(){T.event.remove(this,t,i,e)}))}});var It=/<script|<style|<link/i,Lt=/checked\s*(?:[^=]|=\s*.checked.)/i,Pt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Dt(t,e){return I(t,"table")&&I(11!==e.nodeType?e:e.firstChild,"tr")&&T(t).children("tbody")[0]||t}function Ft(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Xt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Yt(t,e){var i,n,s,r,a,o;if(1===e.nodeType){if(Q.hasData(t)&&(o=Q.get(t).events))for(s in Q.remove(e,"handle events"),o)for(i=0,n=o[s].length;i<n;i++)T.event.add(e,s,o[s][i]);Z.hasData(t)&&(r=Z.access(t),a=T.extend({},r),Z.set(e,a))}}function Nt(t,e){var i=e.nodeName.toLowerCase();"input"===i&&gt.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function Ot(t,e,i,n){e=l(e);var s,r,a,o,h,c,u=0,d=t.length,f=d-1,p=e[0],m=x(p);if(m||d>1&&"string"==typeof p&&!g.checkClone&&Lt.test(p))return t.each((function(s){var r=t.eq(s);m&&(e[0]=p.call(this,s,r.html())),Ot(r,e,i,n)}));if(d&&(r=(s=At(e,t[0].ownerDocument,!1,t,n)).firstChild,1===s.childNodes.length&&(s=r),r||n)){for(o=(a=T.map(bt(s,"script"),Ft)).length;u<d;u++)h=s,u!==f&&(h=T.clone(h,!0,!0),o&&T.merge(a,bt(h,"script"))),i.call(t[u],h,u);if(o)for(c=a[a.length-1].ownerDocument,T.map(a,Xt),u=0;u<o;u++)h=a[u],vt.test(h.type||"")&&!Q.access(h,"globalEval")&&T.contains(c,h)&&(h.src&&"module"!==(h.type||"").toLowerCase()?T._evalUrl&&!h.noModule&&T._evalUrl(h.src,{nonce:h.nonce||h.getAttribute("nonce")},c):w(h.textContent.replace(Pt,""),h,c))}return t}function _t(t,e,i){for(var n,s=e?T.filter(e,t):t,r=0;null!=(n=s[r]);r++)i||1!==n.nodeType||T.cleanData(bt(n)),n.parentNode&&(i&&ot(n)&&wt(bt(n,"script")),n.parentNode.removeChild(n));return t}T.extend({htmlPrefilter:function(t){return t},clone:function(t,e,i){var n,s,r,a,o=t.cloneNode(!0),l=ot(t);if(!(g.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||T.isXMLDoc(t)))for(a=bt(o),n=0,s=(r=bt(t)).length;n<s;n++)Nt(r[n],a[n]);if(e)if(i)for(r=r||bt(t),a=a||bt(o),n=0,s=r.length;n<s;n++)Yt(r[n],a[n]);else Yt(t,o);return(a=bt(o,"script")).length>0&&wt(a,!l&&bt(t,"script")),o},cleanData:function(t){for(var e,i,n,s=T.event.special,r=0;void 0!==(i=t[r]);r++)if(J(i)){if(e=i[Q.expando]){if(e.events)for(n in e.events)s[n]?T.event.remove(i,n):T.removeEvent(i,n,e.handle);i[Q.expando]=void 0}i[Z.expando]&&(i[Z.expando]=void 0)}}}),T.fn.extend({detach:function(t){return _t(this,t,!0)},remove:function(t){return _t(this,t)},text:function(t){return z(this,(function(t){return void 0===t?T.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Ot(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Dt(this,t).appendChild(t)}))},prepend:function(){return Ot(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Dt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Ot(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Ot(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(T.cleanData(bt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return T.clone(this,t,e)}))},html:function(t){return z(this,(function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!It.test(t)&&!yt[(xt.exec(t)||["",""])[1].toLowerCase()]){t=T.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(T.cleanData(bt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Ot(this,arguments,(function(e){var i=this.parentNode;T.inArray(this,t)<0&&(T.cleanData(bt(this)),i&&i.replaceChild(e,this))}),t)}}),T.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){T.fn[t]=function(t){for(var i,n=[],s=T(t),r=s.length-1,a=0;a<=r;a++)i=a===r?this:this.clone(!0),T(s[a])[e](i),h.apply(n,i.get());return this.pushStack(n)}}));var Bt=new RegExp("^("+nt+")(?!px)[a-z%]+$","i"),Vt=/^--/,qt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Wt=function(t,e,i){var n,s,r={};for(s in e)r[s]=t.style[s],t.style[s]=e[s];for(s in n=i.call(t),e)t.style[s]=r[s];return n},jt=new RegExp(rt.join("|"),"i"),zt="[\\x20\\t\\r\\n\\f]",Ht=new RegExp("^"+zt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+zt+"+$","g");function Ut(t,e,i){var n,s,r,a,o=Vt.test(e),l=t.style;return(i=i||qt(t))&&(a=i.getPropertyValue(e)||i[e],o&&a&&(a=a.replace(Ht,"$1")||void 0),""!==a||ot(t)||(a=T.style(t,e)),!g.pixelBoxStyles()&&Bt.test(a)&&jt.test(e)&&(n=l.width,s=l.minWidth,r=l.maxWidth,l.minWidth=l.maxWidth=l.width=a,a=i.width,l.width=n,l.minWidth=s,l.maxWidth=r)),void 0!==a?a+"":a}function $t(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){h.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",at.appendChild(h).appendChild(c);var t=n.getComputedStyle(c);i="1%"!==t.top,l=12===e(t.marginLeft),c.style.right="60%",a=36===e(t.right),s=36===e(t.width),c.style.position="absolute",r=12===e(c.offsetWidth/3),at.removeChild(h),c=null}}function e(t){return Math.round(parseFloat(t))}var i,s,r,a,o,l,h=y.createElement("div"),c=y.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===c.style.backgroundClip,T.extend(g,{boxSizingReliable:function(){return t(),s},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),r},reliableTrDimensions:function(){var t,e,i,s;return null==o&&(t=y.createElement("table"),e=y.createElement("tr"),i=y.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",e.style.cssText="border:1px solid",e.style.height="1px",i.style.height="9px",i.style.display="block",at.appendChild(t).appendChild(e).appendChild(i),s=n.getComputedStyle(e),o=parseInt(s.height,10)+parseInt(s.borderTopWidth,10)+parseInt(s.borderBottomWidth,10)===e.offsetHeight,at.removeChild(t)),o}}))}();var Gt=["Webkit","Moz","ms"],Jt=y.createElement("div").style,Kt={};function Qt(t){return T.cssProps[t]||Kt[t]||(t in Jt?t:Kt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),i=Gt.length;i--;)if((t=Gt[i]+e)in Jt)return t}(t)||t)}var Zt=/^(none|table(?!-c[ea]).+)/,te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"};function ie(t,e,i){var n=st.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function ne(t,e,i,n,s,r){var a="width"===e?1:0,o=0,l=0;if(i===(n?"border":"content"))return 0;for(;a<4;a+=2)"margin"===i&&(l+=T.css(t,i+rt[a],!0,s)),n?("content"===i&&(l-=T.css(t,"padding"+rt[a],!0,s)),"margin"!==i&&(l-=T.css(t,"border"+rt[a]+"Width",!0,s))):(l+=T.css(t,"padding"+rt[a],!0,s),"padding"!==i?l+=T.css(t,"border"+rt[a]+"Width",!0,s):o+=T.css(t,"border"+rt[a]+"Width",!0,s));return!n&&r>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-r-l-o-.5))||0),l}function se(t,e,i){var n=qt(t),s=(!g.boxSizingReliable()||i)&&"border-box"===T.css(t,"boxSizing",!1,n),r=s,a=Ut(t,e,n),o="offset"+e[0].toUpperCase()+e.slice(1);if(Bt.test(a)){if(!i)return a;a="auto"}return(!g.boxSizingReliable()&&s||!g.reliableTrDimensions()&&I(t,"tr")||"auto"===a||!parseFloat(a)&&"inline"===T.css(t,"display",!1,n))&&t.getClientRects().length&&(s="border-box"===T.css(t,"boxSizing",!1,n),(r=o in t)&&(a=t[o])),(a=parseFloat(a)||0)+ne(t,e,i||(s?"border":"content"),r,n,a)+"px"}function re(t,e,i,n,s){return new re.prototype.init(t,e,i,n,s)}T.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=Ut(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var s,r,a,o=G(e),l=Vt.test(e),h=t.style;if(l||(e=Qt(o)),a=T.cssHooks[e]||T.cssHooks[o],void 0===i)return a&&"get"in a&&void 0!==(s=a.get(t,!1,n))?s:h[e];"string"==(r=typeof i)&&(s=st.exec(i))&&s[1]&&(i=ct(t,e,s),r="number"),null!=i&&i==i&&("number"!==r||l||(i+=s&&s[3]||(T.cssNumber[o]?"":"px")),g.clearCloneStyle||""!==i||0!==e.indexOf("background")||(h[e]="inherit"),a&&"set"in a&&void 0===(i=a.set(t,i,n))||(l?h.setProperty(e,i):h[e]=i))}},css:function(t,e,i,n){var s,r,a,o=G(e);return Vt.test(e)||(e=Qt(o)),(a=T.cssHooks[e]||T.cssHooks[o])&&"get"in a&&(s=a.get(t,!0,i)),void 0===s&&(s=Ut(t,e,n)),"normal"===s&&e in ee&&(s=ee[e]),""===i||i?(r=parseFloat(s),!0===i||isFinite(r)?r||0:s):s}}),T.each(["height","width"],(function(t,e){T.cssHooks[e]={get:function(t,i,n){if(i)return!Zt.test(T.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?se(t,e,n):Wt(t,te,(function(){return se(t,e,n)}))},set:function(t,i,n){var s,r=qt(t),a=!g.scrollboxSize()&&"absolute"===r.position,o=(a||n)&&"border-box"===T.css(t,"boxSizing",!1,r),l=n?ne(t,e,n,o,r):0;return o&&a&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(r[e])-ne(t,e,"border",!1,r)-.5)),l&&(s=st.exec(i))&&"px"!==(s[3]||"px")&&(t.style[e]=i,i=T.css(t,e)),ie(0,i,l)}}})),T.cssHooks.marginLeft=$t(g.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Ut(t,"marginLeft"))||t.getBoundingClientRect().left-Wt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),T.each({margin:"",padding:"",border:"Width"},(function(t,e){T.cssHooks[t+e]={expand:function(i){for(var n=0,s={},r="string"==typeof i?i.split(" "):[i];n<4;n++)s[t+rt[n]+e]=r[n]||r[n-2]||r[0];return s}},"margin"!==t&&(T.cssHooks[t+e].set=ie)})),T.fn.extend({css:function(t,e){return z(this,(function(t,e,i){var n,s,r={},a=0;if(Array.isArray(e)){for(n=qt(t),s=e.length;a<s;a++)r[e[a]]=T.css(t,e[a],!1,n);return r}return void 0!==i?T.style(t,e,i):T.css(t,e)}),t,e,arguments.length>1)}}),T.Tween=re,re.prototype={constructor:re,init:function(t,e,i,n,s,r){this.elem=t,this.prop=i,this.easing=s||T.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=r||(T.cssNumber[i]?"":"px")},cur:function(){var t=re.propHooks[this.prop];return t&&t.get?t.get(this):re.propHooks._default.get(this)},run:function(t){var e,i=re.propHooks[this.prop];return this.options.duration?this.pos=e=T.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):re.propHooks._default.set(this),this}},re.prototype.init.prototype=re.prototype,re.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=T.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){T.fx.step[t.prop]?T.fx.step[t.prop](t):1!==t.elem.nodeType||!T.cssHooks[t.prop]&&null==t.elem.style[Qt(t.prop)]?t.elem[t.prop]=t.now:T.style(t.elem,t.prop,t.now+t.unit)}}},re.propHooks.scrollTop=re.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},T.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},T.fx=re.prototype.init,T.fx.step={};var ae,oe,le=/^(?:toggle|show|hide)$/,he=/queueHooks$/;function ce(){oe&&(!1===y.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ce):n.setTimeout(ce,T.fx.interval),T.fx.tick())}function ue(){return n.setTimeout((function(){ae=void 0})),ae=Date.now()}function de(t,e){var i,n=0,s={height:t};for(e=e?1:0;n<4;n+=2-e)s["margin"+(i=rt[n])]=s["padding"+i]=t;return e&&(s.opacity=s.width=t),s}function fe(t,e,i){for(var n,s=(pe.tweeners[e]||[]).concat(pe.tweeners["*"]),r=0,a=s.length;r<a;r++)if(n=s[r].call(i,e,t))return n}function pe(t,e,i){var n,s,r=0,a=pe.prefilters.length,o=T.Deferred().always((function(){delete l.elem})),l=function(){if(s)return!1;for(var e=ae||ue(),i=Math.max(0,h.startTime+h.duration-e),n=1-(i/h.duration||0),r=0,a=h.tweens.length;r<a;r++)h.tweens[r].run(n);return o.notifyWith(t,[h,n,i]),n<1&&a?i:(a||o.notifyWith(t,[h,1,0]),o.resolveWith(t,[h]),!1)},h=o.promise({elem:t,props:T.extend({},e),opts:T.extend(!0,{specialEasing:{},easing:T.easing._default},i),originalProperties:e,originalOptions:i,startTime:ae||ue(),duration:i.duration,tweens:[],createTween:function(e,i){var n=T.Tween(t,h.opts,e,i,h.opts.specialEasing[e]||h.opts.easing);return h.tweens.push(n),n},stop:function(e){var i=0,n=e?h.tweens.length:0;if(s)return this;for(s=!0;i<n;i++)h.tweens[i].run(1);return e?(o.notifyWith(t,[h,1,0]),o.resolveWith(t,[h,e])):o.rejectWith(t,[h,e]),this}}),c=h.props;for(function(t,e){var i,n,s,r,a;for(i in t)if(s=e[n=G(i)],r=t[i],Array.isArray(r)&&(s=r[1],r=t[i]=r[0]),i!==n&&(t[n]=r,delete t[i]),(a=T.cssHooks[n])&&"expand"in a)for(i in r=a.expand(r),delete t[n],r)i in t||(t[i]=r[i],e[i]=s);else e[n]=s}(c,h.opts.specialEasing);r<a;r++)if(n=pe.prefilters[r].call(h,t,c,h.opts))return x(n.stop)&&(T._queueHooks(h.elem,h.opts.queue).stop=n.stop.bind(n)),n;return T.map(c,fe,h),x(h.opts.start)&&h.opts.start.call(t,h),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always),T.fx.timer(T.extend(l,{elem:t,anim:h,queue:h.opts.queue})),h}T.Animation=T.extend(pe,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return ct(i.elem,t,st.exec(e),i),i}]},tweener:function(t,e){x(t)?(e=t,t=["*"]):t=t.match(O);for(var i,n=0,s=t.length;n<s;n++)i=t[n],pe.tweeners[i]=pe.tweeners[i]||[],pe.tweeners[i].unshift(e)},prefilters:[function(t,e,i){var n,s,r,a,o,l,h,c,u="width"in e||"height"in e,d=this,f={},p=t.style,m=t.nodeType&&ht(t),g=Q.get(t,"fxshow");for(n in i.queue||(null==(a=T._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,o=a.empty.fire,a.empty.fire=function(){a.unqueued||o()}),a.unqueued++,d.always((function(){d.always((function(){a.unqueued--,T.queue(t,"fx").length||a.empty.fire()}))}))),e)if(s=e[n],le.test(s)){if(delete e[n],r=r||"toggle"===s,s===(m?"hide":"show")){if("show"!==s||!g||void 0===g[n])continue;m=!0}f[n]=g&&g[n]||T.style(t,n)}if((l=!T.isEmptyObject(e))||!T.isEmptyObject(f))for(n in u&&1===t.nodeType&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],null==(h=g&&g.display)&&(h=Q.get(t,"display")),"none"===(c=T.css(t,"display"))&&(h?c=h:(ft([t],!0),h=t.style.display||h,c=T.css(t,"display"),ft([t]))),("inline"===c||"inline-block"===c&&null!=h)&&"none"===T.css(t,"float")&&(l||(d.done((function(){p.display=h})),null==h&&(c=p.display,h="none"===c?"":c)),p.display="inline-block")),i.overflow&&(p.overflow="hidden",d.always((function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}))),l=!1,f)l||(g?"hidden"in g&&(m=g.hidden):g=Q.access(t,"fxshow",{display:h}),r&&(g.hidden=!m),m&&ft([t],!0),d.done((function(){for(n in m||ft([t]),Q.remove(t,"fxshow"),f)T.style(t,n,f[n])}))),l=fe(m?g[n]:0,n,d),n in g||(g[n]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?pe.prefilters.unshift(t):pe.prefilters.push(t)}}),T.speed=function(t,e,i){var n=t&&"object"==typeof t?T.extend({},t):{complete:i||!i&&e||x(t)&&t,duration:t,easing:i&&e||e&&!x(e)&&e};return T.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in T.fx.speeds?n.duration=T.fx.speeds[n.duration]:n.duration=T.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){x(n.old)&&n.old.call(this),n.queue&&T.dequeue(this,n.queue)},n},T.fn.extend({fadeTo:function(t,e,i,n){return this.filter(ht).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var s=T.isEmptyObject(t),r=T.speed(e,i,n),a=function(){var e=pe(this,T.extend({},t),r);(s||Q.get(this,"finish"))&&e.stop(!0)};return a.finish=a,s||!1===r.queue?this.each(a):this.queue(r.queue,a)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,s=null!=t&&t+"queueHooks",r=T.timers,a=Q.get(this);if(s)a[s]&&a[s].stop&&n(a[s]);else for(s in a)a[s]&&a[s].stop&&he.test(s)&&n(a[s]);for(s=r.length;s--;)r[s].elem!==this||null!=t&&r[s].queue!==t||(r[s].anim.stop(i),e=!1,r.splice(s,1));!e&&i||T.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,i=Q.get(this),n=i[t+"queue"],s=i[t+"queueHooks"],r=T.timers,a=n?n.length:0;for(i.finish=!0,T.queue(this,t,[]),s&&s.stop&&s.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<a;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish}))}}),T.each(["toggle","show","hide"],(function(t,e){var i=T.fn[e];T.fn[e]=function(t,n,s){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(de(e,!0),t,n,s)}})),T.each({slideDown:de("show"),slideUp:de("hide"),slideToggle:de("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){T.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}})),T.timers=[],T.fx.tick=function(){var t,e=0,i=T.timers;for(ae=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||T.fx.stop(),ae=void 0},T.fx.timer=function(t){T.timers.push(t),T.fx.start()},T.fx.interval=13,T.fx.start=function(){oe||(oe=!0,ce())},T.fx.stop=function(){oe=null},T.fx.speeds={slow:600,fast:200,_default:400},T.fn.delay=function(t,e){return t=T.fx&&T.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,i){var s=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(s)}}))},function(){var t=y.createElement("input"),e=y.createElement("select").appendChild(y.createElement("option"));t.type="checkbox",g.checkOn=""!==t.value,g.optSelected=e.selected,(t=y.createElement("input")).value="t",t.type="radio",g.radioValue="t"===t.value}();var me,ge=T.expr.attrHandle;T.fn.extend({attr:function(t,e){return z(this,T.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){T.removeAttr(this,t)}))}}),T.extend({attr:function(t,e,i){var n,s,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===t.getAttribute?T.prop(t,e,i):(1===r&&T.isXMLDoc(t)||(s=T.attrHooks[e.toLowerCase()]||(T.expr.match.bool.test(e)?me:void 0)),void 0!==i?null===i?void T.removeAttr(t,e):s&&"set"in s&&void 0!==(n=s.set(t,i,e))?n:(t.setAttribute(e,i+""),i):s&&"get"in s&&null!==(n=s.get(t,e))?n:null==(n=T.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!g.radioValue&&"radio"===e&&I(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,s=e&&e.match(O);if(s&&1===t.nodeType)for(;i=s[n++];)t.removeAttribute(i)}}),me={set:function(t,e,i){return!1===e?T.removeAttr(t,i):t.setAttribute(i,i),i}},T.each(T.expr.match.bool.source.match(/\w+/g),(function(t,e){var i=ge[e]||T.find.attr;ge[e]=function(t,e,n){var s,r,a=e.toLowerCase();return n||(r=ge[a],ge[a]=s,s=null!=i(t,e,n)?a:null,ge[a]=r),s}}));var xe=/^(?:input|select|textarea|button)$/i,ve=/^(?:a|area)$/i;function ye(t){return(t.match(O)||[]).join(" ")}function be(t){return t.getAttribute&&t.getAttribute("class")||""}function we(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(O)||[]}T.fn.extend({prop:function(t,e){return z(this,T.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[T.propFix[t]||t]}))}}),T.extend({prop:function(t,e,i){var n,s,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&T.isXMLDoc(t)||(e=T.propFix[e]||e,s=T.propHooks[e]),void 0!==i?s&&"set"in s&&void 0!==(n=s.set(t,i,e))?n:t[e]=i:s&&"get"in s&&null!==(n=s.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=T.find.attr(t,"tabindex");return e?parseInt(e,10):xe.test(t.nodeName)||ve.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(T.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),T.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){T.propFix[this.toLowerCase()]=this})),T.fn.extend({addClass:function(t){var e,i,n,s,r,a;return x(t)?this.each((function(e){T(this).addClass(t.call(this,e,be(this)))})):(e=we(t)).length?this.each((function(){if(n=be(this),i=1===this.nodeType&&" "+ye(n)+" "){for(r=0;r<e.length;r++)s=e[r],i.indexOf(" "+s+" ")<0&&(i+=s+" ");a=ye(i),n!==a&&this.setAttribute("class",a)}})):this},removeClass:function(t){var e,i,n,s,r,a;return x(t)?this.each((function(e){T(this).removeClass(t.call(this,e,be(this)))})):arguments.length?(e=we(t)).length?this.each((function(){if(n=be(this),i=1===this.nodeType&&" "+ye(n)+" "){for(r=0;r<e.length;r++)for(s=e[r];i.indexOf(" "+s+" ")>-1;)i=i.replace(" "+s+" "," ");a=ye(i),n!==a&&this.setAttribute("class",a)}})):this:this.attr("class","")},toggleClass:function(t,e){var i,n,s,r,a=typeof t,o="string"===a||Array.isArray(t);return x(t)?this.each((function(i){T(this).toggleClass(t.call(this,i,be(this),e),e)})):"boolean"==typeof e&&o?e?this.addClass(t):this.removeClass(t):(i=we(t),this.each((function(){if(o)for(r=T(this),s=0;s<i.length;s++)n=i[s],r.hasClass(n)?r.removeClass(n):r.addClass(n);else void 0!==t&&"boolean"!==a||((n=be(this))&&Q.set(this,"__className__",n),this.setAttribute&&this.setAttribute("class",n||!1===t?"":Q.get(this,"__className__")||""))})))},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+ye(be(i))+" ").indexOf(e)>-1)return!0;return!1}});var Ce=/\r/g;T.fn.extend({val:function(t){var e,i,n,s=this[0];return arguments.length?(n=x(t),this.each((function(i){var s;1===this.nodeType&&(null==(s=n?t.call(this,i,T(this).val()):t)?s="":"number"==typeof s?s+="":Array.isArray(s)&&(s=T.map(s,(function(t){return null==t?"":t+""}))),(e=T.valHooks[this.type]||T.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,s,"value")||(this.value=s))}))):s?(e=T.valHooks[s.type]||T.valHooks[s.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(s,"value"))?i:"string"==typeof(i=s.value)?i.replace(Ce,""):null==i?"":i:void 0}}),T.extend({valHooks:{option:{get:function(t){var e=T.find.attr(t,"value");return null!=e?e:ye(T.text(t))}},select:{get:function(t){var e,i,n,s=t.options,r=t.selectedIndex,a="select-one"===t.type,o=a?null:[],l=a?r+1:s.length;for(n=r<0?l:a?r:0;n<l;n++)if(((i=s[n]).selected||n===r)&&!i.disabled&&(!i.parentNode.disabled||!I(i.parentNode,"optgroup"))){if(e=T(i).val(),a)return e;o.push(e)}return o},set:function(t,e){for(var i,n,s=t.options,r=T.makeArray(e),a=s.length;a--;)((n=s[a]).selected=T.inArray(T.valHooks.option.get(n),r)>-1)&&(i=!0);return i||(t.selectedIndex=-1),r}}}}),T.each(["radio","checkbox"],(function(){T.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=T.inArray(T(t).val(),e)>-1}},g.checkOn||(T.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),g.focusin="onfocusin"in n;var Ae=/^(?:focusinfocus|focusoutblur)$/,Te=function(t){t.stopPropagation()};T.extend(T.event,{trigger:function(t,e,i,s){var r,a,o,l,h,c,u,d,p=[i||y],m=f.call(t,"type")?t.type:t,g=f.call(t,"namespace")?t.namespace.split("."):[];if(a=d=o=i=i||y,3!==i.nodeType&&8!==i.nodeType&&!Ae.test(m+T.event.triggered)&&(m.indexOf(".")>-1&&(g=m.split("."),m=g.shift(),g.sort()),h=m.indexOf(":")<0&&"on"+m,(t=t[T.expando]?t:new T.Event(m,"object"==typeof t&&t)).isTrigger=s?2:3,t.namespace=g.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:T.makeArray(e,[t]),u=T.event.special[m]||{},s||!u.trigger||!1!==u.trigger.apply(i,e))){if(!s&&!u.noBubble&&!v(i)){for(l=u.delegateType||m,Ae.test(l+m)||(a=a.parentNode);a;a=a.parentNode)p.push(a),o=a;o===(i.ownerDocument||y)&&p.push(o.defaultView||o.parentWindow||n)}for(r=0;(a=p[r++])&&!t.isPropagationStopped();)d=a,t.type=r>1?l:u.bindType||m,(c=(Q.get(a,"events")||Object.create(null))[t.type]&&Q.get(a,"handle"))&&c.apply(a,e),(c=h&&a[h])&&c.apply&&J(a)&&(t.result=c.apply(a,e),!1===t.result&&t.preventDefault());return t.type=m,s||t.isDefaultPrevented()||u._default&&!1!==u._default.apply(p.pop(),e)||!J(i)||h&&x(i[m])&&!v(i)&&((o=i[h])&&(i[h]=null),T.event.triggered=m,t.isPropagationStopped()&&d.addEventListener(m,Te),i[m](),t.isPropagationStopped()&&d.removeEventListener(m,Te),T.event.triggered=void 0,o&&(i[h]=o)),t.result}},simulate:function(t,e,i){var n=T.extend(new T.Event,i,{type:t,isSimulated:!0});T.event.trigger(n,null,e)}}),T.fn.extend({trigger:function(t,e){return this.each((function(){T.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var i=this[0];if(i)return T.event.trigger(t,e,i,!0)}}),g.focusin||T.each({focus:"focusin",blur:"focusout"},(function(t,e){var i=function(t){T.event.simulate(e,t.target,T.event.fix(t))};T.event.special[e]={setup:function(){var n=this.ownerDocument||this.document||this,s=Q.access(n,e);s||n.addEventListener(t,i,!0),Q.access(n,e,(s||0)+1)},teardown:function(){var n=this.ownerDocument||this.document||this,s=Q.access(n,e)-1;s?Q.access(n,e,s):(n.removeEventListener(t,i,!0),Q.remove(n,e))}}}));var Se=n.location,ke={guid:Date.now()},Ee=/\?/;T.parseXML=function(t){var e,i;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){}return i=e&&e.getElementsByTagName("parsererror")[0],e&&!i||T.error("Invalid XML: "+(i?T.map(i.childNodes,(function(t){return t.textContent})).join("\n"):t)),e};var Me=/\[\]$/,Re=/\r?\n/g,Ie=/^(?:submit|button|image|reset|file)$/i,Le=/^(?:input|select|textarea|keygen)/i;function Pe(t,e,i,n){var s;if(Array.isArray(e))T.each(e,(function(e,s){i||Me.test(t)?n(t,s):Pe(t+"["+("object"==typeof s&&null!=s?e:"")+"]",s,i,n)}));else if(i||"object"!==C(e))n(t,e);else for(s in e)Pe(t+"["+s+"]",e[s],i,n)}T.param=function(t,e){var i,n=[],s=function(t,e){var i=x(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!T.isPlainObject(t))T.each(t,(function(){s(this.name,this.value)}));else for(i in t)Pe(i,t[i],e,s);return n.join("&")},T.fn.extend({serialize:function(){return T.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=T.prop(this,"elements");return t?T.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!T(this).is(":disabled")&&Le.test(this.nodeName)&&!Ie.test(t)&&(this.checked||!gt.test(t))})).map((function(t,e){var i=T(this).val();return null==i?null:Array.isArray(i)?T.map(i,(function(t){return{name:e.name,value:t.replace(Re,"\r\n")}})):{name:e.name,value:i.replace(Re,"\r\n")}})).get()}});var De=/%20/g,Fe=/#.*$/,Xe=/([?&])_=[^&]*/,Ye=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ne=/^(?:GET|HEAD)$/,Oe=/^\/\//,_e={},Be={},Ve="*/".concat("*"),qe=y.createElement("a");function We(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,s=0,r=e.toLowerCase().match(O)||[];if(x(i))for(;n=r[s++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function je(t,e,i,n){var s={},r=t===Be;function a(o){var l;return s[o]=!0,T.each(t[o]||[],(function(t,o){var h=o(e,i,n);return"string"!=typeof h||r||s[h]?r?!(l=h):void 0:(e.dataTypes.unshift(h),a(h),!1)})),l}return a(e.dataTypes[0])||!s["*"]&&a("*")}function ze(t,e){var i,n,s=T.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((s[i]?t:n||(n={}))[i]=e[i]);return n&&T.extend(!0,t,n),t}qe.href=Se.href,T.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Se.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Se.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ve,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":T.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?ze(ze(t,T.ajaxSettings),e):ze(T.ajaxSettings,t)},ajaxPrefilter:We(_e),ajaxTransport:We(Be),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,s,r,a,o,l,h,c,u,d,f=T.ajaxSetup({},e),p=f.context||f,m=f.context&&(p.nodeType||p.jquery)?T(p):T.event,g=T.Deferred(),x=T.Callbacks("once memory"),v=f.statusCode||{},b={},w={},C="canceled",A={readyState:0,getResponseHeader:function(t){var e;if(h){if(!a)for(a={};e=Ye.exec(r);)a[e[1].toLowerCase()+" "]=(a[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=a[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return h?r:null},setRequestHeader:function(t,e){return null==h&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==h&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(h)A.always(t[A.status]);else for(e in t)v[e]=[v[e],t[e]];return this},abort:function(t){var e=t||C;return i&&i.abort(e),S(0,e),this}};if(g.promise(A),f.url=((t||f.url||Se.href)+"").replace(Oe,Se.protocol+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(O)||[""],null==f.crossDomain){l=y.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=qe.protocol+"//"+qe.host!=l.protocol+"//"+l.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=T.param(f.data,f.traditional)),je(_e,f,e,A),h)return A;for(u in(c=T.event&&f.global)&&0==T.active++&&T.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Ne.test(f.type),s=f.url.replace(Fe,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(De,"+")):(d=f.url.slice(s.length),f.data&&(f.processData||"string"==typeof f.data)&&(s+=(Ee.test(s)?"&":"?")+f.data,delete f.data),!1===f.cache&&(s=s.replace(Xe,"$1"),d=(Ee.test(s)?"&":"?")+"_="+ke.guid+++d),f.url=s+d),f.ifModified&&(T.lastModified[s]&&A.setRequestHeader("If-Modified-Since",T.lastModified[s]),T.etag[s]&&A.setRequestHeader("If-None-Match",T.etag[s])),(f.data&&f.hasContent&&!1!==f.contentType||e.contentType)&&A.setRequestHeader("Content-Type",f.contentType),A.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ve+"; q=0.01":""):f.accepts["*"]),f.headers)A.setRequestHeader(u,f.headers[u]);if(f.beforeSend&&(!1===f.beforeSend.call(p,A,f)||h))return A.abort();if(C="abort",x.add(f.complete),A.done(f.success),A.fail(f.error),i=je(Be,f,e,A)){if(A.readyState=1,c&&m.trigger("ajaxSend",[A,f]),h)return A;f.async&&f.timeout>0&&(o=n.setTimeout((function(){A.abort("timeout")}),f.timeout));try{h=!1,i.send(b,S)}catch(t){if(h)throw t;S(-1,t)}}else S(-1,"No Transport");function S(t,e,a,l){var u,d,y,b,w,C=e;h||(h=!0,o&&n.clearTimeout(o),i=void 0,r=l||"",A.readyState=t>0?4:0,u=t>=200&&t<300||304===t,a&&(b=function(t,e,i){for(var n,s,r,a,o=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(s in o)if(o[s]&&o[s].test(n)){l.unshift(s);break}if(l[0]in i)r=l[0];else{for(s in i){if(!l[0]||t.converters[s+" "+l[0]]){r=s;break}a||(a=s)}r=r||a}if(r)return r!==l[0]&&l.unshift(r),i[r]}(f,A,a)),!u&&T.inArray("script",f.dataTypes)>-1&&T.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),b=function(t,e,i,n){var s,r,a,o,l,h={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)h[a.toLowerCase()]=t.converters[a];for(r=c.shift();r;)if(t.responseFields[r]&&(i[t.responseFields[r]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=c.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=h[l+" "+r]||h["* "+r]))for(s in h)if((o=s.split(" "))[1]===r&&(a=h[l+" "+o[0]]||h["* "+o[0]])){!0===a?a=h[s]:!0!==h[s]&&(r=o[0],c.unshift(o[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}(f,b,A,u),u?(f.ifModified&&((w=A.getResponseHeader("Last-Modified"))&&(T.lastModified[s]=w),(w=A.getResponseHeader("etag"))&&(T.etag[s]=w)),204===t||"HEAD"===f.type?C="nocontent":304===t?C="notmodified":(C=b.state,d=b.data,u=!(y=b.error))):(y=C,!t&&C||(C="error",t<0&&(t=0))),A.status=t,A.statusText=(e||C)+"",u?g.resolveWith(p,[d,C,A]):g.rejectWith(p,[A,C,y]),A.statusCode(v),v=void 0,c&&m.trigger(u?"ajaxSuccess":"ajaxError",[A,f,u?d:y]),x.fireWith(p,[A,C]),c&&(m.trigger("ajaxComplete",[A,f]),--T.active||T.event.trigger("ajaxStop")))}return A},getJSON:function(t,e,i){return T.get(t,e,i,"json")},getScript:function(t,e){return T.get(t,void 0,e,"script")}}),T.each(["get","post"],(function(t,e){T[e]=function(t,i,n,s){return x(i)&&(s=s||n,n=i,i=void 0),T.ajax(T.extend({url:t,type:e,dataType:s,data:i,success:n},T.isPlainObject(t)&&t))}})),T.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),T._evalUrl=function(t,e,i){return T.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){T.globalEval(t,e,i)}})},T.fn.extend({wrapAll:function(t){var e;return this[0]&&(x(t)&&(t=t.call(this[0])),e=T(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return x(t)?this.each((function(e){T(this).wrapInner(t.call(this,e))})):this.each((function(){var e=T(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)}))},wrap:function(t){var e=x(t);return this.each((function(i){T(this).wrapAll(e?t.call(this,i):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){T(this).replaceWith(this.childNodes)})),this}}),T.expr.pseudos.hidden=function(t){return!T.expr.pseudos.visible(t)},T.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},T.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var He={0:200,1223:204},Ue=T.ajaxSettings.xhr();g.cors=!!Ue&&"withCredentials"in Ue,g.ajax=Ue=!!Ue,T.ajaxTransport((function(t){var e,i;if(g.cors||Ue&&!t.crossDomain)return{send:function(s,r){var a,o=t.xhr();if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)o[a]=t.xhrFields[a];for(a in t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest"),s)o.setRequestHeader(a,s[a]);e=function(t){return function(){e&&(e=i=o.onload=o.onerror=o.onabort=o.ontimeout=o.onreadystatechange=null,"abort"===t?o.abort():"error"===t?"number"!=typeof o.status?r(0,"error"):r(o.status,o.statusText):r(He[o.status]||o.status,o.statusText,"text"!==(o.responseType||"text")||"string"!=typeof o.responseText?{binary:o.response}:{text:o.responseText},o.getAllResponseHeaders()))}},o.onload=e(),i=o.onerror=o.ontimeout=e("error"),void 0!==o.onabort?o.onabort=i:o.onreadystatechange=function(){4===o.readyState&&n.setTimeout((function(){e&&i()}))},e=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),T.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),T.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return T.globalEval(t),t}}}),T.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),T.ajaxTransport("script",(function(t){var e,i;if(t.crossDomain||t.scriptAttrs)return{send:function(n,s){e=T("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&s("error"===t.type?404:200,t.type)}),y.head.appendChild(e[0])},abort:function(){i&&i()}}}));var $e,Ge=[],Je=/(=)\?(?=&|$)|\?\?/;T.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ge.pop()||T.expando+"_"+ke.guid++;return this[t]=!0,t}}),T.ajaxPrefilter("json jsonp",(function(t,e,i){var s,r,a,o=!1!==t.jsonp&&(Je.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Je.test(t.data)&&"data");if(o||"jsonp"===t.dataTypes[0])return s=t.jsonpCallback=x(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(Je,"$1"+s):!1!==t.jsonp&&(t.url+=(Ee.test(t.url)?"&":"?")+t.jsonp+"="+s),t.converters["script json"]=function(){return a||T.error(s+" was not called"),a[0]},t.dataTypes[0]="json",r=n[s],n[s]=function(){a=arguments},i.always((function(){void 0===r?T(n).removeProp(s):n[s]=r,t[s]&&(t.jsonpCallback=e.jsonpCallback,Ge.push(s)),a&&x(r)&&r(a[0]),a=r=void 0})),"script"})),g.createHTMLDocument=(($e=y.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===$e.childNodes.length),T.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(g.createHTMLDocument?((n=(e=y.implementation.createHTMLDocument("")).createElement("base")).href=y.location.href,e.head.appendChild(n)):e=y),r=!i&&[],(s=L.exec(t))?[e.createElement(s[1])]:(s=At([t],e,r),r&&r.length&&T(r).remove(),T.merge([],s.childNodes)));var n,s,r},T.fn.load=function(t,e,i){var n,s,r,a=this,o=t.indexOf(" ");return o>-1&&(n=ye(t.slice(o)),t=t.slice(0,o)),x(e)?(i=e,e=void 0):e&&"object"==typeof e&&(s="POST"),a.length>0&&T.ajax({url:t,type:s||"GET",dataType:"html",data:e}).done((function(t){r=arguments,a.html(n?T("<div>").append(T.parseHTML(t)).find(n):t)})).always(i&&function(t,e){a.each((function(){i.apply(this,r||[t.responseText,e,t])}))}),this},T.expr.pseudos.animated=function(t){return T.grep(T.timers,(function(e){return t===e.elem})).length},T.offset={setOffset:function(t,e,i){var n,s,r,a,o,l,h=T.css(t,"position"),c=T(t),u={};"static"===h&&(t.style.position="relative"),o=c.offset(),r=T.css(t,"top"),l=T.css(t,"left"),("absolute"===h||"fixed"===h)&&(r+l).indexOf("auto")>-1?(a=(n=c.position()).top,s=n.left):(a=parseFloat(r)||0,s=parseFloat(l)||0),x(e)&&(e=e.call(t,i,T.extend({},o))),null!=e.top&&(u.top=e.top-o.top+a),null!=e.left&&(u.left=e.left-o.left+s),"using"in e?e.using.call(t,u):c.css(u)}},T.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){T.offset.setOffset(this,t,e)}));var e,i,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,n=this[0],s={top:0,left:0};if("fixed"===T.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),i=n.ownerDocument,t=n.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===T.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&((s=T(t).offset()).top+=T.css(t,"borderTopWidth",!0),s.left+=T.css(t,"borderLeftWidth",!0))}return{top:e.top-s.top-T.css(n,"marginTop",!0),left:e.left-s.left-T.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===T.css(t,"position");)t=t.offsetParent;return t||at}))}}),T.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var i="pageYOffset"===e;T.fn[t]=function(n){return z(this,(function(t,n,s){var r;if(v(t)?r=t:9===t.nodeType&&(r=t.defaultView),void 0===s)return r?r[e]:t[n];r?r.scrollTo(i?r.pageXOffset:s,i?s:r.pageYOffset):t[n]=s}),t,n,arguments.length)}})),T.each(["top","left"],(function(t,e){T.cssHooks[e]=$t(g.pixelPosition,(function(t,i){if(i)return i=Ut(t,e),Bt.test(i)?T(t).position()[e]+"px":i}))})),T.each({Height:"height",Width:"width"},(function(t,e){T.each({padding:"inner"+t,content:e,"":"outer"+t},(function(i,n){T.fn[n]=function(s,r){var a=arguments.length&&(i||"boolean"!=typeof s),o=i||(!0===s||!0===r?"margin":"border");return z(this,(function(e,i,s){var r;return v(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===s?T.css(e,i,o):T.style(e,i,s,o)}),e,a?s:void 0,a)}}))})),T.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){T.fn[e]=function(t){return this.on(e,t)}})),T.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),T.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){T.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}));var Ke=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;T.proxy=function(t,e){var i,n,s;if("string"==typeof e&&(i=t[e],e=t,t=i),x(t))return n=o.call(arguments,2),s=function(){return t.apply(e||this,n.concat(o.call(arguments)))},s.guid=t.guid=t.guid||T.guid++,s},T.holdReady=function(t){t?T.readyWait++:T.ready(!0)},T.isArray=Array.isArray,T.parseJSON=JSON.parse,T.nodeName=I,T.isFunction=x,T.isWindow=v,T.camelCase=G,T.type=C,T.now=Date.now,T.isNumeric=function(t){var e=T.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},T.trim=function(t){return null==t?"":(t+"").replace(Ke,"$1")},void 0===(i=function(){return T}.apply(e,[]))||(t.exports=i);var Qe=n.jQuery,Ze=n.$;return T.noConflict=function(t){return n.$===T&&(n.$=Ze),t&&n.jQuery===T&&(n.jQuery=Qe),T},void 0===s&&(n.jQuery=n.$=T),T}))}},i={};function n(t){var s=i[t];if(void 0!==s)return s.exports;var r=i[t]={exports:{}};return e[t].call(r.exports,r,r.exports,n),r.exports}(()=>{"use strict";class t{entries={};size=0;add(t){let e=this.entries[t];return this.entries[t]=!0,!e&&(this.size++,!0)}addAll(t){let e=this.size;for(var i=0,n=t.length;i<n;i++)this.add(t[i]);return e!=this.size}contains(t){return this.entries[t]}clear(){this.entries={},this.size=0}}class e{r;g;b;a;static WHITE=new e(1,1,1,1);static RED=new e(1,0,0,1);static GREEN=new e(0,1,0,1);static BLUE=new e(0,0,1,1);static MAGENTA=new e(1,0,1,1);constructor(t=0,e=0,i=0,n=0){this.r=t,this.g=e,this.b=i,this.a=n}set(t,e,i,n){return this.r=t,this.g=e,this.b=i,this.a=n,this.clamp()}setFromColor(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this}setFromString(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=8!=t.length?1:parseInt(t.substr(6,2),16)/255,this}add(t,e,i,n){return this.r+=t,this.g+=e,this.b+=i,this.a+=n,this.clamp()}clamp(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this}static rgba8888ToColor(t,e){t.r=((4278190080&e)>>>24)/255,t.g=((16711680&e)>>>16)/255,t.b=((65280&e)>>>8)/255,t.a=(255&e)/255}static rgb888ToColor(t,e){t.r=((16711680&e)>>>16)/255,t.g=((65280&e)>>>8)/255,t.b=(255&e)/255}static fromString(t){return(new e).setFromString(t)}}class i{static PI=3.1415927;static PI2=2*i.PI;static invPI2=1/i.PI2;static radiansToDegrees=180/i.PI;static radDeg=i.radiansToDegrees;static degreesToRadians=i.PI/180;static degRad=i.degreesToRadians;static clamp(t,e,i){return t<e?e:t>i?i:t}static cosDeg(t){return Math.cos(t*i.degRad)}static sinDeg(t){return Math.sin(t*i.degRad)}static atan2Deg(t,e){return Math.atan2(t,e)*i.degRad}static signum(t){return t>0?1:t<0?-1:0}static toInt(t){return t>0?Math.floor(t):Math.ceil(t)}static cbrt(t){let e=Math.pow(Math.abs(t),1/3);return t<0?-e:e}static randomTriangular(t,e){return i.randomTriangularWith(t,e,.5*(t+e))}static randomTriangularWith(t,e,i){let n=Math.random(),s=e-t;return n<=(i-t)/s?t+Math.sqrt(n*s*(i-t)):e-Math.sqrt((1-n)*s*(e-i))}static isPowerOfTwo(t){return t&&0==(t&t-1)}}class s{static SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array;static arrayCopy(t,e,i,n,s){for(let r=e,a=n;r<e+s;r++,a++)i[a]=t[r]}static arrayFill(t,e,i,n){for(let s=e;s<i;s++)t[s]=n}static setArraySize(t,e,i=0){let n=t.length;if(n==e)return t;if(t.length=e,n<e)for(let s=n;s<e;s++)t[s]=i;return t}static ensureArrayCapacity(t,e,i=0){return t.length>=e?t:s.setArraySize(t,e,i)}static newArray(t,e){let i=new Array(t);for(let n=0;n<t;n++)i[n]=e;return i}static newFloatArray(t){if(s.SUPPORTS_TYPED_ARRAYS)return new Float32Array(t);{let e=new Array(t);for(let t=0;t<e.length;t++)e[t]=0;return e}}static newShortArray(t){if(s.SUPPORTS_TYPED_ARRAYS)return new Int16Array(t);{let e=new Array(t);for(let t=0;t<e.length;t++)e[t]=0;return e}}static toFloatArray(t){return s.SUPPORTS_TYPED_ARRAYS?new Float32Array(t):t}static toSinglePrecision(t){return s.SUPPORTS_TYPED_ARRAYS?Math.fround(t):t}static webkit602BugfixHelper(t,e){}static contains(t,e,i=!0){for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1}static enumValue(t,e){return t[e[0].toUpperCase()+e.slice(1)]}}class r{items=new Array;instantiator;constructor(t){this.instantiator=t}obtain(){return this.items.length>0?this.items.pop():this.instantiator()}free(t){t.reset&&t.reset(),this.items.push(t)}freeAll(t){for(let e=0;e<t.length;e++)this.free(t[e])}clear(){this.items.length=0}}class a{x;y;constructor(t=0,e=0){this.x=t,this.y=e}set(t,e){return this.x=t,this.y=e,this}length(){let t=this.x,e=this.y;return Math.sqrt(t*t+e*e)}normalize(){let t=this.length();return 0!=t&&(this.x/=t,this.y/=t),this}}class o{maxDelta=.064;framesPerSecond=0;delta=0;totalTime=0;lastTime=Date.now()/1e3;frameCount=0;frameTime=0;update(){let t=Date.now()/1e3;this.delta=t-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=t,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)}}class l{name;constructor(t){if(!t)throw new Error("name cannot be null.");this.name=t}}class h extends l{static nextID=0;id=h.nextID++;bones=null;vertices=[];worldVerticesLength=0;timelineAttachment=this;constructor(t){super(t)}computeWorldVertices(t,e,i,n,s,r){i=s+(i>>1)*r;let a=t.bone.skeleton,o=t.deform,l=this.vertices,h=this.bones;if(!h){o.length>0&&(l=o);let a=t.bone,h=a.worldX,c=a.worldY,u=a.a,d=a.b,f=a.c,p=a.d;for(let t=e,a=s;a<i;t+=2,a+=r){let e=l[t],i=l[t+1];n[a]=e*u+i*d+h,n[a+1]=e*f+i*p+c}return}let c=0,u=0;for(let t=0;t<e;t+=2){let t=h[c];c+=t+1,u+=t}let d=a.bones;if(0==o.length)for(let t=s,e=3*u;t<i;t+=r){let i=0,s=0,r=h[c++];for(r+=c;c<r;c++,e+=3){let t=d[h[c]],n=l[e],r=l[e+1],a=l[e+2];i+=(n*t.a+r*t.b+t.worldX)*a,s+=(n*t.c+r*t.d+t.worldY)*a}n[t]=i,n[t+1]=s}else{let t=o;for(let e=s,a=3*u,o=u<<1;e<i;e+=r){let i=0,s=0,r=h[c++];for(r+=c;c<r;c++,a+=3,o+=2){let e=d[h[c]],n=l[a]+t[o],r=l[a+1]+t[o+1],u=l[a+2];i+=(n*e.a+r*e.b+e.worldX)*u,s+=(n*e.c+r*e.d+e.worldY)*u}n[e]=i,n[e+1]=s}}}copyTo(t){this.bones?(t.bones=new Array(this.bones.length),s.arrayCopy(this.bones,0,t.bones,0,this.bones.length)):t.bones=null,this.vertices&&(t.vertices=s.newFloatArray(this.vertices.length),s.arrayCopy(this.vertices,0,t.vertices,0,this.vertices.length)),t.worldVerticesLength=this.worldVerticesLength,t.timelineAttachment=this.timelineAttachment}}class c{static _nextID=0;id=c.nextID();regions;start=0;digits=0;setupIndex=0;constructor(t){this.regions=new Array(t)}copy(){let t=new c(this.regions.length);return s.arrayCopy(this.regions,0,t.regions,0,this.regions.length),t.start=this.start,t.digits=this.digits,t.setupIndex=this.setupIndex,t}apply(t,e){let i=t.sequenceIndex;-1==i&&(i=this.setupIndex),i>=this.regions.length&&(i=this.regions.length-1);let n=this.regions[i];e.region!=n&&(e.region=n,e.updateRegion())}getPath(t,e){let i=t,n=(this.start+e).toString();for(let t=this.digits-n.length;t>0;t--)i+="0";return i+=n,i}static nextID(){return c._nextID++}}var u;!function(t){t[t.hold=0]="hold",t[t.once=1]="once",t[t.loop=2]="loop",t[t.pingpong=3]="pingpong",t[t.onceReverse=4]="onceReverse",t[t.loopReverse=5]="loopReverse",t[t.pingpongReverse=6]="pingpongReverse"}(u||(u={}));const d=[u.hold,u.once,u.loop,u.pingpong,u.onceReverse,u.loopReverse,u.pingpongReverse];class f{name;timelines=[];timelineIds=new t;duration;constructor(t,e,i){if(!t)throw new Error("name cannot be null.");this.name=t,this.setTimelines(e),this.duration=i}setTimelines(t){if(!t)throw new Error("timelines cannot be null.");this.timelines=t,this.timelineIds.clear();for(var e=0;e<t.length;e++)this.timelineIds.addAll(t[e].getPropertyIds())}hasTimeline(t){for(let e=0;e<t.length;e++)if(this.timelineIds.contains(t[e]))return!0;return!1}apply(t,e,i,n,s,r,a,o){if(!t)throw new Error("skeleton cannot be null.");n&&0!=this.duration&&(i%=this.duration,e>0&&(e%=this.duration));let l=this.timelines;for(let n=0,h=l.length;n<h;n++)l[n].apply(t,e,i,s,r,a,o)}}var p,m;!function(t){t[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add"}(p||(p={})),function(t){t[t.mixIn=0]="mixIn",t[t.mixOut=1]="mixOut"}(m||(m={}));const g={rotate:0,x:1,y:2,scaleX:3,scaleY:4,shearX:5,shearY:6,inherit:7,rgb:8,alpha:9,rgb2:10,attachment:11,deform:12,event:13,drawOrder:14,ikConstraint:15,transformConstraint:16,pathConstraintPosition:17,pathConstraintSpacing:18,pathConstraintMix:19,physicsConstraintInertia:20,physicsConstraintStrength:21,physicsConstraintDamping:22,physicsConstraintMass:23,physicsConstraintWind:24,physicsConstraintGravity:25,physicsConstraintMix:26,physicsConstraintReset:27,sequence:28};class x{propertyIds;frames;constructor(t,e){this.propertyIds=e,this.frames=s.newFloatArray(t*this.getFrameEntries())}getPropertyIds(){return this.propertyIds}getFrameEntries(){return 1}getFrameCount(){return this.frames.length/this.getFrameEntries()}getDuration(){return this.frames[this.frames.length-this.getFrameEntries()]}static search1(t,e){let i=t.length;for(let n=1;n<i;n++)if(t[n]>e)return n-1;return i-1}static search(t,e,i){let n=t.length;for(let s=i;s<n;s+=i)if(t[s]>e)return s-i;return n-i}}class v extends x{curves;constructor(t,e,i){super(t,i),this.curves=s.newFloatArray(t+18*e),this.curves[t-1]=1}setLinear(t){this.curves[t]=0}setStepped(t){this.curves[t]=1}shrink(t){let e=this.getFrameCount()+18*t;if(this.curves.length>e){let t=s.newFloatArray(e);s.arrayCopy(this.curves,0,t,0,e),this.curves=t}}setBezier(t,e,i,n,s,r,a,o,l,h,c){let u=this.curves,d=this.getFrameCount()+18*t;0==i&&(u[e]=2+d);let f=.03*(n-2*r+o),p=.03*(s-2*a+l),m=.006*(3*(r-o)-n+h),g=.006*(3*(a-l)-s+c),x=2*f+m,v=2*p+g,y=.3*(r-n)+f+.16666667*m,b=.3*(a-s)+p+.16666667*g,w=n+y,C=s+b;for(let t=d+18;d<t;d+=2)u[d]=w,u[d+1]=C,y+=x,b+=v,x+=m,v+=g,w+=y,C+=b}getBezierValue(t,e,i,n){let s=this.curves;if(s[n]>t){let r=this.frames[e],a=this.frames[e+i];return a+(t-r)/(s[n]-r)*(s[n+1]-a)}let r=n+18;for(n+=2;n<r;n+=2)if(s[n]>=t){let e=s[n-2],i=s[n-1];return i+(t-e)/(s[n]-e)*(s[n+1]-i)}e+=this.getFrameEntries();let a=s[r-2],o=s[r-1];return o+(t-a)/(this.frames[e]-a)*(this.frames[e+i]-o)}}class y extends v{constructor(t,e,i){super(t,e,[i])}getFrameEntries(){return 2}setFrame(t,e,i){t<<=1,this.frames[t]=e,this.frames[t+1]=i}getCurveValue(t){let e=this.frames,i=e.length-2;for(let n=2;n<=i;n+=2)if(e[n]>t){i=n-2;break}let n=this.curves[i>>1];switch(n){case 0:let n=e[i],s=e[i+1];return s+(t-n)/(e[i+2]-n)*(e[i+2+1]-s);case 1:return e[i+1]}return this.getBezierValue(t,i,1,n-2)}getRelativeValue(t,e,i,n,s){if(t<this.frames[0]){switch(i){case p.setup:return s;case p.first:return n+(s-n)*e}return n}let r=this.getCurveValue(t);switch(i){case p.setup:return s+r*e;case p.first:case p.replace:r+=s-n}return n+r*e}getAbsoluteValue(t,e,i,n,s){if(t<this.frames[0]){switch(i){case p.setup:return s;case p.first:return n+(s-n)*e}return n}let r=this.getCurveValue(t);return i==p.setup?s+(r-s)*e:n+(r-n)*e}getAbsoluteValue2(t,e,i,n,s,r){if(t<this.frames[0]){switch(i){case p.setup:return s;case p.first:return n+(s-n)*e}return n}return i==p.setup?s+(r-s)*e:n+(r-n)*e}getScaleValue(t,e,n,s,r,a){if(t<this.frames[0]){switch(n){case p.setup:return a;case p.first:return r+(a-r)*e}return r}let o=this.getCurveValue(t)*a;if(1==e)return n==p.add?r+o-a:o;if(s==m.mixOut)switch(n){case p.setup:return a+(Math.abs(o)*i.signum(a)-a)*e;case p.first:case p.replace:return r+(Math.abs(o)*i.signum(r)-r)*e}else{let t=0;switch(n){case p.setup:return t=Math.abs(a)*i.signum(o),t+(o-t)*e;case p.first:case p.replace:return t=Math.abs(r)*i.signum(o),t+(o-t)*e}}return r+(o-a)*e}}class b extends v{constructor(t,e,i,n){super(t,e,[i,n])}getFrameEntries(){return 3}setFrame(t,e,i,n){t*=3,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=n}}class w extends y{boneIndex=0;constructor(t,e,i){super(t,e,g.rotate+"|"+i),this.boneIndex=i}apply(t,e,i,n,s,r,a){let o=t.bones[this.boneIndex];o.active&&(o.rotation=this.getRelativeValue(i,s,r,o.rotation,o.data.rotation))}}class C extends b{boneIndex=0;constructor(t,e,i){super(t,e,g.x+"|"+i,g.y+"|"+i),this.boneIndex=i}apply(t,e,i,n,s,r,a){let o=t.bones[this.boneIndex];if(!o.active)return;let l=this.frames;if(i<l[0]){switch(r){case p.setup:return o.x=o.data.x,void(o.y=o.data.y);case p.first:o.x+=(o.data.x-o.x)*s,o.y+=(o.data.y-o.y)*s}return}let h=0,c=0,u=x.search(l,i,3),d=this.curves[u/3];switch(d){case 0:let t=l[u];h=l[u+1],c=l[u+2];let e=(i-t)/(l[u+3]-t);h+=(l[u+3+1]-h)*e,c+=(l[u+3+2]-c)*e;break;case 1:h=l[u+1],c=l[u+2];break;default:h=this.getBezierValue(i,u,1,d-2),c=this.getBezierValue(i,u,2,d+18-2)}switch(r){case p.setup:o.x=o.data.x+h*s,o.y=o.data.y+c*s;break;case p.first:case p.replace:o.x+=(o.data.x+h-o.x)*s,o.y+=(o.data.y+c-o.y)*s;break;case p.add:o.x+=h*s,o.y+=c*s}}}class A extends y{boneIndex=0;constructor(t,e,i){super(t,e,g.x+"|"+i),this.boneIndex=i}apply(t,e,i,n,s,r,a){let o=t.bones[this.boneIndex];o.active&&(o.x=this.getRelativeValue(i,s,r,o.x,o.data.x))}}class T extends y{boneIndex=0;constructor(t,e,i){super(t,e,g.y+"|"+i),this.boneIndex=i}apply(t,e,i,n,s,r,a){let o=t.bones[this.boneIndex];o.active&&(o.y=this.getRelativeValue(i,s,r,o.y,o.data.y))}}class S extends b{boneIndex=0;constructor(t,e,i){super(t,e,g.scaleX+"|"+i,g.scaleY+"|"+i),this.boneIndex=i}apply(t,e,n,s,r,a,o){let l=t.bones[this.boneIndex];if(!l.active)return;let h,c,u=this.frames;if(n<u[0]){switch(a){case p.setup:return l.scaleX=l.data.scaleX,void(l.scaleY=l.data.scaleY);case p.first:l.scaleX+=(l.data.scaleX-l.scaleX)*r,l.scaleY+=(l.data.scaleY-l.scaleY)*r}return}let d=x.search(u,n,3),f=this.curves[d/3];switch(f){case 0:let t=u[d];h=u[d+1],c=u[d+2];let e=(n-t)/(u[d+3]-t);h+=(u[d+3+1]-h)*e,c+=(u[d+3+2]-c)*e;break;case 1:h=u[d+1],c=u[d+2];break;default:h=this.getBezierValue(n,d,1,f-2),c=this.getBezierValue(n,d,2,f+18-2)}if(h*=l.data.scaleX,c*=l.data.scaleY,1==r)a==p.add?(l.scaleX+=h-l.data.scaleX,l.scaleY+=c-l.data.scaleY):(l.scaleX=h,l.scaleY=c);else{let t=0,e=0;if(o==m.mixOut)switch(a){case p.setup:t=l.data.scaleX,e=l.data.scaleY,l.scaleX=t+(Math.abs(h)*i.signum(t)-t)*r,l.scaleY=e+(Math.abs(c)*i.signum(e)-e)*r;break;case p.first:case p.replace:t=l.scaleX,e=l.scaleY,l.scaleX=t+(Math.abs(h)*i.signum(t)-t)*r,l.scaleY=e+(Math.abs(c)*i.signum(e)-e)*r;break;case p.add:l.scaleX+=(h-l.data.scaleX)*r,l.scaleY+=(c-l.data.scaleY)*r}else switch(a){case p.setup:t=Math.abs(l.data.scaleX)*i.signum(h),e=Math.abs(l.data.scaleY)*i.signum(c),l.scaleX=t+(h-t)*r,l.scaleY=e+(c-e)*r;break;case p.first:case p.replace:t=Math.abs(l.scaleX)*i.signum(h),e=Math.abs(l.scaleY)*i.signum(c),l.scaleX=t+(h-t)*r,l.scaleY=e+(c-e)*r;break;case p.add:l.scaleX+=(h-l.data.scaleX)*r,l.scaleY+=(c-l.data.scaleY)*r}}}}class k extends y{boneIndex=0;constructor(t,e,i){super(t,e,g.scaleX+"|"+i),this.boneIndex=i}apply(t,e,i,n,s,r,a){let o=t.bones[this.boneIndex];o.active&&(o.scaleX=this.getScaleValue(i,s,r,a,o.scaleX,o.data.scaleX))}}class E extends y{boneIndex=0;constructor(t,e,i){super(t,e,g.scaleY+"|"+i),this.boneIndex=i}apply(t,e,i,n,s,r,a){let o=t.bones[this.boneIndex];o.active&&(o.scaleY=this.getScaleValue(i,s,r,a,o.scaleY,o.data.scaleY))}}class M extends b{boneIndex=0;constructor(t,e,i){super(t,e,g.shearX+"|"+i,g.shearY+"|"+i),this.boneIndex=i}apply(t,e,i,n,s,r,a){let o=t.bones[this.boneIndex];if(!o.active)return;let l=this.frames;if(i<l[0]){switch(r){case p.setup:return o.shearX=o.data.shearX,void(o.shearY=o.data.shearY);case p.first:o.shearX+=(o.data.shearX-o.shearX)*s,o.shearY+=(o.data.shearY-o.shearY)*s}return}let h=0,c=0,u=x.search(l,i,3),d=this.curves[u/3];switch(d){case 0:let t=l[u];h=l[u+1],c=l[u+2];let e=(i-t)/(l[u+3]-t);h+=(l[u+3+1]-h)*e,c+=(l[u+3+2]-c)*e;break;case 1:h=l[u+1],c=l[u+2];break;default:h=this.getBezierValue(i,u,1,d-2),c=this.getBezierValue(i,u,2,d+18-2)}switch(r){case p.setup:o.shearX=o.data.shearX+h*s,o.shearY=o.data.shearY+c*s;break;case p.first:case p.replace:o.shearX+=(o.data.shearX+h-o.shearX)*s,o.shearY+=(o.data.shearY+c-o.shearY)*s;break;case p.add:o.shearX+=h*s,o.shearY+=c*s}}}class R extends y{boneIndex=0;constructor(t,e,i){super(t,e,g.shearX+"|"+i),this.boneIndex=i}apply(t,e,i,n,s,r,a){let o=t.bones[this.boneIndex];o.active&&(o.shearX=this.getRelativeValue(i,s,r,o.shearX,o.data.shearX))}}class I extends y{boneIndex=0;constructor(t,e,i){super(t,e,g.shearY+"|"+i),this.boneIndex=i}apply(t,e,i,n,s,r,a){let o=t.bones[this.boneIndex];o.active&&(o.shearY=this.getRelativeValue(i,s,r,o.shearY,o.data.shearY))}}class L extends x{boneIndex=0;constructor(t,e){super(t,[g.inherit+"|"+e]),this.boneIndex=e}getFrameEntries(){return 2}setFrame(t,e,i){t*=2,this.frames[t]=e,this.frames[t+1]=i}apply(t,e,i,n,s,r,a){let o=t.bones[this.boneIndex];if(!o.active)return;let l=this.frames;i<l[0]?r!=p.setup&&r!=p.first||(o.inherit=o.data.inherit):o.inherit=this.frames[x.search(l,i,2)+1]}}class P extends v{slotIndex=0;constructor(t,e,i){super(t,e,[g.rgb+"|"+i,g.alpha+"|"+i]),this.slotIndex=i}getFrameEntries(){return 5}setFrame(t,e,i,n,s,r){t*=5,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=n,this.frames[t+3]=s,this.frames[t+4]=r}apply(t,e,i,n,s,r,a){let o=t.slots[this.slotIndex];if(!o.bone.active)return;let l=this.frames,h=o.color;if(i<l[0]){let t=o.data.color;switch(r){case p.setup:return void h.setFromColor(t);case p.first:h.add((t.r-h.r)*s,(t.g-h.g)*s,(t.b-h.b)*s,(t.a-h.a)*s)}return}let c=0,u=0,d=0,f=0,m=x.search(l,i,5),g=this.curves[m/5];switch(g){case 0:let t=l[m];c=l[m+1],u=l[m+2],d=l[m+3],f=l[m+4];let e=(i-t)/(l[m+5]-t);c+=(l[m+5+1]-c)*e,u+=(l[m+5+2]-u)*e,d+=(l[m+5+3]-d)*e,f+=(l[m+5+4]-f)*e;break;case 1:c=l[m+1],u=l[m+2],d=l[m+3],f=l[m+4];break;default:c=this.getBezierValue(i,m,1,g-2),u=this.getBezierValue(i,m,2,g+18-2),d=this.getBezierValue(i,m,3,g+36-2),f=this.getBezierValue(i,m,4,g+54-2)}1==s?h.set(c,u,d,f):(r==p.setup&&h.setFromColor(o.data.color),h.add((c-h.r)*s,(u-h.g)*s,(d-h.b)*s,(f-h.a)*s))}}class D extends v{slotIndex=0;constructor(t,e,i){super(t,e,[g.rgb+"|"+i]),this.slotIndex=i}getFrameEntries(){return 4}setFrame(t,e,i,n,s){t<<=2,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=n,this.frames[t+3]=s}apply(t,e,i,n,s,r,a){let o=t.slots[this.slotIndex];if(!o.bone.active)return;let l=this.frames,h=o.color;if(i<l[0]){let t=o.data.color;switch(r){case p.setup:return h.r=t.r,h.g=t.g,void(h.b=t.b);case p.first:h.r+=(t.r-h.r)*s,h.g+=(t.g-h.g)*s,h.b+=(t.b-h.b)*s}return}let c=0,u=0,d=0,f=x.search(l,i,4),m=this.curves[f>>2];switch(m){case 0:let t=l[f];c=l[f+1],u=l[f+2],d=l[f+3];let e=(i-t)/(l[f+4]-t);c+=(l[f+4+1]-c)*e,u+=(l[f+4+2]-u)*e,d+=(l[f+4+3]-d)*e;break;case 1:c=l[f+1],u=l[f+2],d=l[f+3];break;default:c=this.getBezierValue(i,f,1,m-2),u=this.getBezierValue(i,f,2,m+18-2),d=this.getBezierValue(i,f,3,m+36-2)}if(1==s)h.r=c,h.g=u,h.b=d;else{if(r==p.setup){let t=o.data.color;h.r=t.r,h.g=t.g,h.b=t.b}h.r+=(c-h.r)*s,h.g+=(u-h.g)*s,h.b+=(d-h.b)*s}}}class F extends y{slotIndex=0;constructor(t,e,i){super(t,e,g.alpha+"|"+i),this.slotIndex=i}apply(t,e,i,n,s,r,a){let o=t.slots[this.slotIndex];if(!o.bone.active)return;let l=o.color;if(i<this.frames[0]){let t=o.data.color;switch(r){case p.setup:return void(l.a=t.a);case p.first:l.a+=(t.a-l.a)*s}return}let h=this.getCurveValue(i);1==s?l.a=h:(r==p.setup&&(l.a=o.data.color.a),l.a+=(h-l.a)*s)}}class X extends v{slotIndex=0;constructor(t,e,i){super(t,e,[g.rgb+"|"+i,g.alpha+"|"+i,g.rgb2+"|"+i]),this.slotIndex=i}getFrameEntries(){return 8}setFrame(t,e,i,n,s,r,a,o,l){t<<=3,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=n,this.frames[t+3]=s,this.frames[t+4]=r,this.frames[t+5]=a,this.frames[t+6]=o,this.frames[t+7]=l}apply(t,e,i,n,s,r,a){let o=t.slots[this.slotIndex];if(!o.bone.active)return;let l=this.frames,h=o.color,c=o.darkColor;if(i<l[0]){let t=o.data.color,e=o.data.darkColor;switch(r){case p.setup:return h.setFromColor(t),c.r=e.r,c.g=e.g,void(c.b=e.b);case p.first:h.add((t.r-h.r)*s,(t.g-h.g)*s,(t.b-h.b)*s,(t.a-h.a)*s),c.r+=(e.r-c.r)*s,c.g+=(e.g-c.g)*s,c.b+=(e.b-c.b)*s}return}let u=0,d=0,f=0,m=0,g=0,v=0,y=0,b=x.search(l,i,8),w=this.curves[b>>3];switch(w){case 0:let t=l[b];u=l[b+1],d=l[b+2],f=l[b+3],m=l[b+4],g=l[b+5],v=l[b+6],y=l[b+7];let e=(i-t)/(l[b+8]-t);u+=(l[b+8+1]-u)*e,d+=(l[b+8+2]-d)*e,f+=(l[b+8+3]-f)*e,m+=(l[b+8+4]-m)*e,g+=(l[b+8+5]-g)*e,v+=(l[b+8+6]-v)*e,y+=(l[b+8+7]-y)*e;break;case 1:u=l[b+1],d=l[b+2],f=l[b+3],m=l[b+4],g=l[b+5],v=l[b+6],y=l[b+7];break;default:u=this.getBezierValue(i,b,1,w-2),d=this.getBezierValue(i,b,2,w+18-2),f=this.getBezierValue(i,b,3,w+36-2),m=this.getBezierValue(i,b,4,w+54-2),g=this.getBezierValue(i,b,5,w+72-2),v=this.getBezierValue(i,b,6,w+90-2),y=this.getBezierValue(i,b,7,w+108-2)}if(1==s)h.set(u,d,f,m),c.r=g,c.g=v,c.b=y;else{if(r==p.setup){h.setFromColor(o.data.color);let t=o.data.darkColor;c.r=t.r,c.g=t.g,c.b=t.b}h.add((u-h.r)*s,(d-h.g)*s,(f-h.b)*s,(m-h.a)*s),c.r+=(g-c.r)*s,c.g+=(v-c.g)*s,c.b+=(y-c.b)*s}}}class Y extends v{slotIndex=0;constructor(t,e,i){super(t,e,[g.rgb+"|"+i,g.rgb2+"|"+i]),this.slotIndex=i}getFrameEntries(){return 7}setFrame(t,e,i,n,s,r,a,o){t*=7,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=n,this.frames[t+3]=s,this.frames[t+4]=r,this.frames[t+5]=a,this.frames[t+6]=o}apply(t,e,i,n,s,r,a){let o=t.slots[this.slotIndex];if(!o.bone.active)return;let l=this.frames,h=o.color,c=o.darkColor;if(i<l[0]){let t=o.data.color,e=o.data.darkColor;switch(r){case p.setup:return h.r=t.r,h.g=t.g,h.b=t.b,c.r=e.r,c.g=e.g,void(c.b=e.b);case p.first:h.r+=(t.r-h.r)*s,h.g+=(t.g-h.g)*s,h.b+=(t.b-h.b)*s,c.r+=(e.r-c.r)*s,c.g+=(e.g-c.g)*s,c.b+=(e.b-c.b)*s}return}let u=0,d=0,f=0,m=0,g=0,v=0,y=x.search(l,i,7),b=this.curves[y/7];switch(b){case 0:let t=l[y];u=l[y+1],d=l[y+2],f=l[y+3],m=l[y+4],g=l[y+5],v=l[y+6];let e=(i-t)/(l[y+7]-t);u+=(l[y+7+1]-u)*e,d+=(l[y+7+2]-d)*e,f+=(l[y+7+3]-f)*e,m+=(l[y+7+4]-m)*e,g+=(l[y+7+5]-g)*e,v+=(l[y+7+6]-v)*e;break;case 1:u=l[y+1],d=l[y+2],f=l[y+3],m=l[y+4],g=l[y+5],v=l[y+6];break;default:u=this.getBezierValue(i,y,1,b-2),d=this.getBezierValue(i,y,2,b+18-2),f=this.getBezierValue(i,y,3,b+36-2),m=this.getBezierValue(i,y,4,b+54-2),g=this.getBezierValue(i,y,5,b+72-2),v=this.getBezierValue(i,y,6,b+90-2)}if(1==s)h.r=u,h.g=d,h.b=f,c.r=m,c.g=g,c.b=v;else{if(r==p.setup){let t=o.data.color,e=o.data.darkColor;h.r=t.r,h.g=t.g,h.b=t.b,c.r=e.r,c.g=e.g,c.b=e.b}h.r+=(u-h.r)*s,h.g+=(d-h.g)*s,h.b+=(f-h.b)*s,c.r+=(m-c.r)*s,c.g+=(g-c.g)*s,c.b+=(v-c.b)*s}}}class N extends x{slotIndex=0;attachmentNames;constructor(t,e){super(t,[g.attachment+"|"+e]),this.slotIndex=e,this.attachmentNames=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,e,i){this.frames[t]=e,this.attachmentNames[t]=i}apply(t,e,i,n,s,r,a){let o=t.slots[this.slotIndex];o.bone.active&&(a!=m.mixOut?i<this.frames[0]?r!=p.setup&&r!=p.first||this.setAttachment(t,o,o.data.attachmentName):this.setAttachment(t,o,this.attachmentNames[x.search1(this.frames,i)]):r==p.setup&&this.setAttachment(t,o,o.data.attachmentName))}setAttachment(t,e,i){e.setAttachment(i?t.getAttachment(this.slotIndex,i):null)}}class O extends v{slotIndex=0;attachment;vertices;constructor(t,e,i,n){super(t,e,[g.deform+"|"+i+"|"+n.id]),this.slotIndex=i,this.attachment=n,this.vertices=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,e,i){this.frames[t]=e,this.vertices[t]=i}setBezier(t,e,i,n,s,r,a,o,l,h,c){let u=this.curves,d=this.getFrameCount()+18*t;0==i&&(u[e]=2+d);let f=.03*(n-2*r+o),p=.03*l-.06*a,m=.006*(3*(r-o)-n+h),g=.018*(a-l+.33333333),x=2*f+m,v=2*p+g,y=.3*(r-n)+f+.16666667*m,b=.3*a+p+.16666667*g,w=n+y,C=b;for(let t=d+18;d<t;d+=2)u[d]=w,u[d+1]=C,y+=x,b+=v,x+=m,v+=g,w+=y,C+=b}getCurvePercent(t,e){let i=this.curves,n=i[e];switch(n){case 0:let i=this.frames[e];return(t-i)/(this.frames[e+this.getFrameEntries()]-i);case 1:return 0}if(n-=2,i[n]>t){let s=this.frames[e];return i[n+1]*(t-s)/(i[n]-s)}let s=n+18;for(n+=2;n<s;n+=2)if(i[n]>=t){let e=i[n-2],s=i[n-1];return s+(t-e)/(i[n]-e)*(i[n+1]-s)}let r=i[s-2],a=i[s-1];return a+(1-a)*(t-r)/(this.frames[e+this.getFrameEntries()]-r)}apply(t,e,i,n,r,a,o){let l=t.slots[this.slotIndex];if(!l.bone.active)return;let c=l.getAttachment();if(!c)return;if(!(c instanceof h)||c.timelineAttachment!=this.attachment)return;let u=l.deform;0==u.length&&(a=p.setup);let d=this.vertices,f=d[0].length,m=this.frames;if(i<m[0]){switch(a){case p.setup:return void(u.length=0);case p.first:if(1==r)return void(u.length=0);u.length=f;let t=c;if(t.bones)for(r=1-r,g=0;g<f;g++)u[g]*=r;else{let e=t.vertices;for(var g=0;g<f;g++)u[g]+=(e[g]-u[g])*r}}return}if(u.length=f,i>=m[m.length-1]){let t=d[m.length-1];if(1==r)if(a==p.add){let e=c;if(e.bones)for(let e=0;e<f;e++)u[e]+=t[e];else{let i=e.vertices;for(let e=0;e<f;e++)u[e]+=t[e]-i[e]}}else s.arrayCopy(t,0,u,0,f);else switch(a){case p.setup:{let e=c;if(e.bones)for(let e=0;e<f;e++)u[e]=t[e]*r;else{let i=e.vertices;for(let e=0;e<f;e++){let n=i[e];u[e]=n+(t[e]-n)*r}}break}case p.first:case p.replace:for(let e=0;e<f;e++)u[e]+=(t[e]-u[e])*r;break;case p.add:let e=c;if(e.bones)for(let e=0;e<f;e++)u[e]+=t[e]*r;else{let i=e.vertices;for(let e=0;e<f;e++)u[e]+=(t[e]-i[e])*r}}return}let v=x.search1(m,i),y=this.getCurvePercent(i,v),b=d[v],w=d[v+1];if(1==r)if(a==p.add){let t=c;if(t.bones)for(let t=0;t<f;t++){let e=b[t];u[t]+=e+(w[t]-e)*y}else{let e=t.vertices;for(let t=0;t<f;t++){let i=b[t];u[t]+=i+(w[t]-i)*y-e[t]}}}else for(let t=0;t<f;t++){let e=b[t];u[t]=e+(w[t]-e)*y}else switch(a){case p.setup:{let t=c;if(t.bones)for(let t=0;t<f;t++){let e=b[t];u[t]=(e+(w[t]-e)*y)*r}else{let e=t.vertices;for(let t=0;t<f;t++){let i=b[t],n=e[t];u[t]=n+(i+(w[t]-i)*y-n)*r}}break}case p.first:case p.replace:for(let t=0;t<f;t++){let e=b[t];u[t]+=(e+(w[t]-e)*y-u[t])*r}break;case p.add:let t=c;if(t.bones)for(let t=0;t<f;t++){let e=b[t];u[t]+=(e+(w[t]-e)*y)*r}else{let e=t.vertices;for(let t=0;t<f;t++){let i=b[t];u[t]+=(i+(w[t]-i)*y-e[t])*r}}}}}class _ extends x{static propertyIds=[""+g.event];events;constructor(t){super(t,_.propertyIds),this.events=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,e){this.frames[t]=e.time,this.events[t]=e}apply(t,e,i,n,s,r,a){if(!n)return;let o=this.frames,l=this.frames.length;if(e>i)this.apply(t,e,Number.MAX_VALUE,n,s,r,a),e=-1;else if(e>=o[l-1])return;if(i<o[0])return;let h=0;if(e<o[0])h=0;else{h=x.search1(o,e)+1;let t=o[h];for(;h>0&&o[h-1]==t;)h--}for(;h<l&&i>=o[h];h++)n.push(this.events[h])}}class B extends x{static propertyIds=[""+g.drawOrder];drawOrders;constructor(t){super(t,B.propertyIds),this.drawOrders=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,e,i){this.frames[t]=e,this.drawOrders[t]=i}apply(t,e,i,n,r,a,o){if(o==m.mixOut)return void(a==p.setup&&s.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length));if(i<this.frames[0])return void(a!=p.setup&&a!=p.first||s.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length));let l=x.search1(this.frames,i),h=this.drawOrders[l];if(h){let e=t.drawOrder,i=t.slots;for(let t=0,n=h.length;t<n;t++)e[t]=i[h[t]]}else s.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length)}}class V extends v{constraintIndex=0;constructor(t,e,i){super(t,e,[g.ikConstraint+"|"+i]),this.constraintIndex=i}getFrameEntries(){return 6}setFrame(t,e,i,n,s,r,a){t*=6,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=n,this.frames[t+3]=s,this.frames[t+4]=r?1:0,this.frames[t+5]=a?1:0}apply(t,e,i,n,s,r,a){let o=t.ikConstraints[this.constraintIndex];if(!o.active)return;let l=this.frames;if(i<l[0]){switch(r){case p.setup:return o.mix=o.data.mix,o.softness=o.data.softness,o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,void(o.stretch=o.data.stretch);case p.first:o.mix+=(o.data.mix-o.mix)*s,o.softness+=(o.data.softness-o.softness)*s,o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,o.stretch=o.data.stretch}return}let h=0,c=0,u=x.search(l,i,6),d=this.curves[u/6];switch(d){case 0:let t=l[u];h=l[u+1],c=l[u+2];let e=(i-t)/(l[u+6]-t);h+=(l[u+6+1]-h)*e,c+=(l[u+6+2]-c)*e;break;case 1:h=l[u+1],c=l[u+2];break;default:h=this.getBezierValue(i,u,1,d-2),c=this.getBezierValue(i,u,2,d+18-2)}r==p.setup?(o.mix=o.data.mix+(h-o.data.mix)*s,o.softness=o.data.softness+(c-o.data.softness)*s,a==m.mixOut?(o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,o.stretch=o.data.stretch):(o.bendDirection=l[u+3],o.compress=0!=l[u+4],o.stretch=0!=l[u+5])):(o.mix+=(h-o.mix)*s,o.softness+=(c-o.softness)*s,a==m.mixIn&&(o.bendDirection=l[u+3],o.compress=0!=l[u+4],o.stretch=0!=l[u+5]))}}class q extends v{constraintIndex=0;constructor(t,e,i){super(t,e,[g.transformConstraint+"|"+i]),this.constraintIndex=i}getFrameEntries(){return 7}setFrame(t,e,i,n,s,r,a,o){let l=this.frames;l[t*=7]=e,l[t+1]=i,l[t+2]=n,l[t+3]=s,l[t+4]=r,l[t+5]=a,l[t+6]=o}apply(t,e,i,n,s,r,a){let o=t.transformConstraints[this.constraintIndex];if(!o.active)return;let l,h,c,u,d,f,m=this.frames;if(i<m[0]){let t=o.data;switch(r){case p.setup:return o.mixRotate=t.mixRotate,o.mixX=t.mixX,o.mixY=t.mixY,o.mixScaleX=t.mixScaleX,o.mixScaleY=t.mixScaleY,void(o.mixShearY=t.mixShearY);case p.first:o.mixRotate+=(t.mixRotate-o.mixRotate)*s,o.mixX+=(t.mixX-o.mixX)*s,o.mixY+=(t.mixY-o.mixY)*s,o.mixScaleX+=(t.mixScaleX-o.mixScaleX)*s,o.mixScaleY+=(t.mixScaleY-o.mixScaleY)*s,o.mixShearY+=(t.mixShearY-o.mixShearY)*s}return}let g=x.search(m,i,7),v=this.curves[g/7];switch(v){case 0:let t=m[g];l=m[g+1],h=m[g+2],c=m[g+3],u=m[g+4],d=m[g+5],f=m[g+6];let e=(i-t)/(m[g+7]-t);l+=(m[g+7+1]-l)*e,h+=(m[g+7+2]-h)*e,c+=(m[g+7+3]-c)*e,u+=(m[g+7+4]-u)*e,d+=(m[g+7+5]-d)*e,f+=(m[g+7+6]-f)*e;break;case 1:l=m[g+1],h=m[g+2],c=m[g+3],u=m[g+4],d=m[g+5],f=m[g+6];break;default:l=this.getBezierValue(i,g,1,v-2),h=this.getBezierValue(i,g,2,v+18-2),c=this.getBezierValue(i,g,3,v+36-2),u=this.getBezierValue(i,g,4,v+54-2),d=this.getBezierValue(i,g,5,v+72-2),f=this.getBezierValue(i,g,6,v+90-2)}if(r==p.setup){let t=o.data;o.mixRotate=t.mixRotate+(l-t.mixRotate)*s,o.mixX=t.mixX+(h-t.mixX)*s,o.mixY=t.mixY+(c-t.mixY)*s,o.mixScaleX=t.mixScaleX+(u-t.mixScaleX)*s,o.mixScaleY=t.mixScaleY+(d-t.mixScaleY)*s,o.mixShearY=t.mixShearY+(f-t.mixShearY)*s}else o.mixRotate+=(l-o.mixRotate)*s,o.mixX+=(h-o.mixX)*s,o.mixY+=(c-o.mixY)*s,o.mixScaleX+=(u-o.mixScaleX)*s,o.mixScaleY+=(d-o.mixScaleY)*s,o.mixShearY+=(f-o.mixShearY)*s}}class W extends y{constraintIndex=0;constructor(t,e,i){super(t,e,g.pathConstraintPosition+"|"+i),this.constraintIndex=i}apply(t,e,i,n,s,r,a){let o=t.pathConstraints[this.constraintIndex];o.active&&(o.position=this.getAbsoluteValue(i,s,r,o.position,o.data.position))}}class j extends y{constraintIndex=0;constructor(t,e,i){super(t,e,g.pathConstraintSpacing+"|"+i),this.constraintIndex=i}apply(t,e,i,n,s,r,a){let o=t.pathConstraints[this.constraintIndex];o.active&&(o.spacing=this.getAbsoluteValue(i,s,r,o.spacing,o.data.spacing))}}class z extends v{constraintIndex=0;constructor(t,e,i){super(t,e,[g.pathConstraintMix+"|"+i]),this.constraintIndex=i}getFrameEntries(){return 4}setFrame(t,e,i,n,s){let r=this.frames;r[t<<=2]=e,r[t+1]=i,r[t+2]=n,r[t+3]=s}apply(t,e,i,n,s,r,a){let o=t.pathConstraints[this.constraintIndex];if(!o.active)return;let l,h,c,u=this.frames;if(i<u[0]){switch(r){case p.setup:return o.mixRotate=o.data.mixRotate,o.mixX=o.data.mixX,void(o.mixY=o.data.mixY);case p.first:o.mixRotate+=(o.data.mixRotate-o.mixRotate)*s,o.mixX+=(o.data.mixX-o.mixX)*s,o.mixY+=(o.data.mixY-o.mixY)*s}return}let d=x.search(u,i,4),f=this.curves[d>>2];switch(f){case 0:let t=u[d];l=u[d+1],h=u[d+2],c=u[d+3];let e=(i-t)/(u[d+4]-t);l+=(u[d+4+1]-l)*e,h+=(u[d+4+2]-h)*e,c+=(u[d+4+3]-c)*e;break;case 1:l=u[d+1],h=u[d+2],c=u[d+3];break;default:l=this.getBezierValue(i,d,1,f-2),h=this.getBezierValue(i,d,2,f+18-2),c=this.getBezierValue(i,d,3,f+36-2)}if(r==p.setup){let t=o.data;o.mixRotate=t.mixRotate+(l-t.mixRotate)*s,o.mixX=t.mixX+(h-t.mixX)*s,o.mixY=t.mixY+(c-t.mixY)*s}else o.mixRotate+=(l-o.mixRotate)*s,o.mixX+=(h-o.mixX)*s,o.mixY+=(c-o.mixY)*s}}class H extends y{constraintIndex=0;constructor(t,e,i,n){super(t,e,n+"|"+i),this.constraintIndex=i}apply(t,e,i,n,s,r,a){let o;if(-1==this.constraintIndex){const e=i>=this.frames[0]?this.getCurveValue(i):0;for(const n of t.physicsConstraints)n.active&&this.global(n.data)&&this.set(n,this.getAbsoluteValue2(i,s,r,this.get(n),this.setup(n),e))}else o=t.physicsConstraints[this.constraintIndex],o.active&&this.set(o,this.getAbsoluteValue(i,s,r,this.get(o),this.setup(o)))}}class U extends H{constructor(t,e,i){super(t,e,i,g.physicsConstraintInertia)}setup(t){return t.data.inertia}get(t){return t.inertia}set(t,e){t.inertia=e}global(t){return t.inertiaGlobal}}class $ extends H{constructor(t,e,i){super(t,e,i,g.physicsConstraintStrength)}setup(t){return t.data.strength}get(t){return t.strength}set(t,e){t.strength=e}global(t){return t.strengthGlobal}}class G extends H{constructor(t,e,i){super(t,e,i,g.physicsConstraintDamping)}setup(t){return t.data.damping}get(t){return t.damping}set(t,e){t.damping=e}global(t){return t.dampingGlobal}}class J extends H{constructor(t,e,i){super(t,e,i,g.physicsConstraintMass)}setup(t){return 1/t.data.massInverse}get(t){return 1/t.massInverse}set(t,e){t.massInverse=1/e}global(t){return t.massGlobal}}class K extends H{constructor(t,e,i){super(t,e,i,g.physicsConstraintWind)}setup(t){return t.data.wind}get(t){return t.wind}set(t,e){t.wind=e}global(t){return t.windGlobal}}class Q extends H{constructor(t,e,i){super(t,e,i,g.physicsConstraintGravity)}setup(t){return t.data.gravity}get(t){return t.gravity}set(t,e){t.gravity=e}global(t){return t.gravityGlobal}}class Z extends H{constructor(t,e,i){super(t,e,i,g.physicsConstraintMix)}setup(t){return t.data.mix}get(t){return t.mix}set(t,e){t.mix=e}global(t){return t.mixGlobal}}class tt extends x{static propertyIds=[g.physicsConstraintReset.toString()];constraintIndex;constructor(t,e){super(t,tt.propertyIds),this.constraintIndex=e}getFrameCount(){return this.frames.length}setFrame(t,e){this.frames[t]=e}apply(t,e,i,n,s,r,a){let o;if(-1!=this.constraintIndex&&(o=t.physicsConstraints[this.constraintIndex],!o.active))return;const l=this.frames;if(e>i)this.apply(t,e,Number.MAX_VALUE,[],s,r,a),e=-1;else if(e>=l[l.length-1])return;if(!(i<l[0])&&(e<l[0]||i>=l[x.search1(l,e)+1]))if(null!=o)o.reset();else for(const e of t.physicsConstraints)e.active&&e.reset()}}class et extends x{static ENTRIES=3;static MODE=1;static DELAY=2;slotIndex;attachment;constructor(t,e,i){super(t,[g.sequence+"|"+e+"|"+i.sequence.id]),this.slotIndex=e,this.attachment=i}getFrameEntries(){return et.ENTRIES}getSlotIndex(){return this.slotIndex}getAttachment(){return this.attachment}setFrame(t,e,i,n,s){let r=this.frames;r[t*=et.ENTRIES]=e,r[t+et.MODE]=i|n<<4,r[t+et.DELAY]=s}apply(t,e,i,n,s,r,a){let o=t.slots[this.slotIndex];if(!o.bone.active)return;let l=o.attachment,c=this.attachment;if(!(l==c||l instanceof h&&l.timelineAttachment==c))return;let f=this.frames;if(i<f[0])return void(r!=p.setup&&r!=p.first||(o.sequenceIndex=-1));let m=x.search(f,i,et.ENTRIES),g=f[m],v=f[m+et.MODE],y=f[m+et.DELAY];if(!this.attachment.sequence)return;let b=v>>4,w=this.attachment.sequence.regions.length,C=d[15&v];if(C!=u.hold)switch(b+=(i-g)/y+1e-5|0,C){case u.once:b=Math.min(w-1,b);break;case u.loop:b%=w;break;case u.pingpong:{let t=(w<<1)-2;b=0==t?0:b%t,b>=w&&(b=t-b);break}case u.onceReverse:b=Math.max(w-1-b,0);break;case u.loopReverse:b=w-1-b%w;break;case u.pingpongReverse:{let t=(w<<1)-2;b=0==t?0:(b+w-1)%t,b>=w&&(b=t-b)}}o.sequenceIndex=b}}class it{static _emptyAnimation=new f("<empty>",[],0);static emptyAnimation(){return it._emptyAnimation}data;tracks=new Array;timeScale=1;unkeyedState=0;events=new Array;listeners=new Array;queue=new st(this);propertyIDs=new t;animationsChanged=!1;trackEntryPool=new r((()=>new nt));constructor(t){this.data=t}update(t){t*=this.timeScale;let e=this.tracks;for(let i=0,n=e.length;i<n;i++){let n=e[i];if(!n)continue;n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast;let s=t*n.timeScale;if(n.delay>0){if(n.delay-=s,n.delay>0)continue;s=-n.delay,n.delay=0}let r=n.next;if(r){let e=n.trackLast-r.delay;if(e>=0){for(r.delay=0,r.trackTime+=0==n.timeScale?0:(e/n.timeScale+t)*r.timeScale,n.trackTime+=s,this.setCurrent(i,r,!0);r.mixingFrom;)r.mixTime+=t,r=r.mixingFrom;continue}}else if(n.trackLast>=n.trackEnd&&!n.mixingFrom){e[i]=null,this.queue.end(n),this.clearNext(n);continue}if(n.mixingFrom&&this.updateMixingFrom(n,t)){let t=n.mixingFrom;for(n.mixingFrom=null,t&&(t.mixingTo=null);t;)this.queue.end(t),t=t.mixingFrom}n.trackTime+=s}this.queue.drain()}updateMixingFrom(t,e){let i=t.mixingFrom;if(!i)return!0;let n=this.updateMixingFrom(i,e);return i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast,t.mixTime>0&&t.mixTime>=t.mixDuration?(0!=i.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=i.mixingFrom,i.mixingFrom&&(i.mixingFrom.mixingTo=t),t.interruptAlpha=i.interruptAlpha,this.queue.end(i)),n):(i.trackTime+=e*i.timeScale,t.mixTime+=e,!1)}apply(t){if(!t)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();let e=this.events,i=this.tracks,n=!1;for(let a=0,o=i.length;a<o;a++){let o=i[a];if(!o||o.delay>0)continue;n=!0;let l=0==a?p.first:o.mixBlend,h=o.alpha;o.mixingFrom?h*=this.applyMixingFrom(o,t,l):o.trackTime>=o.trackEnd&&!o.next&&(h=0);let c=h>=o.alphaAttachmentThreshold,u=o.animationLast,d=o.getAnimationTime(),f=d,g=e;o.reverse&&(f=o.animation.duration-f,g=null);let x=o.animation.timelines,v=x.length;if(0==a&&1==h||l==p.add){0==a&&(c=!0);for(let e=0;e<v;e++){s.webkit602BugfixHelper(h,l);var r=x[e];r instanceof N?this.applyAttachmentTimeline(r,t,f,l,c):r.apply(t,u,f,g,h,l,m.mixIn)}}else{let e=o.timelineMode,i=o.shortestRotation,n=!i&&o.timelinesRotation.length!=v<<1;n&&(o.timelinesRotation.length=v<<1);for(let r=0;r<v;r++){let a=x[r],d=e[r]==at?l:p.setup;!i&&a instanceof w?this.applyRotateTimeline(a,t,f,h,d,o.timelinesRotation,r<<1,n):a instanceof N?this.applyAttachmentTimeline(a,t,f,l,c):(s.webkit602BugfixHelper(h,l),a.apply(t,u,f,g,h,d,m.mixIn))}}this.queueEvents(o,d),e.length=0,o.nextAnimationLast=d,o.nextTrackLast=o.trackTime}for(var a=this.unkeyedState+ut,o=t.slots,l=0,h=t.slots.length;l<h;l++){var c=o[l];if(c.attachmentState==a){var u=c.data.attachmentName;c.setAttachment(u?t.getAttachment(c.data.index,u):null)}}return this.unkeyedState+=2,this.queue.drain(),n}applyMixingFrom(t,e,i){let n=t.mixingFrom;n.mixingFrom&&this.applyMixingFrom(n,e,i);let r=0;0==t.mixDuration?(r=1,i==p.first&&(i=p.setup)):(r=t.mixTime/t.mixDuration,r>1&&(r=1),i!=p.first&&(i=n.mixBlend));let a=r<n.mixAttachmentThreshold,o=r<n.mixDrawOrderThreshold,l=n.animation.timelines,h=l.length,c=n.alpha*t.interruptAlpha,u=c*(1-r),d=n.animationLast,f=n.getAnimationTime(),g=f,x=null;if(n.reverse?g=n.animation.duration-g:r<n.eventThreshold&&(x=this.events),i==p.add)for(let t=0;t<h;t++)l[t].apply(e,d,g,x,u,i,m.mixOut);else{let t=n.timelineMode,r=n.timelineHoldMix,f=n.shortestRotation,v=!f&&n.timelinesRotation.length!=h<<1;v&&(n.timelinesRotation.length=h<<1),n.totalAlpha=0;for(let y=0;y<h;y++){let h,b=l[y],C=m.mixOut,A=0;switch(t[y]){case at:if(!o&&b instanceof B)continue;h=i,A=u;break;case ot:h=p.setup,A=u;break;case lt:h=i,A=c;break;case ht:h=p.setup,A=c;break;default:h=p.setup;let t=r[y];A=c*Math.max(0,1-t.mixTime/t.mixDuration)}n.totalAlpha+=A,!f&&b instanceof w?this.applyRotateTimeline(b,e,g,A,h,n.timelinesRotation,y<<1,v):b instanceof N?this.applyAttachmentTimeline(b,e,g,h,a&&A>=n.alphaAttachmentThreshold):(s.webkit602BugfixHelper(A,i),o&&b instanceof B&&h==p.setup&&(C=m.mixIn),b.apply(e,d,g,x,A,h,C))}}return t.mixDuration>0&&this.queueEvents(n,f),this.events.length=0,n.nextAnimationLast=f,n.nextTrackLast=n.trackTime,r}applyAttachmentTimeline(t,e,i,n,s){var r=e.slots[t.slotIndex];r.bone.active&&(i<t.frames[0]?n!=p.setup&&n!=p.first||this.setAttachment(e,r,r.data.attachmentName,s):this.setAttachment(e,r,t.attachmentNames[x.search1(t.frames,i)],s),r.attachmentState<=this.unkeyedState&&(r.attachmentState=this.unkeyedState+ut))}setAttachment(t,e,i,n){e.setAttachment(i?t.getAttachment(e.data.index,i):null),n&&(e.attachmentState=this.unkeyedState+dt)}applyRotateTimeline(t,e,n,s,r,a,o,l){if(l&&(a[o]=0),1==s)return void t.apply(e,0,n,null,1,r,m.mixIn);let h=e.bones[t.boneIndex];if(!h.active)return;let c=0,u=0;if(n<t.frames[0])switch(r){case p.setup:h.rotation=h.data.rotation;default:return;case p.first:c=h.rotation,u=h.data.rotation}else c=r==p.setup?h.data.rotation:h.rotation,u=h.data.rotation+t.getCurveValue(n);let d=0,f=u-c;if(f-=360*Math.ceil(f/360-.5),0==f)d=a[o];else{let t=0,e=0;l?(t=0,e=f):(t=a[o],e=a[o+1]);let n=t-t%360;d=f+n;let s=f>=0,r=t>=0;Math.abs(e)<=90&&i.signum(e)!=i.signum(f)&&(Math.abs(t-n)>180?(d+=360*i.signum(t),r=s):0!=n?d-=360*i.signum(t):r=s),r!=s&&(d+=360*i.signum(t)),a[o]=d}a[o+1]=f,h.rotation=c+d*s}queueEvents(t,e){let i=t.animationStart,n=t.animationEnd,s=n-i,r=t.trackLast%s,a=this.events,o=0,l=a.length;for(;o<l;o++){let e=a[o];if(e.time<r)break;e.time>n||this.queue.event(t,e)}let h=!1;if(t.loop)if(0==s)h=!0;else{const e=Math.floor(t.trackTime/s);h=e>0&&e>Math.floor(t.trackLast/s)}else h=e>=n&&t.animationLast<n;for(h&&this.queue.complete(t);o<l;o++){let e=a[o];e.time<i||this.queue.event(t,e)}}clearTracks(){let t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let t=0,e=this.tracks.length;t<e;t++)this.clearTrack(t);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()}clearTrack(t){if(t>=this.tracks.length)return;let e=this.tracks[t];if(!e)return;this.queue.end(e),this.clearNext(e);let i=e;for(;;){let t=i.mixingFrom;if(!t)break;this.queue.end(t),i.mixingFrom=null,i.mixingTo=null,i=t}this.tracks[e.trackIndex]=null,this.queue.drain()}setCurrent(t,e,i){let n=this.expandToIndex(t);this.tracks[t]=e,e.previous=null,n&&(i&&this.queue.interrupt(n),e.mixingFrom=n,n.mixingTo=e,e.mixTime=0,n.mixingFrom&&n.mixDuration>0&&(e.interruptAlpha*=Math.min(1,n.mixTime/n.mixDuration)),n.timelinesRotation.length=0),this.queue.start(e)}setAnimation(t,e,i=!1){let n=this.data.skeletonData.findAnimation(e);if(!n)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,n,i)}setAnimationWith(t,e,i=!1){if(!e)throw new Error("animation cannot be null.");let n=!0,s=this.expandToIndex(t);s&&(-1==s.nextTrackLast?(this.tracks[t]=s.mixingFrom,this.queue.interrupt(s),this.queue.end(s),this.clearNext(s),s=s.mixingFrom,n=!1):this.clearNext(s));let r=this.trackEntry(t,e,i,s);return this.setCurrent(t,r,n),this.queue.drain(),r}addAnimation(t,e,i=!1,n=0){let s=this.data.skeletonData.findAnimation(e);if(!s)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,s,i,n)}addAnimationWith(t,e,i=!1,n=0){if(!e)throw new Error("animation cannot be null.");let s=this.expandToIndex(t);if(s)for(;s.next;)s=s.next;let r=this.trackEntry(t,e,i,s);return s?(s.next=r,r.previous=s,n<=0&&(n+=s.getTrackComplete()-r.mixDuration)):(this.setCurrent(t,r,!0),this.queue.drain()),r.delay=n,r}setEmptyAnimation(t,e=0){let i=this.setAnimationWith(t,it.emptyAnimation(),!1);return i.mixDuration=e,i.trackEnd=e,i}addEmptyAnimation(t,e=0,i=0){let n=this.addAnimationWith(t,it.emptyAnimation(),!1,i);return i<=0&&(n.delay+=n.mixDuration-e),n.mixDuration=e,n.trackEnd=e,n}setEmptyAnimations(t=0){let e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let e=0,i=this.tracks.length;e<i;e++){let i=this.tracks[e];i&&this.setEmptyAnimation(i.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()}expandToIndex(t){return t<this.tracks.length?this.tracks[t]:(s.ensureArrayCapacity(this.tracks,t+1,null),this.tracks.length=t+1,null)}trackEntry(t,e,i,n){let s=this.trackEntryPool.obtain();return s.reset(),s.trackIndex=t,s.animation=e,s.loop=i,s.holdPrevious=!1,s.reverse=!1,s.shortestRotation=!1,s.eventThreshold=0,s.alphaAttachmentThreshold=0,s.mixAttachmentThreshold=0,s.mixDrawOrderThreshold=0,s.animationStart=0,s.animationEnd=e.duration,s.animationLast=-1,s.nextAnimationLast=-1,s.delay=0,s.trackTime=0,s.trackLast=-1,s.nextTrackLast=-1,s.trackEnd=Number.MAX_VALUE,s.timeScale=1,s.alpha=1,s.mixTime=0,s.mixDuration=n?this.data.getMix(n.animation,e):0,s.interruptAlpha=1,s.totalAlpha=0,s.mixBlend=p.replace,s}clearNext(t){let e=t.next;for(;e;)this.queue.dispose(e),e=e.next;t.next=null}_animationsChanged(){this.animationsChanged=!1,this.propertyIDs.clear();let t=this.tracks;for(let e=0,i=t.length;e<i;e++){let i=t[e];if(i){for(;i.mixingFrom;)i=i.mixingFrom;do{i.mixingTo&&i.mixBlend==p.add||this.computeHold(i),i=i.mixingTo}while(i)}}}computeHold(t){let e=t.mixingTo,i=t.animation.timelines,n=t.animation.timelines.length,s=t.timelineMode;s.length=n;let r=t.timelineHoldMix;r.length=0;let a=this.propertyIDs;if(e&&e.holdPrevious)for(let t=0;t<n;t++)s[t]=a.addAll(i[t].getPropertyIds())?ht:lt;else t:for(let o=0;o<n;o++){let n=i[o],l=n.getPropertyIds();if(a.addAll(l))if(!e||n instanceof N||n instanceof B||n instanceof _||!e.animation.hasTimeline(l))s[o]=ot;else{for(let i=e.mixingTo;i;i=i.mixingTo)if(!i.animation.hasTimeline(l)){if(t.mixDuration>0){s[o]=ct,r[o]=i;continue t}break}s[o]=ht}else s[o]=at}}getCurrent(t){return t>=this.tracks.length?null:this.tracks[t]}addListener(t){if(!t)throw new Error("listener cannot be null.");this.listeners.push(t)}removeListener(t){let e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)}clearListeners(){this.listeners.length=0}clearListenerNotifications(){this.queue.clear()}}class nt{animation=null;previous=null;next=null;mixingFrom=null;mixingTo=null;listener=null;trackIndex=0;loop=!1;holdPrevious=!1;reverse=!1;shortestRotation=!1;eventThreshold=0;mixAttachmentThreshold=0;alphaAttachmentThreshold=0;mixDrawOrderThreshold=0;animationStart=0;animationEnd=0;animationLast=0;nextAnimationLast=0;delay=0;trackTime=0;trackLast=0;nextTrackLast=0;trackEnd=0;timeScale=0;alpha=0;mixTime=0;_mixDuration=0;interruptAlpha=0;totalAlpha=0;get mixDuration(){return this._mixDuration}set mixDuration(t){this._mixDuration=t}setMixDurationWithDelta(t,e){this._mixDuration=t,null!=this.previous&&this.delay<=0&&(this.delay+=this.previous.getTrackComplete()-e),this.delay=this.delay}mixBlend=p.replace;timelineMode=new Array;timelineHoldMix=new Array;timelinesRotation=new Array;reset(){this.next=null,this.previous=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0}getAnimationTime(){if(this.loop){let t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)}setAnimationLast(t){this.animationLast=t,this.nextAnimationLast=t}isComplete(){return this.trackTime>=this.animationEnd-this.animationStart}resetRotationDirections(){this.timelinesRotation.length=0}getTrackComplete(){let t=this.animationEnd-this.animationStart;if(0!=t){if(this.loop)return t*(1+(this.trackTime/t|0));if(this.trackTime<t)return t}return this.trackTime}wasApplied(){return-1!=this.nextTrackLast}}class st{objects=[];drainDisabled=!1;animState;constructor(t){this.animState=t}start(t){this.objects.push(rt.start),this.objects.push(t),this.animState.animationsChanged=!0}interrupt(t){this.objects.push(rt.interrupt),this.objects.push(t)}end(t){this.objects.push(rt.end),this.objects.push(t),this.animState.animationsChanged=!0}dispose(t){this.objects.push(rt.dispose),this.objects.push(t)}complete(t){this.objects.push(rt.complete),this.objects.push(t)}event(t,e){this.objects.push(rt.event),this.objects.push(t),this.objects.push(e)}drain(){if(this.drainDisabled)return;this.drainDisabled=!0;let t=this.objects,e=this.animState.listeners;for(let i=0;i<t.length;i+=2){let n=t[i],s=t[i+1];switch(n){case rt.start:s.listener&&s.listener.start&&s.listener.start(s);for(let t=0;t<e.length;t++){let i=e[t];i.start&&i.start(s)}break;case rt.interrupt:s.listener&&s.listener.interrupt&&s.listener.interrupt(s);for(let t=0;t<e.length;t++){let i=e[t];i.interrupt&&i.interrupt(s)}break;case rt.end:s.listener&&s.listener.end&&s.listener.end(s);for(let t=0;t<e.length;t++){let i=e[t];i.end&&i.end(s)}case rt.dispose:s.listener&&s.listener.dispose&&s.listener.dispose(s);for(let t=0;t<e.length;t++){let i=e[t];i.dispose&&i.dispose(s)}this.animState.trackEntryPool.free(s);break;case rt.complete:s.listener&&s.listener.complete&&s.listener.complete(s);for(let t=0;t<e.length;t++){let i=e[t];i.complete&&i.complete(s)}break;case rt.event:let n=t[2+i++];s.listener&&s.listener.event&&s.listener.event(s,n);for(let t=0;t<e.length;t++){let i=e[t];i.event&&i.event(s,n)}}}this.clear(),this.drainDisabled=!1}clear(){this.objects.length=0}}var rt;!function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"}(rt||(rt={}));const at=0,ot=1,lt=2,ht=3,ct=4,ut=1,dt=2;class ft{skeletonData;animationToMixTime={};defaultMix=0;constructor(t){if(!t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}setMix(t,e,i){let n=this.skeletonData.findAnimation(t);if(!n)throw new Error("Animation not found: "+t);let s=this.skeletonData.findAnimation(e);if(!s)throw new Error("Animation not found: "+e);this.setMixWith(n,s,i)}setMixWith(t,e,i){if(!t)throw new Error("from cannot be null.");if(!e)throw new Error("to cannot be null.");let n=t.name+"."+e.name;this.animationToMixTime[n]=i}getMix(t,e){let i=t.name+"."+e.name,n=this.animationToMixTime[i];return void 0===n?this.defaultMix:n}}class pt extends h{color=new e(1,1,1,1);constructor(t){super(t)}copy(){let t=new pt(this.name);return this.copyTo(t),t.color.setFromColor(this.color),t}}class mt extends h{endSlot=null;color=new e(.2275,.2275,.8078,1);constructor(t){super(t)}copy(){let t=new mt(this.name);return this.copyTo(t),t.endSlot=this.endSlot,t.color.setFromColor(this.color),t}}class gt{_image;constructor(t){this._image=t}getImage(){return this._image}}var xt,vt,yt,bt,wt,Ct,At,Tt,St,kt,Et,Mt,Rt;!function(t){t[t.Nearest=9728]="Nearest",t[t.Linear=9729]="Linear",t[t.MipMap=9987]="MipMap",t[t.MipMapNearestNearest=9984]="MipMapNearestNearest",t[t.MipMapLinearNearest=9985]="MipMapLinearNearest",t[t.MipMapNearestLinear=9986]="MipMapNearestLinear",t[t.MipMapLinearLinear=9987]="MipMapLinearLinear"}(xt||(xt={})),function(t){t[t.MirroredRepeat=33648]="MirroredRepeat",t[t.ClampToEdge=33071]="ClampToEdge",t[t.Repeat=10497]="Repeat"}(vt||(vt={}));class It{texture;u=0;v=0;u2=0;v2=0;width=0;height=0;degrees=0;offsetX=0;offsetY=0;originalWidth=0;originalHeight=0}class Lt{pages=new Array;regions=new Array;constructor(t){let e=new Pt(t),i=new Array(4),n={size:t=>{t.width=parseInt(i[1]),t.height=parseInt(i[2])},format:()=>{},filter:t=>{t.minFilter=s.enumValue(xt,i[1]),t.magFilter=s.enumValue(xt,i[2])},repeat:t=>{-1!=i[1].indexOf("x")&&(t.uWrap=vt.Repeat),-1!=i[1].indexOf("y")&&(t.vWrap=vt.Repeat)},pma:t=>{t.pma="true"==i[1]}};var r={xy:t=>{t.x=parseInt(i[1]),t.y=parseInt(i[2])},size:t=>{t.width=parseInt(i[1]),t.height=parseInt(i[2])},bounds:t=>{t.x=parseInt(i[1]),t.y=parseInt(i[2]),t.width=parseInt(i[3]),t.height=parseInt(i[4])},offset:t=>{t.offsetX=parseInt(i[1]),t.offsetY=parseInt(i[2])},orig:t=>{t.originalWidth=parseInt(i[1]),t.originalHeight=parseInt(i[2])},offsets:t=>{t.offsetX=parseInt(i[1]),t.offsetY=parseInt(i[2]),t.originalWidth=parseInt(i[3]),t.originalHeight=parseInt(i[4])},rotate:t=>{let e=i[1];"true"==e?t.degrees=90:"false"!=e&&(t.degrees=parseInt(e))},index:t=>{t.index=parseInt(i[1])}};let a=e.readLine();for(;a&&0==a.trim().length;)a=e.readLine();for(;a&&0!=a.trim().length&&0!=e.readEntry(i,a);)a=e.readLine();let o=null,l=null,h=null;for(;null!==a;)if(0==a.trim().length)o=null,a=e.readLine();else if(o){let t=new Ft(o,a);for(;;){let n=e.readEntry(i,a=e.readLine());if(0==n)break;let s=r[i[0]];if(s)s(t);else{l||(l=[]),h||(h=[]),l.push(i[0]);let t=[];for(let e=0;e<n;e++)t.push(parseInt(i[e+1]));h.push(t)}}0==t.originalWidth&&0==t.originalHeight&&(t.originalWidth=t.width,t.originalHeight=t.height),l&&l.length>0&&h&&h.length>0&&(t.names=l,t.values=h,l=null,h=null),t.u=t.x/o.width,t.v=t.y/o.height,90==t.degrees?(t.u2=(t.x+t.height)/o.width,t.v2=(t.y+t.width)/o.height):(t.u2=(t.x+t.width)/o.width,t.v2=(t.y+t.height)/o.height),this.regions.push(t)}else{for(o=new Dt(a.trim());0!=e.readEntry(i,a=e.readLine());){let t=n[i[0]];t&&t(o)}this.pages.push(o)}}findRegion(t){for(let e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null}setTextures(t,e=""){for(let i of this.pages)i.setTexture(t.get(e+i.name))}dispose(){for(let t=0;t<this.pages.length;t++)this.pages[t].texture?.dispose()}}class Pt{lines;index=0;constructor(t){this.lines=t.split(/\r\n|\r|\n/)}readLine(){return this.index>=this.lines.length?null:this.lines[this.index++]}readEntry(t,e){if(!e)return 0;if(0==(e=e.trim()).length)return 0;let i=e.indexOf(":");if(-1==i)return 0;t[0]=e.substr(0,i).trim();for(let n=1,s=i+1;;n++){let i=e.indexOf(",",s);if(-1==i)return t[n]=e.substr(s).trim(),n;if(t[n]=e.substr(s,i-s).trim(),s=i+1,4==n)return 4}}}class Dt{name;minFilter=xt.Nearest;magFilter=xt.Nearest;uWrap=vt.ClampToEdge;vWrap=vt.ClampToEdge;texture=null;width=0;height=0;pma=!1;regions=new Array;constructor(t){this.name=t}setTexture(t){this.texture=t,t.setFilters(this.minFilter,this.magFilter),t.setWraps(this.uWrap,this.vWrap);for(let e of this.regions)e.texture=t}}class Ft extends It{page;name;x=0;y=0;offsetX=0;offsetY=0;originalWidth=0;originalHeight=0;index=0;degrees=0;names=null;values=null;constructor(t,e){super(),this.page=t,this.name=e,t.regions.push(this)}}class Xt extends h{region=null;path;regionUVs=[];uvs=[];triangles=[];color=new e(1,1,1,1);width=0;height=0;hullLength=0;edges=[];parentMesh=null;sequence=null;tempColor=new e(0,0,0,0);constructor(t,e){super(t),this.path=e}updateRegion(){if(!this.region)throw new Error("Region not set.");let t=this.regionUVs;this.uvs&&this.uvs.length==t.length||(this.uvs=s.newFloatArray(t.length));let e=this.uvs,i=this.uvs.length,n=this.region.u,r=this.region.v,a=0,o=0;if(this.region instanceof Ft){let s=this.region,l=s.page,h=l.width,c=l.height;switch(s.degrees){case 90:n-=(s.originalHeight-s.offsetY-s.height)/h,r-=(s.originalWidth-s.offsetX-s.width)/c,a=s.originalHeight/h,o=s.originalWidth/c;for(let s=0;s<i;s+=2)e[s]=n+t[s+1]*a,e[s+1]=r+(1-t[s])*o;return;case 180:n-=(s.originalWidth-s.offsetX-s.width)/h,r-=s.offsetY/c,a=s.originalWidth/h,o=s.originalHeight/c;for(let s=0;s<i;s+=2)e[s]=n+(1-t[s])*a,e[s+1]=r+(1-t[s+1])*o;return;case 270:n-=s.offsetY/h,r-=s.offsetX/c,a=s.originalHeight/h,o=s.originalWidth/c;for(let s=0;s<i;s+=2)e[s]=n+(1-t[s+1])*a,e[s+1]=r+t[s]*o;return}n-=s.offsetX/h,r-=(s.originalHeight-s.offsetY-s.height)/c,a=s.originalWidth/h,o=s.originalHeight/c}else this.region?(a=this.region.u2-n,o=this.region.v2-r):(n=r=0,a=o=1);for(let s=0;s<i;s+=2)e[s]=n+t[s]*a,e[s+1]=r+t[s+1]*o}getParentMesh(){return this.parentMesh}setParentMesh(t){this.parentMesh=t,t&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)}copy(){if(this.parentMesh)return this.newLinkedMesh();let t=new Xt(this.name,this.path);return t.region=this.region,t.color.setFromColor(this.color),this.copyTo(t),t.regionUVs=new Array(this.regionUVs.length),s.arrayCopy(this.regionUVs,0,t.regionUVs,0,this.regionUVs.length),t.uvs=new Array(this.uvs.length),s.arrayCopy(this.uvs,0,t.uvs,0,this.uvs.length),t.triangles=new Array(this.triangles.length),s.arrayCopy(this.triangles,0,t.triangles,0,this.triangles.length),t.hullLength=this.hullLength,t.sequence=null!=this.sequence?this.sequence.copy():null,this.edges&&(t.edges=new Array(this.edges.length),s.arrayCopy(this.edges,0,t.edges,0,this.edges.length)),t.width=this.width,t.height=this.height,t}computeWorldVertices(t,e,i,n,s,r){null!=this.sequence&&this.sequence.apply(t,this),super.computeWorldVertices(t,e,i,n,s,r)}newLinkedMesh(){let t=new Xt(this.name,this.path);return t.region=this.region,t.color.setFromColor(this.color),t.timelineAttachment=this.timelineAttachment,t.setParentMesh(this.parentMesh?this.parentMesh:this),null!=t.region&&t.updateRegion(),t}}class Yt extends h{lengths=[];closed=!1;constantSpeed=!1;color=new e(1,1,1,1);constructor(t){super(t)}copy(){let t=new Yt(this.name);return this.copyTo(t),t.lengths=new Array(this.lengths.length),s.arrayCopy(this.lengths,0,t.lengths,0,this.lengths.length),t.closed=closed,t.constantSpeed=this.constantSpeed,t.color.setFromColor(this.color),t}}class Nt extends h{x=0;y=0;rotation=0;color=new e(.38,.94,0,1);constructor(t){super(t)}computeWorldPosition(t,e){return e.x=this.x*t.a+this.y*t.b+t.worldX,e.y=this.x*t.c+this.y*t.d+t.worldY,e}computeWorldRotation(t){const e=this.rotation*i.degRad,n=Math.cos(e),s=Math.sin(e),r=n*t.a+s*t.b,a=n*t.c+s*t.d;return i.atan2Deg(a,r)}copy(){let t=new Nt(this.name);return t.x=this.x,t.y=this.y,t.rotation=this.rotation,t.color.setFromColor(this.color),t}}class Ot extends l{x=0;y=0;scaleX=1;scaleY=1;rotation=0;width=0;height=0;color=new e(1,1,1,1);path;region=null;sequence=null;offset=s.newFloatArray(8);uvs=s.newFloatArray(8);tempColor=new e(1,1,1,1);constructor(t,e){super(t),this.path=e}updateRegion(){if(!this.region)throw new Error("Region not set.");let t=this.region,e=this.uvs;if(null==t)return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=1,e[5]=1,e[6]=1,void(e[7]=0);let n=this.width/this.region.originalWidth*this.scaleX,s=this.height/this.region.originalHeight*this.scaleY,r=-this.width/2*this.scaleX+this.region.offsetX*n,a=-this.height/2*this.scaleY+this.region.offsetY*s,o=r+this.region.width*n,l=a+this.region.height*s,h=this.rotation*i.degRad,c=Math.cos(h),u=Math.sin(h),d=this.x,f=this.y,p=r*c+d,m=r*u,g=a*c+f,x=a*u,v=o*c+d,y=o*u,b=l*c+f,w=l*u,C=this.offset;C[0]=p-x,C[1]=g+m,C[2]=p-w,C[3]=b+m,C[4]=v-w,C[5]=b+y,C[6]=v-x,C[7]=g+y,90==t.degrees?(e[0]=t.u2,e[1]=t.v2,e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)}computeWorldVertices(t,e,i,n){null!=this.sequence&&this.sequence.apply(t,this);let s=t.bone,r=this.offset,a=s.worldX,o=s.worldY,l=s.a,h=s.b,c=s.c,u=s.d,d=0,f=0;d=r[0],f=r[1],e[i]=d*l+f*h+a,e[i+1]=d*c+f*u+o,i+=n,d=r[2],f=r[3],e[i]=d*l+f*h+a,e[i+1]=d*c+f*u+o,i+=n,d=r[4],f=r[5],e[i]=d*l+f*h+a,e[i+1]=d*c+f*u+o,i+=n,d=r[6],f=r[7],e[i]=d*l+f*h+a,e[i+1]=d*c+f*u+o}copy(){let t=new Ot(this.name,this.path);return t.region=this.region,t.x=this.x,t.y=this.y,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.rotation=this.rotation,t.width=this.width,t.height=this.height,s.arrayCopy(this.uvs,0,t.uvs,0,8),s.arrayCopy(this.offset,0,t.offset,0,8),t.color.setFromColor(this.color),t.sequence=null!=this.sequence?this.sequence.copy():null,t}static X1=0;static Y1=1;static C1R=2;static C1G=3;static C1B=4;static C1A=5;static U1=6;static V1=7;static X2=8;static Y2=9;static C2R=10;static C2G=11;static C2B=12;static C2A=13;static U2=14;static V2=15;static X3=16;static Y3=17;static C3R=18;static C3G=19;static C3B=20;static C3A=21;static U3=22;static V3=23;static X4=24;static Y4=25;static C4R=26;static C4G=27;static C4B=28;static C4A=29;static U4=30;static V4=31}class _t{atlas;constructor(t){this.atlas=t}loadSequence(t,e,i){let n=i.regions;for(let s=0,r=n.length;s<r;s++){let r=i.getPath(e,s),a=this.atlas.findRegion(r);if(null==a)throw new Error("Region not found in atlas: "+r+" (sequence: "+t+")");n[s]=a}}newRegionAttachment(t,e,i,n){let s=new Ot(e,i);if(null!=n)this.loadSequence(e,i,n);else{let t=this.atlas.findRegion(i);if(!t)throw new Error("Region not found in atlas: "+i+" (region attachment: "+e+")");s.region=t}return s}newMeshAttachment(t,e,i,n){let s=new Xt(e,i);if(null!=n)this.loadSequence(e,i,n);else{let t=this.atlas.findRegion(i);if(!t)throw new Error("Region not found in atlas: "+i+" (mesh attachment: "+e+")");s.region=t}return s}newBoundingBoxAttachment(t,e){return new pt(e)}newPathAttachment(t,e){return new Yt(e)}newPointAttachment(t,e){return new Nt(e)}newClippingAttachment(t,e){return new mt(e)}}class Bt{index=0;name;parent=null;length=0;x=0;y=0;rotation=0;scaleX=1;scaleY=1;shearX=0;shearY=0;inherit=yt.Normal;skinRequired=!1;color=new e;icon;visible=!1;constructor(t,e,i){if(t<0)throw new Error("index must be >= 0.");if(!e)throw new Error("name cannot be null.");this.index=t,this.name=e,this.parent=i}}!function(t){t[t.Normal=0]="Normal",t[t.OnlyTranslation=1]="OnlyTranslation",t[t.NoRotationOrReflection=2]="NoRotationOrReflection",t[t.NoScale=3]="NoScale",t[t.NoScaleOrReflection=4]="NoScaleOrReflection"}(yt||(yt={}));class Vt{data;skeleton;parent=null;children=new Array;x=0;y=0;rotation=0;scaleX=0;scaleY=0;shearX=0;shearY=0;ax=0;ay=0;arotation=0;ascaleX=0;ascaleY=0;ashearX=0;ashearY=0;a=0;b=0;c=0;d=0;worldY=0;worldX=0;inherit=yt.Normal;sorted=!1;active=!1;constructor(t,e,i){if(!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=i,this.setToSetupPose()}isActive(){return this.active}update(t){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)}updateWorldTransform(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}updateWorldTransformWith(t,e,n,s,r,a,o){this.ax=t,this.ay=e,this.arotation=n,this.ascaleX=s,this.ascaleY=r,this.ashearX=a,this.ashearY=o;let l=this.parent;if(!l){let l=this.skeleton;const h=l.scaleX,c=l.scaleY,u=(n+a)*i.degRad,d=(n+90+o)*i.degRad;return this.a=Math.cos(u)*s*h,this.b=Math.cos(d)*r*h,this.c=Math.sin(u)*s*c,this.d=Math.sin(d)*r*c,this.worldX=t*h+l.x,void(this.worldY=e*c+l.y)}let h=l.a,c=l.b,u=l.c,d=l.d;switch(this.worldX=h*t+c*e+l.worldX,this.worldY=u*t+d*e+l.worldY,this.inherit){case yt.Normal:{const t=(n+a)*i.degRad,e=(n+90+o)*i.degRad,l=Math.cos(t)*s,f=Math.cos(e)*r,p=Math.sin(t)*s,m=Math.sin(e)*r;return this.a=h*l+c*p,this.b=h*f+c*m,this.c=u*l+d*p,void(this.d=u*f+d*m)}case yt.OnlyTranslation:{const t=(n+a)*i.degRad,e=(n+90+o)*i.degRad;this.a=Math.cos(t)*s,this.b=Math.cos(e)*r,this.c=Math.sin(t)*s,this.d=Math.sin(e)*r;break}case yt.NoRotationOrReflection:{let t=h*h+u*u,e=0;t>1e-4?(t=Math.abs(h*d-c*u)/t,h/=this.skeleton.scaleX,u/=this.skeleton.scaleY,c=u*t,d=h*t,e=Math.atan2(u,h)*i.radDeg):(h=0,u=0,e=90-Math.atan2(d,c)*i.radDeg);const l=(n+a-e)*i.degRad,f=(n+o-e+90)*i.degRad,p=Math.cos(l)*s,m=Math.cos(f)*r,g=Math.sin(l)*s,x=Math.sin(f)*r;this.a=h*p-c*g,this.b=h*m-c*x,this.c=u*p+d*g,this.d=u*m+d*x;break}case yt.NoScale:case yt.NoScaleOrReflection:{n*=i.degRad;const t=Math.cos(n),e=Math.sin(n);let l=(h*t+c*e)/this.skeleton.scaleX,f=(u*t+d*e)/this.skeleton.scaleY,p=Math.sqrt(l*l+f*f);p>1e-5&&(p=1/p),l*=p,f*=p,p=Math.sqrt(l*l+f*f),this.inherit==yt.NoScale&&h*d-c*u<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(p=-p),n=Math.PI/2+Math.atan2(f,l);const m=Math.cos(n)*p,g=Math.sin(n)*p;a*=i.degRad,o=(90+o)*i.degRad;const x=Math.cos(a)*s,v=Math.cos(o)*r,y=Math.sin(a)*s,b=Math.sin(o)*r;this.a=l*x+m*y,this.b=l*v+m*b,this.c=f*x+g*y,this.d=f*v+g*b;break}}this.a*=this.skeleton.scaleX,this.b*=this.skeleton.scaleX,this.c*=this.skeleton.scaleY,this.d*=this.skeleton.scaleY}setToSetupPose(){let t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY,this.inherit=t.inherit}updateAppliedTransform(){let t=this.parent;if(!t)return this.ax=this.worldX-this.skeleton.x,this.ay=this.worldY-this.skeleton.y,this.arotation=Math.atan2(this.c,this.a)*i.radDeg,this.ascaleX=Math.sqrt(this.a*this.a+this.c*this.c),this.ascaleY=Math.sqrt(this.b*this.b+this.d*this.d),this.ashearX=0,void(this.ashearY=Math.atan2(this.a*this.b+this.c*this.d,this.a*this.d-this.b*this.c)*i.radDeg);let e,n,s,r,a=t.a,o=t.b,l=t.c,h=t.d,c=1/(a*h-o*l),u=h*c,d=o*c,f=l*c,p=a*c,m=this.worldX-t.worldX,g=this.worldY-t.worldY;if(this.ax=m*u-g*d,this.ay=g*p-m*f,this.inherit==yt.OnlyTranslation)e=this.a,n=this.b,s=this.c,r=this.d;else{switch(this.inherit){case yt.NoRotationOrReflection:{let t=Math.abs(a*h-o*l)/(a*a+l*l),e=a/this.skeleton.scaleX;o=-l/this.skeleton.scaleY*t*this.skeleton.scaleX,h=e*t*this.skeleton.scaleY,c=1/(a*h-o*l),u=h*c,d=o*c;break}case yt.NoScale:case yt.NoScaleOrReflection:let t=i.cosDeg(this.rotation),e=i.sinDeg(this.rotation);a=(a*t+o*e)/this.skeleton.scaleX,l=(l*t+h*e)/this.skeleton.scaleY;let n=Math.sqrt(a*a+l*l);n>1e-5&&(n=1/n),a*=n,l*=n,n=Math.sqrt(a*a+l*l),this.inherit==yt.NoScale&&c<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(n=-n);let s=i.PI/2+Math.atan2(l,a);o=Math.cos(s)*n,h=Math.sin(s)*n,c=1/(a*h-o*l),u=h*c,d=o*c,f=l*c,p=a*c}e=u*this.a-d*this.c,n=u*this.b-d*this.d,s=p*this.c-f*this.a,r=p*this.d-f*this.b}if(this.ashearX=0,this.ascaleX=Math.sqrt(e*e+s*s),this.ascaleX>1e-4){let t=e*r-n*s;this.ascaleY=t/this.ascaleX,this.ashearY=-Math.atan2(e*n+s*r,t)*i.radDeg,this.arotation=Math.atan2(s,e)*i.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(n*n+r*r),this.ashearY=0,this.arotation=90-Math.atan2(r,n)*i.radDeg}getWorldRotationX(){return Math.atan2(this.c,this.a)*i.radDeg}getWorldRotationY(){return Math.atan2(this.d,this.b)*i.radDeg}getWorldScaleX(){return Math.sqrt(this.a*this.a+this.c*this.c)}getWorldScaleY(){return Math.sqrt(this.b*this.b+this.d*this.d)}worldToLocal(t){let e=1/(this.a*this.d-this.b*this.c),i=t.x-this.worldX,n=t.y-this.worldY;return t.x=i*this.d*e-n*this.b*e,t.y=n*this.a*e-i*this.c*e,t}localToWorld(t){let e=t.x,i=t.y;return t.x=e*this.a+i*this.b+this.worldX,t.y=e*this.c+i*this.d+this.worldY,t}worldToParent(t){if(null==t)throw new Error("world cannot be null.");return null==this.parent?t:this.parent.worldToLocal(t)}parentToWorld(t){if(null==t)throw new Error("world cannot be null.");return null==this.parent?t:this.parent.localToWorld(t)}worldToLocalRotation(t){let e=i.sinDeg(t),n=i.cosDeg(t);return Math.atan2(this.a*e-this.c*n,this.d*n-this.b*e)*i.radDeg+this.rotation-this.shearX}localToWorldRotation(t){t-=this.rotation-this.shearX;let e=i.sinDeg(t),n=i.cosDeg(t);return Math.atan2(n*this.c+e*this.d,n*this.a+e*this.b)*i.radDeg}rotateWorld(t){t*=i.degRad;const e=Math.sin(t),n=Math.cos(t),s=this.a,r=this.b;this.a=n*s-e*this.c,this.b=n*r-e*this.d,this.c=e*s+n*this.c,this.d=e*r+n*this.d}}class qt{pathPrefix="";textureLoader;downloader;assets={};errors={};toLoad=0;loaded=0;constructor(t,e="",i=new Wt){this.textureLoader=t,this.pathPrefix=e,this.downloader=i}start(t){return this.toLoad++,this.pathPrefix+t}success(t,e,i){this.toLoad--,this.loaded++,this.assets[e]=i,t&&t(e,i)}error(t,e,i){this.toLoad--,this.loaded++,this.errors[e]=i,t&&t(e,i)}loadAll(){return new Promise(((t,e)=>{let i=()=>{this.isLoadingComplete()?this.hasErrors()?e(this.errors):t(this):requestAnimationFrame(i)};requestAnimationFrame(i)}))}setRawDataURI(t,e){this.downloader.rawDataUris[this.pathPrefix+t]=e}loadBinary(t,e=(()=>{}),i=(()=>{})){t=this.start(t),this.downloader.downloadBinary(t,(i=>{this.success(e,t,i)}),((e,n)=>{this.error(i,t,`Couldn't load binary ${t}: status ${e}, ${n}`)}))}loadText(t,e=(()=>{}),i=(()=>{})){t=this.start(t),this.downloader.downloadText(t,(i=>{this.success(e,t,i)}),((e,n)=>{this.error(i,t,`Couldn't load text ${t}: status ${e}, ${n}`)}))}loadJson(t,e=(()=>{}),i=(()=>{})){t=this.start(t),this.downloader.downloadJson(t,(i=>{this.success(e,t,i)}),((e,n)=>{this.error(i,t,`Couldn't load JSON ${t}: status ${e}, ${n}`)}))}loadTexture(t,e=(()=>{}),i=(()=>{})){if(t=this.start(t),"undefined"!=typeof window&&"undefined"!=typeof navigator&&window.document){let n=new Image;n.crossOrigin="anonymous",n.onload=()=>{this.success(e,t,this.textureLoader(n))},n.onerror=()=>{this.error(i,t,`Couldn't load image: ${t}`)},this.downloader.rawDataUris[t]&&(t=this.downloader.rawDataUris[t]),n.src=t}else fetch(t,{mode:"cors"}).then((e=>e.ok?e.blob():(this.error(i,t,`Couldn't load image: ${t}`),null))).then((t=>t?createImageBitmap(t,{premultiplyAlpha:"none",colorSpaceConversion:"none"}):null)).then((i=>{i&&this.success(e,t,this.textureLoader(i))}))}loadTextureAtlas(t,e=(()=>{}),i=(()=>{}),n){let s=t.lastIndexOf("/"),r=s>=0?t.substring(0,s+1):"";t=this.start(t),this.downloader.downloadText(t,(s=>{try{let a=new Lt(s),o=a.pages.length,l=!1;for(let s of a.pages)this.loadTexture(n?n[s.name]:r+s.name,((i,n)=>{l||(s.setTexture(n),0==--o&&this.success(e,t,a))}),((e,n)=>{l||this.error(i,t,`Couldn't load texture atlas ${t} page image: ${e}`),l=!0}))}catch(e){this.error(i,t,`Couldn't parse texture atlas ${t}: ${e.message}`)}}),((e,n)=>{this.error(i,t,`Couldn't load texture atlas ${t}: status ${e}, ${n}`)}))}get(t){return this.assets[this.pathPrefix+t]}require(t){t=this.pathPrefix+t;let e=this.assets[t];if(e)return e;let i=this.errors[t];throw Error("Asset not found: "+t+(i?"\n"+i:""))}remove(t){t=this.pathPrefix+t;let e=this.assets[t];return e.dispose&&e.dispose(),delete this.assets[t],e}removeAll(){for(let t in this.assets){let e=this.assets[t];e.dispose&&e.dispose()}this.assets={}}isLoadingComplete(){return 0==this.toLoad}getToLoad(){return this.toLoad}getLoaded(){return this.loaded}dispose(){this.removeAll()}hasErrors(){return Object.keys(this.errors).length>0}getErrors(){return this.errors}}class Wt{callbacks={};rawDataUris={};dataUriToString(t){if(!t.startsWith("data:"))throw new Error("Not a data URI.");let e=t.indexOf("base64,");return-1!=e?(e+="base64,".length,atob(t.substr(e))):t.substr(t.indexOf(",")+1)}base64ToUint8Array(t){for(var e=window.atob(t),i=e.length,n=new Uint8Array(i),s=0;s<i;s++)n[s]=e.charCodeAt(s);return n}dataUriToUint8Array(t){if(!t.startsWith("data:"))throw new Error("Not a data URI.");let e=t.indexOf("base64,");if(-1==e)throw new Error("Not a binary data URI.");return e+="base64,".length,this.base64ToUint8Array(t.substr(e))}downloadText(t,e,i){if(this.start(t,e,i))return;if(this.rawDataUris[t]){try{let e=this.rawDataUris[t];this.finish(t,200,this.dataUriToString(e))}catch(e){this.finish(t,400,JSON.stringify(e))}return}let n=new XMLHttpRequest;n.overrideMimeType("text/html"),n.open("GET",t,!0);let s=()=>{this.finish(t,n.status,n.responseText)};n.onload=s,n.onerror=s,n.send()}downloadJson(t,e,i){this.downloadText(t,(t=>{e(JSON.parse(t))}),i)}downloadBinary(t,e,i){if(this.start(t,e,i))return;if(this.rawDataUris[t]){try{let e=this.rawDataUris[t];this.finish(t,200,this.dataUriToUint8Array(e))}catch(e){this.finish(t,400,JSON.stringify(e))}return}let n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer";let s=()=>{this.finish(t,n.status,n.response)};n.onload=()=>{200==n.status||0==n.status?this.finish(t,200,new Uint8Array(n.response)):s()},n.onerror=s,n.send()}start(t,e,i){let n=this.callbacks[t];try{if(n)return!0;this.callbacks[t]=n=[]}finally{n.push(e,i)}}finish(t,e,i){let n=this.callbacks[t];delete this.callbacks[t];let s=200==e||0==e?[i]:[e,i];for(let t=s.length-1,e=n.length;t<e;t+=2)n[t].apply(null,s)}}class jt{data;bones;target;bendDirection=0;compress=!1;stretch=!1;mix=1;softness=0;active=!1;constructor(t,e){if(!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(let i=0;i<t.bones.length;i++){let n=e.findBone(t.bones[i].name);if(!n)throw new Error(`Couldn't find bone ${t.bones[i].name}`);this.bones.push(n)}let i=e.findBone(t.target.name);if(!i)throw new Error(`Couldn't find bone ${t.target.name}`);this.target=i,this.mix=t.mix,this.softness=t.softness,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch}isActive(){return this.active}setToSetupPose(){const t=this.data;this.mix=t.mix,this.softness=t.softness,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch}update(t){if(0==this.mix)return;let e=this.target,i=this.bones;switch(i.length){case 1:this.apply1(i[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(i[0],i[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix)}}apply1(t,e,n,s,r,a,o){let l=t.parent;if(!l)throw new Error("IK bone must have parent.");let h=l.a,c=l.b,u=l.c,d=l.d,f=-t.ashearX-t.arotation,p=0,m=0;switch(t.inherit){case yt.OnlyTranslation:p=(e-t.worldX)*i.signum(t.skeleton.scaleX),m=(n-t.worldY)*i.signum(t.skeleton.scaleY);break;case yt.NoRotationOrReflection:let s=Math.abs(h*d-c*u)/Math.max(1e-4,h*h+u*u),r=h/t.skeleton.scaleX,a=u/t.skeleton.scaleY;c=-a*s*t.skeleton.scaleX,d=r*s*t.skeleton.scaleY,f+=Math.atan2(a,r)*i.radDeg;default:let o=e-l.worldX,g=n-l.worldY,x=h*d-c*u;Math.abs(x)<=1e-4?(p=0,m=0):(p=(o*d-g*c)/x-t.ax,m=(g*h-o*u)/x-t.ay)}f+=Math.atan2(m,p)*i.radDeg,t.ascaleX<0&&(f+=180),f>180?f-=360:f<-180&&(f+=360);let g=t.ascaleX,x=t.ascaleY;if(s||r){switch(t.inherit){case yt.NoScale:case yt.NoScaleOrReflection:p=e-t.worldX,m=n-t.worldY}const i=t.data.length*g;if(i>1e-4){const t=p*p+m*m;if(s&&t<i*i||r&&t>i*i){const e=(Math.sqrt(t)/i-1)*o+1;g*=e,a&&(x*=e)}}}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+f*o,g,x,t.ashearX,t.ashearY)}apply2(t,e,n,s,r,a,o,l,h){if(t.inherit!=yt.Normal||e.inherit!=yt.Normal)return;let c=t.ax,u=t.ay,d=t.ascaleX,f=t.ascaleY,p=d,m=f,g=e.ascaleX,x=0,v=0,y=0;d<0?(d=-d,x=180,y=-1):(x=0,y=1),f<0&&(f=-f,y=-y),g<0?(g=-g,v=180):v=0;let b=e.ax,w=0,C=0,A=0,T=t.a,S=t.b,k=t.c,E=t.d,M=Math.abs(d-f)<=1e-4;!M||a?(w=0,C=T*b+t.worldX,A=k*b+t.worldY):(w=e.ay,C=T*b+S*w+t.worldX,A=k*b+E*w+t.worldY);let R=t.parent;if(!R)throw new Error("IK parent must itself have a parent.");T=R.a,S=R.b,k=R.c,E=R.d;let I=T*E-S*k,L=C-R.worldX,P=A-R.worldY;I=Math.abs(I)<=1e-4?0:1/I;let D,F,X=(L*E-P*S)*I-c,Y=(P*T-L*k)*I-u,N=Math.sqrt(X*X+Y*Y),O=e.data.length*g;if(N<1e-4)return this.apply1(t,n,s,!1,a,!1,h),void e.updateWorldTransformWith(b,w,0,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY);L=n-R.worldX,P=s-R.worldY;let _=(L*E-P*S)*I-c,B=(P*T-L*k)*I-u,V=_*_+B*B;if(0!=l){l*=d*(g+1)*.5;let t=Math.sqrt(V),e=t-N-O*d+l;if(e>0){let i=Math.min(1,e/(2*l))-1;i=(e-l*(1-i*i))/t,_-=i*_,B-=i*B,V=_*_+B*B}}t:if(M){O*=d;let t=(V-N*N-O*O)/(2*N*O);t<-1?(t=-1,F=Math.PI*r):t>1?(t=1,F=0,a&&(T=(Math.sqrt(V)/(N+O)-1)*h+1,p*=T,o&&(m*=T))):F=Math.acos(t)*r,T=N+O*t,S=O*Math.sin(F),D=Math.atan2(B*T-_*S,_*T+B*S)}else{T=d*O,S=f*O;let t=T*T,e=S*S,n=Math.atan2(B,_);k=e*N*N+t*V-t*e;let s=-2*e*N,a=e-t;if(E=s*s-4*a*k,E>=0){let t=Math.sqrt(E);s<0&&(t=-t),t=.5*-(s+t);let e=t/a,i=k/t,o=Math.abs(e)<Math.abs(i)?e:i;if(o*o<=V){P=Math.sqrt(V-o*o)*r,D=n-Math.atan2(P,o),F=Math.atan2(P/f,(o-N)/d);break t}}let o=i.PI,l=N-T,h=l*l,c=0,u=0,p=N+T,m=p*p,g=0;k=-T*N/(t-e),k>=-1&&k<=1&&(k=Math.acos(k),L=T*Math.cos(k)+N,P=S*Math.sin(k),E=L*L+P*P,E<h&&(o=k,h=E,l=L,c=P),E>m&&(u=k,m=E,p=L,g=P)),V<=.5*(h+m)?(D=n-Math.atan2(c*r,l),F=o*r):(D=n-Math.atan2(g*r,p),F=u*r)}let q=Math.atan2(w,b)*y,W=t.arotation;D=(D-q)*i.radDeg+x-W,D>180?D-=360:D<-180&&(D+=360),t.updateWorldTransformWith(c,u,W+D*h,p,m,0,0),W=e.arotation,F=((F+q)*i.radDeg-e.ashearX)*y+v-W,F>180?F-=360:F<-180&&(F+=360),e.updateWorldTransformWith(b,w,W+F*h,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}}class zt{name;order;skinRequired;constructor(t,e,i){this.name=t,this.order=e,this.skinRequired=i}}class Ht extends zt{bones=new Array;_target=null;set target(t){this._target=t}get target(){if(this._target)return this._target;throw new Error("SlotData not set.")}positionMode=bt.Fixed;spacingMode=wt.Fixed;rotateMode=Ct.Chain;offsetRotation=0;position=0;spacing=0;mixRotate=0;mixX=0;mixY=0;constructor(t){super(t,0,!1)}}(Et=bt||(bt={}))[Et.Fixed=0]="Fixed",Et[Et.Percent=1]="Percent",(kt=wt||(wt={}))[kt.Length=0]="Length",kt[kt.Fixed=1]="Fixed",kt[kt.Percent=2]="Percent",kt[kt.Proportional=3]="Proportional",function(t){t[t.Tangent=0]="Tangent",t[t.Chain=1]="Chain",t[t.ChainScale=2]="ChainScale"}(Ct||(Ct={}));class Ut{static NONE=-1;static BEFORE=-2;static AFTER=-3;static epsilon=1e-5;data;bones;target;position=0;spacing=0;mixRotate=0;mixX=0;mixY=0;spaces=new Array;positions=new Array;world=new Array;curves=new Array;lengths=new Array;segments=new Array;active=!1;constructor(t,e){if(!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(let i=0,n=t.bones.length;i<n;i++){let n=e.findBone(t.bones[i].name);if(!n)throw new Error(`Couldn't find bone ${t.bones[i].name}.`);this.bones.push(n)}let i=e.findSlot(t.target.name);if(!i)throw new Error(`Couldn't find target bone ${t.target.name}`);this.target=i,this.position=t.position,this.spacing=t.spacing,this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY}isActive(){return this.active}setToSetupPose(){const t=this.data;this.position=t.position,this.spacing=t.spacing,this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY}update(t){let e=this.target.getAttachment();if(!(e instanceof Yt))return;let n=this.mixRotate,r=this.mixX,a=this.mixY;if(0==n&&0==r&&0==a)return;let o=this.data,l=o.rotateMode==Ct.Tangent,h=o.rotateMode==Ct.ChainScale,c=this.bones,u=c.length,d=l?u:u+1,f=s.setArraySize(this.spaces,d),p=h?this.lengths=s.setArraySize(this.lengths,u):[],m=this.spacing;switch(o.spacingMode){case wt.Percent:if(h)for(let t=0,e=d-1;t<e;t++){let e=c[t],i=e.data.length,n=i*e.a,s=i*e.c;p[t]=Math.sqrt(n*n+s*s)}s.arrayFill(f,1,d,m);break;case wt.Proportional:let t=0;for(let e=0,i=d-1;e<i;){let i=c[e],n=i.data.length;if(n<Ut.epsilon)h&&(p[e]=0),f[++e]=m;else{let s=n*i.a,r=n*i.c,a=Math.sqrt(s*s+r*r);h&&(p[e]=a),f[++e]=a,t+=a}}if(t>0){t=d/t*m;for(let e=1;e<d;e++)f[e]*=t}break;default:let e=o.spacingMode==wt.Length;for(let t=0,i=d-1;t<i;){let i=c[t],n=i.data.length;if(n<Ut.epsilon)h&&(p[t]=0),f[++t]=m;else{let s=n*i.a,r=n*i.c,a=Math.sqrt(s*s+r*r);h&&(p[t]=a),f[++t]=(e?n+m:m)*a/n}}}let g=this.computeWorldPositions(e,d,l),x=g[0],v=g[1],y=o.offsetRotation,b=!1;if(0==y)b=o.rotateMode==Ct.Chain;else{b=!1;let t=this.target.bone;y*=t.a*t.d-t.b*t.c>0?i.degRad:-i.degRad}for(let t=0,e=3;t<u;t++,e+=3){let s=c[t];s.worldX+=(x-s.worldX)*r,s.worldY+=(v-s.worldY)*a;let o=g[e],u=g[e+1],d=o-x,m=u-v;if(h){let e=p[t];if(0!=e){let t=(Math.sqrt(d*d+m*m)/e-1)*n+1;s.a*=t,s.c*=t}}if(x=o,v=u,n>0){let r=s.a,a=s.b,o=s.c,h=s.d,c=0,u=0,p=0;if(c=l?g[e-1]:0==f[t+1]?g[e+2]:Math.atan2(m,d),c-=Math.atan2(o,r),b){u=Math.cos(c),p=Math.sin(c);let t=s.data.length;x+=(t*(u*r-p*o)-d)*n,v+=(t*(p*r+u*o)-m)*n}else c+=y;c>i.PI?c-=i.PI2:c<-i.PI&&(c+=i.PI2),c*=n,u=Math.cos(c),p=Math.sin(c),s.a=u*r-p*o,s.b=u*a-p*h,s.c=p*r+u*o,s.d=p*a+u*h}s.updateAppliedTransform()}}computeWorldPositions(t,e,i){let n=this.target,r=this.position,a=this.spaces,o=s.setArraySize(this.positions,3*e+2),l=this.world,h=t.closed,c=t.worldVerticesLength,u=c/6,d=Ut.NONE;if(!t.constantSpeed){let f=t.lengths;u-=h?1:2;let p,m=f[u];switch(this.data.positionMode==bt.Percent&&(r*=m),this.data.spacingMode){case wt.Percent:p=m;break;case wt.Proportional:p=m/e;break;default:p=1}l=s.setArraySize(this.world,8);for(let s=0,g=0,x=0;s<e;s++,g+=3){let e=a[s]*p;r+=e;let v=r;if(h)v%=m,v<0&&(v+=m),x=0;else{if(v<0){d!=Ut.BEFORE&&(d=Ut.BEFORE,t.computeWorldVertices(n,2,4,l,0,2)),this.addBeforePosition(v,l,0,o,g);continue}if(v>m){d!=Ut.AFTER&&(d=Ut.AFTER,t.computeWorldVertices(n,c-6,4,l,0,2)),this.addAfterPosition(v-m,l,0,o,g);continue}}for(;;x++){let t=f[x];if(!(v>t)){if(0==x)v/=t;else{let e=f[x-1];v=(v-e)/(t-e)}break}}x!=d&&(d=x,h&&x==u?(t.computeWorldVertices(n,c-4,4,l,0,2),t.computeWorldVertices(n,0,4,l,4,2)):t.computeWorldVertices(n,6*x+2,8,l,0,2)),this.addCurvePosition(v,l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],o,g,i||s>0&&0==e)}return o}h?(c+=2,l=s.setArraySize(this.world,c),t.computeWorldVertices(n,2,c-4,l,0,2),t.computeWorldVertices(n,0,2,l,c-4,2),l[c-2]=l[0],l[c-1]=l[1]):(u--,c-=4,l=s.setArraySize(this.world,c),t.computeWorldVertices(n,2,c,l,0,2));let f,p=s.setArraySize(this.curves,u),m=0,g=l[0],x=l[1],v=0,y=0,b=0,w=0,C=0,A=0,T=0,S=0,k=0,E=0,M=0,R=0,I=0,L=0;for(let t=0,e=2;t<u;t++,e+=6)v=l[e],y=l[e+1],b=l[e+2],w=l[e+3],C=l[e+4],A=l[e+5],T=.1875*(g-2*v+b),S=.1875*(x-2*y+w),k=.09375*(3*(v-b)-g+C),E=.09375*(3*(y-w)-x+A),M=2*T+k,R=2*S+E,I=.75*(v-g)+T+.16666667*k,L=.75*(y-x)+S+.16666667*E,m+=Math.sqrt(I*I+L*L),I+=M,L+=R,M+=k,R+=E,m+=Math.sqrt(I*I+L*L),I+=M,L+=R,m+=Math.sqrt(I*I+L*L),I+=M+k,L+=R+E,m+=Math.sqrt(I*I+L*L),p[t]=m,g=C,x=A;switch(this.data.positionMode==bt.Percent&&(r*=m),this.data.spacingMode){case wt.Percent:f=m;break;case wt.Proportional:f=m/e;break;default:f=1}let P=this.segments,D=0;for(let t=0,n=0,s=0,u=0;t<e;t++,n+=3){let e=a[t]*f;r+=e;let F=r;if(h)F%=m,F<0&&(F+=m),s=0;else{if(F<0){this.addBeforePosition(F,l,0,o,n);continue}if(F>m){this.addAfterPosition(F-m,l,c-4,o,n);continue}}for(;;s++){let t=p[s];if(!(F>t)){if(0==s)F/=t;else{let e=p[s-1];F=(F-e)/(t-e)}break}}if(s!=d){d=s;let t=6*s;for(g=l[t],x=l[t+1],v=l[t+2],y=l[t+3],b=l[t+4],w=l[t+5],C=l[t+6],A=l[t+7],T=.03*(g-2*v+b),S=.03*(x-2*y+w),k=.006*(3*(v-b)-g+C),E=.006*(3*(y-w)-x+A),M=2*T+k,R=2*S+E,I=.3*(v-g)+T+.16666667*k,L=.3*(y-x)+S+.16666667*E,D=Math.sqrt(I*I+L*L),P[0]=D,t=1;t<8;t++)I+=M,L+=R,M+=k,R+=E,D+=Math.sqrt(I*I+L*L),P[t]=D;I+=M,L+=R,D+=Math.sqrt(I*I+L*L),P[8]=D,I+=M+k,L+=R+E,D+=Math.sqrt(I*I+L*L),P[9]=D,u=0}for(F*=D;;u++){let t=P[u];if(!(F>t)){if(0==u)F/=t;else{let e=P[u-1];F=u+(F-e)/(t-e)}break}}this.addCurvePosition(.1*F,g,x,v,y,b,w,C,A,o,n,i||t>0&&0==e)}return o}addBeforePosition(t,e,i,n,s){let r=e[i],a=e[i+1],o=e[i+2]-r,l=e[i+3]-a,h=Math.atan2(l,o);n[s]=r+t*Math.cos(h),n[s+1]=a+t*Math.sin(h),n[s+2]=h}addAfterPosition(t,e,i,n,s){let r=e[i+2],a=e[i+3],o=r-e[i],l=a-e[i+1],h=Math.atan2(l,o);n[s]=r+t*Math.cos(h),n[s+1]=a+t*Math.sin(h),n[s+2]=h}addCurvePosition(t,e,i,n,s,r,a,o,l,h,c,u){if(0==t||isNaN(t))return h[c]=e,h[c+1]=i,void(h[c+2]=Math.atan2(s-i,n-e));let d=t*t,f=d*t,p=1-t,m=p*p,g=m*p,x=p*t,v=3*x,y=p*v,b=v*t,w=e*g+n*y+r*b+o*f,C=i*g+s*y+a*b+l*f;h[c]=w,h[c+1]=C,u&&(h[c+2]=t<.001?Math.atan2(s-i,n-e):Math.atan2(C-(i*m+s*x*2+a*d),w-(e*m+n*x*2+r*d)))}}class $t{data;_bone=null;set bone(t){this._bone=t}get bone(){if(this._bone)return this._bone;throw new Error("Bone not set.")}inertia=0;strength=0;damping=0;massInverse=0;wind=0;gravity=0;mix=0;_reset=!0;ux=0;uy=0;cx=0;cy=0;tx=0;ty=0;xOffset=0;xVelocity=0;yOffset=0;yVelocity=0;rotateOffset=0;rotateVelocity=0;scaleOffset=0;scaleVelocity=0;active=!1;skeleton;remaining=0;lastTime=0;constructor(t,e){this.data=t,this.skeleton=e,this.bone=e.bones[t.bone.index],this.inertia=t.inertia,this.strength=t.strength,this.damping=t.damping,this.massInverse=t.massInverse,this.wind=t.wind,this.gravity=t.gravity,this.mix=t.mix}reset(){this.remaining=0,this.lastTime=this.skeleton.time,this._reset=!0,this.xOffset=0,this.xVelocity=0,this.yOffset=0,this.yVelocity=0,this.rotateOffset=0,this.rotateVelocity=0,this.scaleOffset=0,this.scaleVelocity=0}setToSetupPose(){const t=this.data;this.inertia=t.inertia,this.strength=t.strength,this.damping=t.damping,this.massInverse=t.massInverse,this.wind=t.wind,this.gravity=t.gravity,this.mix=t.mix}isActive(){return this.active}update(t){const e=this.mix;if(0==e)return;const n=this.data.x>0,s=this.data.y>0,r=this.data.rotate>0||this.data.shearX>0,a=this.data.scaleX>0,o=this.bone,l=o.data.length;switch(t){case At.none:return;case At.reset:this.reset();case At.update:const t=Math.max(this.skeleton.time-this.lastTime,0);this.remaining+=t,this.lastTime=this.skeleton.time;const h=o.worldX,c=o.worldY;if(this._reset)this._reset=!1,this.ux=h,this.uy=c;else{let u=this.remaining,d=this.inertia,f=this.data.limit*t,p=this.data.step,m=this.skeleton.data.referenceScale,g=-1;if(n||s){if(n){const t=(this.ux-h)*d;this.xOffset+=t>f?f:t<-f?-f:t,this.ux=h}if(s){const t=(this.uy-c)*d;this.yOffset+=t>f?f:t<-f?-f:t,this.uy=c}if(u>=p){g=Math.pow(this.damping,60*p);const t=this.massInverse*p,e=this.strength,i=this.wind*m,r=(Kt.yDown?-this.gravity:this.gravity)*m;do{n&&(this.xVelocity+=(i-this.xOffset*e)*t,this.xOffset+=this.xVelocity*p,this.xVelocity*=g),s&&(this.yVelocity-=(r+this.yOffset*e)*t,this.yOffset+=this.yVelocity*p,this.yVelocity*=g),u-=p}while(u>=p)}n&&(o.worldX+=this.xOffset*e*this.data.x),s&&(o.worldY+=this.yOffset*e*this.data.y)}if(r||a){let t=Math.atan2(o.c,o.a),n=0,s=0,h=0,c=this.cx-o.worldX,x=this.cy-o.worldY;if(c>f?c=f:c<-f&&(c=-f),x>f?x=f:x<-f&&(x=-f),r){h=(this.data.rotate+this.data.shearX)*e;let r=Math.atan2(x+this.ty,c+this.tx)-t-this.rotateOffset*h;this.rotateOffset+=(r-Math.ceil(r*i.invPI2-.5)*i.PI2)*d,r=this.rotateOffset*h+t,n=Math.cos(r),s=Math.sin(r),a&&(r=l*o.getWorldScaleX(),r>0&&(this.scaleOffset+=(c*n+x*s)*d/r))}else{n=Math.cos(t),s=Math.sin(t);const e=l*o.getWorldScaleX();e>0&&(this.scaleOffset+=(c*n+x*s)*d/e)}if(u=this.remaining,u>=p){-1==g&&(g=Math.pow(this.damping,60*p));const e=this.massInverse*p,i=this.strength,o=this.wind,c=Kt.yDown?-this.gravity:this.gravity,d=l/m;for(;;)if(u-=p,a&&(this.scaleVelocity+=(o*n-c*s-this.scaleOffset*i)*e,this.scaleOffset+=this.scaleVelocity*p,this.scaleVelocity*=g),r){if(this.rotateVelocity-=((o*s+c*n)*d+this.rotateOffset*i)*e,this.rotateOffset+=this.rotateVelocity*p,this.rotateVelocity*=g,u<p)break;const r=this.rotateOffset*h+t;n=Math.cos(r),s=Math.sin(r)}else if(u<p)break}}this.remaining=u}this.cx=o.worldX,this.cy=o.worldY;break;case At.pose:n&&(o.worldX+=this.xOffset*e*this.data.x),s&&(o.worldY+=this.yOffset*e*this.data.y)}if(r){let t=this.rotateOffset*e,i=0,n=0,s=0;if(this.data.shearX>0){let e=0;this.data.rotate>0&&(e=t*this.data.rotate,i=Math.sin(e),n=Math.cos(e),s=o.b,o.b=n*s-i*o.d,o.d=i*s+n*o.d),e+=t*this.data.shearX,i=Math.sin(e),n=Math.cos(e),s=o.a,o.a=n*s-i*o.c,o.c=i*s+n*o.c}else t*=this.data.rotate,i=Math.sin(t),n=Math.cos(t),s=o.a,o.a=n*s-i*o.c,o.c=i*s+n*o.c,s=o.b,o.b=n*s-i*o.d,o.d=i*s+n*o.d}if(a){const t=1+this.scaleOffset*e*this.data.scaleX;o.a*=t,o.c*=t}t!=At.pose&&(this.tx=l*o.a,this.ty=l*o.c),o.updateAppliedTransform()}translate(t,e){this.ux-=t,this.uy-=e,this.cx-=t,this.cy-=e}rotate(t,e,n){const s=n*i.degRad,r=Math.cos(s),a=Math.sin(s),o=this.cx-t,l=this.cy-e;this.translate(o*r-l*a-o,o*a+l*r-l)}}class Gt{data;bone;color;darkColor=null;attachment=null;attachmentState=0;sequenceIndex=-1;deform=new Array;constructor(t,i){if(!t)throw new Error("data cannot be null.");if(!i)throw new Error("bone cannot be null.");this.data=t,this.bone=i,this.color=new e,this.darkColor=t.darkColor?new e:null,this.setToSetupPose()}getSkeleton(){return this.bone.skeleton}getAttachment(){return this.attachment}setAttachment(t){this.attachment!=t&&(t instanceof h&&this.attachment instanceof h&&t.timelineAttachment==this.attachment.timelineAttachment||(this.deform.length=0),this.attachment=t,this.sequenceIndex=-1)}setToSetupPose(){this.color.setFromColor(this.data.color),this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName?(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName))):this.attachment=null}}class Jt{data;bones;target;mixRotate=0;mixX=0;mixY=0;mixScaleX=0;mixScaleY=0;mixShearY=0;temp=new a;active=!1;constructor(t,e){if(!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(let i=0;i<t.bones.length;i++){let n=e.findBone(t.bones[i].name);if(!n)throw new Error(`Couldn't find bone ${t.bones[i].name}.`);this.bones.push(n)}let i=e.findBone(t.target.name);if(!i)throw new Error(`Couldn't find target bone ${t.target.name}.`);this.target=i,this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY,this.mixScaleX=t.mixScaleX,this.mixScaleY=t.mixScaleY,this.mixShearY=t.mixShearY}isActive(){return this.active}setToSetupPose(){const t=this.data;this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY,this.mixScaleX=t.mixScaleX,this.mixScaleY=t.mixScaleY,this.mixShearY=t.mixShearY}update(t){0==this.mixRotate&&0==this.mixX&&0==this.mixY&&0==this.mixScaleX&&0==this.mixScaleY&&0==this.mixShearY||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())}applyAbsoluteWorld(){let t=this.mixRotate,e=this.mixX,n=this.mixY,s=this.mixScaleX,r=this.mixScaleY,a=this.mixShearY,o=0!=e||0!=n,l=this.target,h=l.a,c=l.b,u=l.c,d=l.d,f=h*d-c*u>0?i.degRad:-i.degRad,p=this.data.offsetRotation*f,m=this.data.offsetShearY*f,g=this.bones;for(let f=0,x=g.length;f<x;f++){let x=g[f];if(0!=t){let e=x.a,n=x.b,s=x.c,r=x.d,a=Math.atan2(u,h)-Math.atan2(s,e)+p;a>i.PI?a-=i.PI2:a<-i.PI&&(a+=i.PI2),a*=t;let o=Math.cos(a),l=Math.sin(a);x.a=o*e-l*s,x.b=o*n-l*r,x.c=l*e+o*s,x.d=l*n+o*r}if(o){let t=this.temp;l.localToWorld(t.set(this.data.offsetX,this.data.offsetY)),x.worldX+=(t.x-x.worldX)*e,x.worldY+=(t.y-x.worldY)*n}if(0!=s){let t=Math.sqrt(x.a*x.a+x.c*x.c);0!=t&&(t=(t+(Math.sqrt(h*h+u*u)-t+this.data.offsetScaleX)*s)/t),x.a*=t,x.c*=t}if(0!=r){let t=Math.sqrt(x.b*x.b+x.d*x.d);0!=t&&(t=(t+(Math.sqrt(c*c+d*d)-t+this.data.offsetScaleY)*r)/t),x.b*=t,x.d*=t}if(a>0){let t=x.b,e=x.d,n=Math.atan2(e,t),s=Math.atan2(d,c)-Math.atan2(u,h)-(n-Math.atan2(x.c,x.a));s>i.PI?s-=i.PI2:s<-i.PI&&(s+=i.PI2),s=n+(s+m)*a;let r=Math.sqrt(t*t+e*e);x.b=Math.cos(s)*r,x.d=Math.sin(s)*r}x.updateAppliedTransform()}}applyRelativeWorld(){let t=this.mixRotate,e=this.mixX,n=this.mixY,s=this.mixScaleX,r=this.mixScaleY,a=this.mixShearY,o=0!=e||0!=n,l=this.target,h=l.a,c=l.b,u=l.c,d=l.d,f=h*d-c*u>0?i.degRad:-i.degRad,p=this.data.offsetRotation*f,m=this.data.offsetShearY*f,g=this.bones;for(let f=0,x=g.length;f<x;f++){let x=g[f];if(0!=t){let e=x.a,n=x.b,s=x.c,r=x.d,a=Math.atan2(u,h)+p;a>i.PI?a-=i.PI2:a<-i.PI&&(a+=i.PI2),a*=t;let o=Math.cos(a),l=Math.sin(a);x.a=o*e-l*s,x.b=o*n-l*r,x.c=l*e+o*s,x.d=l*n+o*r}if(o){let t=this.temp;l.localToWorld(t.set(this.data.offsetX,this.data.offsetY)),x.worldX+=t.x*e,x.worldY+=t.y*n}if(0!=s){let t=(Math.sqrt(h*h+u*u)-1+this.data.offsetScaleX)*s+1;x.a*=t,x.c*=t}if(0!=r){let t=(Math.sqrt(c*c+d*d)-1+this.data.offsetScaleY)*r+1;x.b*=t,x.d*=t}if(a>0){let t=Math.atan2(d,c)-Math.atan2(u,h);t>i.PI?t-=i.PI2:t<-i.PI&&(t+=i.PI2);let e=x.b,n=x.d;t=Math.atan2(n,e)+(t-i.PI/2+m)*a;let s=Math.sqrt(e*e+n*n);x.b=Math.cos(t)*s,x.d=Math.sin(t)*s}x.updateAppliedTransform()}}applyAbsoluteLocal(){let t=this.mixRotate,e=this.mixX,i=this.mixY,n=this.mixScaleX,s=this.mixScaleY,r=this.mixShearY,a=this.target,o=this.bones;for(let l=0,h=o.length;l<h;l++){let h=o[l],c=h.arotation;0!=t&&(c+=(a.arotation-c+this.data.offsetRotation)*t);let u=h.ax,d=h.ay;u+=(a.ax-u+this.data.offsetX)*e,d+=(a.ay-d+this.data.offsetY)*i;let f=h.ascaleX,p=h.ascaleY;0!=n&&0!=f&&(f=(f+(a.ascaleX-f+this.data.offsetScaleX)*n)/f),0!=s&&0!=p&&(p=(p+(a.ascaleY-p+this.data.offsetScaleY)*s)/p);let m=h.ashearY;0!=r&&(m+=(a.ashearY-m+this.data.offsetShearY)*r),h.updateWorldTransformWith(u,d,c,f,p,h.ashearX,m)}}applyRelativeLocal(){let t=this.mixRotate,e=this.mixX,i=this.mixY,n=this.mixScaleX,s=this.mixScaleY,r=this.mixShearY,a=this.target,o=this.bones;for(let l=0,h=o.length;l<h;l++){let h=o[l],c=h.arotation+(a.arotation+this.data.offsetRotation)*t,u=h.ax+(a.ax+this.data.offsetX)*e,d=h.ay+(a.ay+this.data.offsetY)*i,f=h.ascaleX*((a.ascaleX-1+this.data.offsetScaleX)*n+1),p=h.ascaleY*((a.ascaleY-1+this.data.offsetScaleY)*s+1),m=h.ashearY+(a.ashearY+this.data.offsetShearY)*r;h.updateWorldTransformWith(u,d,c,f,p,h.ashearX,m)}}}class Kt{static quadTriangles=[0,1,2,2,3,0];static yDown=!1;data;bones;slots;drawOrder;ikConstraints;transformConstraints;pathConstraints;physicsConstraints;_updateCache=new Array;skin=null;color;scaleX=1;_scaleY=1;get scaleY(){return Kt.yDown?-this._scaleY:this._scaleY}set scaleY(t){this._scaleY=t}x=0;y=0;time=0;constructor(t){if(!t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(let e=0;e<t.bones.length;e++){let i,n=t.bones[e];if(n.parent){let t=this.bones[n.parent.index];i=new Vt(n,this,t),t.children.push(i)}else i=new Vt(n,this,null);this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(let e=0;e<t.slots.length;e++){let i=t.slots[e],n=this.bones[i.boneData.index],s=new Gt(i,n);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(let e=0;e<t.ikConstraints.length;e++){let i=t.ikConstraints[e];this.ikConstraints.push(new jt(i,this))}this.transformConstraints=new Array;for(let e=0;e<t.transformConstraints.length;e++){let i=t.transformConstraints[e];this.transformConstraints.push(new Jt(i,this))}this.pathConstraints=new Array;for(let e=0;e<t.pathConstraints.length;e++){let i=t.pathConstraints[e];this.pathConstraints.push(new Ut(i,this))}this.physicsConstraints=new Array;for(let e=0;e<t.physicsConstraints.length;e++){let i=t.physicsConstraints[e];this.physicsConstraints.push(new $t(i,this))}this.color=new e(1,1,1,1),this.updateCache()}updateCache(){this._updateCache.length=0;let t=this.bones;for(let e=0,i=t.length;e<i;e++){let i=t[e];i.sorted=i.data.skinRequired,i.active=!i.sorted}if(this.skin){let t=this.skin.bones;for(let e=0,i=this.skin.bones.length;e<i;e++){let i=this.bones[t[e].index];do{i.sorted=!1,i.active=!0,i=i.parent}while(i)}}let e=this.ikConstraints,i=this.transformConstraints,n=this.pathConstraints,s=this.physicsConstraints,r=e.length,a=i.length,o=n.length,l=this.physicsConstraints.length,h=r+a+o+l;t:for(let t=0;t<h;t++){for(let i=0;i<r;i++){let n=e[i];if(n.data.order==t){this.sortIkConstraint(n);continue t}}for(let e=0;e<a;e++){let n=i[e];if(n.data.order==t){this.sortTransformConstraint(n);continue t}}for(let e=0;e<o;e++){let i=n[e];if(i.data.order==t){this.sortPathConstraint(i);continue t}}for(let e=0;e<l;e++){const i=s[e];if(i.data.order==t){this.sortPhysicsConstraint(i);continue t}}}for(let e=0,i=t.length;e<i;e++)this.sortBone(t[e])}sortIkConstraint(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||this.skin&&s.contains(this.skin.constraints,t.data,!0)),!t.active)return;let e=t.target;this.sortBone(e);let i=t.bones,n=i[0];if(this.sortBone(n),1==i.length)this._updateCache.push(t),this.sortReset(n.children);else{let e=i[i.length-1];this.sortBone(e),this._updateCache.push(t),this.sortReset(n.children),e.sorted=!0}}sortPathConstraint(t){if(t.active=t.target.bone.isActive()&&(!t.data.skinRequired||this.skin&&s.contains(this.skin.constraints,t.data,!0)),!t.active)return;let e=t.target,i=e.data.index,n=e.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,i,n),this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,i,n);for(let t=0,e=this.data.skins.length;t<e;t++)this.sortPathConstraintAttachment(this.data.skins[t],i,n);let r=e.getAttachment();r instanceof Yt&&this.sortPathConstraintAttachmentWith(r,n);let a=t.bones,o=a.length;for(let t=0;t<o;t++)this.sortBone(a[t]);this._updateCache.push(t);for(let t=0;t<o;t++)this.sortReset(a[t].children);for(let t=0;t<o;t++)a[t].sorted=!0}sortTransformConstraint(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||this.skin&&s.contains(this.skin.constraints,t.data,!0)),!t.active)return;this.sortBone(t.target);let e=t.bones,i=e.length;if(t.data.local)for(let t=0;t<i;t++){let i=e[t];this.sortBone(i.parent),this.sortBone(i)}else for(let t=0;t<i;t++)this.sortBone(e[t]);this._updateCache.push(t);for(let t=0;t<i;t++)this.sortReset(e[t].children);for(let t=0;t<i;t++)e[t].sorted=!0}sortPathConstraintAttachment(t,e,i){let n=t.attachments[e];if(n)for(let t in n)this.sortPathConstraintAttachmentWith(n[t],i)}sortPathConstraintAttachmentWith(t,e){if(!(t instanceof Yt))return;let i=t.bones;if(i){let t=this.bones;for(let e=0,n=i.length;e<n;){let n=i[e++];for(n+=e;e<n;)this.sortBone(t[i[e++]])}}else this.sortBone(e)}sortPhysicsConstraint(t){const e=t.bone;t.active=e.active&&(!t.data.skinRequired||null!=this.skin&&s.contains(this.skin.constraints,t.data,!0)),t.active&&(this.sortBone(e),this._updateCache.push(t),this.sortReset(e.children),e.sorted=!0)}sortBone(t){if(!t)return;if(t.sorted)return;let e=t.parent;e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}sortReset(t){for(let e=0,i=t.length;e<i;e++){let i=t[e];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}}updateWorldTransform(t){if(!t)throw new Error("physics is undefined");let e=this.bones;for(let t=0,i=e.length;t<i;t++){let i=e[t];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY}let i=this._updateCache;for(let e=0,n=i.length;e<n;e++)i[e].update(t)}updateWorldTransformWith(t,e){let n=this.getRootBone();if(!n)throw new Error("Root bone must not be null.");let s=e.a,r=e.b,a=e.c,o=e.d;n.worldX=s*this.x+r*this.y+e.worldX,n.worldY=a*this.x+o*this.y+e.worldY;const l=(n.rotation+n.shearX)*i.degRad,h=(n.rotation+90+n.shearY)*i.degRad,c=Math.cos(l)*n.scaleX,u=Math.cos(h)*n.scaleY,d=Math.sin(l)*n.scaleX,f=Math.sin(h)*n.scaleY;n.a=(s*c+r*d)*this.scaleX,n.b=(s*u+r*f)*this.scaleX,n.c=(a*c+o*d)*this.scaleY,n.d=(a*u+o*f)*this.scaleY;let p=this._updateCache;for(let e=0,i=p.length;e<i;e++){let i=p[e];i!=n&&i.update(t)}}setToSetupPose(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()}setBonesToSetupPose(){for(const t of this.bones)t.setToSetupPose();for(const t of this.ikConstraints)t.setToSetupPose();for(const t of this.transformConstraints)t.setToSetupPose();for(const t of this.pathConstraints)t.setToSetupPose();for(const t of this.physicsConstraints)t.setToSetupPose()}setSlotsToSetupPose(){let t=this.slots;s.arrayCopy(t,0,this.drawOrder,0,t.length);for(let e=0,i=t.length;e<i;e++)t[e].setToSetupPose()}getRootBone(){return 0==this.bones.length?null:this.bones[0]}findBone(t){if(!t)throw new Error("boneName cannot be null.");let e=this.bones;for(let i=0,n=e.length;i<n;i++){let n=e[i];if(n.data.name==t)return n}return null}findSlot(t){if(!t)throw new Error("slotName cannot be null.");let e=this.slots;for(let i=0,n=e.length;i<n;i++){let n=e[i];if(n.data.name==t)return n}return null}setSkinByName(t){let e=this.data.findSkin(t);if(!e)throw new Error("Skin not found: "+t);this.setSkin(e)}setSkin(t){if(t!=this.skin){if(t)if(this.skin)t.attachAll(this,this.skin);else{let e=this.slots;for(let i=0,n=e.length;i<n;i++){let n=e[i],s=n.data.attachmentName;if(s){let e=t.getAttachment(i,s);e&&n.setAttachment(e)}}}this.skin=t,this.updateCache()}}getAttachmentByName(t,e){let i=this.data.findSlot(t);if(!i)throw new Error(`Can't find slot with name ${t}`);return this.getAttachment(i.index,e)}getAttachment(t,e){if(!e)throw new Error("attachmentName cannot be null.");if(this.skin){let i=this.skin.getAttachment(t,e);if(i)return i}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null}setAttachment(t,e){if(!t)throw new Error("slotName cannot be null.");let i=this.slots;for(let n=0,s=i.length;n<s;n++){let s=i[n];if(s.data.name==t){let i=null;if(e&&(i=this.getAttachment(n,e),!i))throw new Error("Attachment not found: "+e+", for slot: "+t);return void s.setAttachment(i)}}throw new Error("Slot not found: "+t)}findIkConstraint(t){if(!t)throw new Error("constraintName cannot be null.");return this.ikConstraints.find((e=>e.data.name==t))??null}findTransformConstraint(t){if(!t)throw new Error("constraintName cannot be null.");return this.transformConstraints.find((e=>e.data.name==t))??null}findPathConstraint(t){if(!t)throw new Error("constraintName cannot be null.");return this.pathConstraints.find((e=>e.data.name==t))??null}findPhysicsConstraint(t){if(null==t)throw new Error("constraintName cannot be null.");return this.physicsConstraints.find((e=>e.data.name==t))??null}getBoundsRect(){let t=new a,e=new a;return this.getBounds(t,e),{x:t.x,y:t.y,width:e.x,height:e.y}}getBounds(t,e,i=new Array(2),n=null){if(!t)throw new Error("offset cannot be null.");if(!e)throw new Error("size cannot be null.");let r=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,h=Number.NEGATIVE_INFINITY;for(let t=0,e=r.length;t<e;t++){let e=r[t];if(!e.bone.active)continue;let c=0,u=null,d=null,f=e.getAttachment();if(f instanceof Ot)c=8,u=s.setArraySize(i,c,0),f.computeWorldVertices(e,u,0,2),d=Kt.quadTriangles;else if(f instanceof Xt){let t=f;c=t.worldVerticesLength,u=s.setArraySize(i,c,0),t.computeWorldVertices(e,0,c,u,0,2),d=t.triangles}else if(f instanceof mt&&null!=n){n.clipStart(e,f);continue}if(u&&d){null!=n&&n.isClipping()&&(n.clipTriangles(u,c,d,d.length),u=n.clippedVertices,c=n.clippedVertices.length);for(let t=0,e=u.length;t<e;t+=2){let e=u[t],i=u[t+1];a=Math.min(a,e),o=Math.min(o,i),l=Math.max(l,e),h=Math.max(h,i)}}null!=n&&n.clipEndWithSlot(e)}null!=n&&n.clipEnd(),t.set(a,o),e.set(l-a,h-o)}update(t){this.time+=t}physicsTranslate(t,e){const i=this.physicsConstraints;for(let n=0,s=i.length;n<s;n++)i[n].translate(t,e)}physicsRotate(t,e,i){const n=this.physicsConstraints;for(let s=0,r=n.length;s<r;s++)n[s].rotate(t,e,i)}}!function(t){t[t.none=0]="none",t[t.reset=1]="reset",t[t.update=2]="update",t[t.pose=3]="pose"}(At||(At={}));class Qt{slotIndex;name;attachment;constructor(t=0,e,i){this.slotIndex=t,this.name=e,this.attachment=i}}class Zt{name;attachments=new Array;bones=Array();constraints=new Array;color=new e(.99607843,.61960787,.30980393,1);constructor(t){if(!t)throw new Error("name cannot be null.");this.name=t}setAttachment(t,e,i){if(!i)throw new Error("attachment cannot be null.");let n=this.attachments;t>=n.length&&(n.length=t+1),n[t]||(n[t]={}),n[t][e]=i}addSkin(t){for(let e=0;e<t.bones.length;e++){let i=t.bones[e],n=!1;for(let t=0;t<this.bones.length;t++)if(this.bones[t]==i){n=!0;break}n||this.bones.push(i)}for(let e=0;e<t.constraints.length;e++){let i=t.constraints[e],n=!1;for(let t=0;t<this.constraints.length;t++)if(this.constraints[t]==i){n=!0;break}n||this.constraints.push(i)}let e=t.getAttachments();for(let t=0;t<e.length;t++){var i=e[t];this.setAttachment(i.slotIndex,i.name,i.attachment)}}copySkin(t){for(let e=0;e<t.bones.length;e++){let i=t.bones[e],n=!1;for(let t=0;t<this.bones.length;t++)if(this.bones[t]==i){n=!0;break}n||this.bones.push(i)}for(let e=0;e<t.constraints.length;e++){let i=t.constraints[e],n=!1;for(let t=0;t<this.constraints.length;t++)if(this.constraints[t]==i){n=!0;break}n||this.constraints.push(i)}let e=t.getAttachments();for(let t=0;t<e.length;t++){var i=e[t];i.attachment&&(i.attachment instanceof Xt?(i.attachment=i.attachment.newLinkedMesh(),this.setAttachment(i.slotIndex,i.name,i.attachment)):(i.attachment=i.attachment.copy(),this.setAttachment(i.slotIndex,i.name,i.attachment)))}}getAttachment(t,e){let i=this.attachments[t];return i?i[e]:null}removeAttachment(t,e){let i=this.attachments[t];i&&delete i[e]}getAttachments(){let t=new Array;for(var e=0;e<this.attachments.length;e++){let i=this.attachments[e];if(i)for(let n in i){let s=i[n];s&&t.push(new Qt(e,n,s))}}return t}getAttachmentsForSlot(t,e){let i=this.attachments[t];if(i)for(let n in i){let s=i[n];s&&e.push(new Qt(t,n,s))}}clear(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0}attachAll(t,e){let i=0;for(let n=0;n<t.slots.length;n++){let s=t.slots[n],r=s.getAttachment();if(r&&i<e.attachments.length){let t=e.attachments[i];for(let e in t)if(r==t[e]){let t=this.getAttachment(i,e);t&&s.setAttachment(t);break}}i++}}}class te{index=0;name;boneData;color=new e(1,1,1,1);darkColor=null;attachmentName=null;blendMode=Tt.Normal;visible=!0;path=null;constructor(t,e,i){if(t<0)throw new Error("index must be >= 0.");if(!e)throw new Error("name cannot be null.");if(!i)throw new Error("boneData cannot be null.");this.index=t,this.name=e,this.boneData=i}}(Mt=Tt||(Tt={}))[Mt.Normal=0]="Normal",Mt[Mt.Additive=1]="Additive",Mt[Mt.Multiply=2]="Multiply",Mt[Mt.Screen=3]="Screen",function(t){t[t.Region=0]="Region",t[t.BoundingBox=1]="BoundingBox",t[t.Mesh=2]="Mesh",t[t.LinkedMesh=3]="LinkedMesh",t[t.Path=4]="Path",t[t.Point=5]="Point",t[t.Clipping=6]="Clipping"}(St||(St={}));class ee{minX=0;minY=0;maxX=0;maxY=0;boundingBoxes=new Array;polygons=new Array;polygonPool=new r((()=>s.newFloatArray(16)));update(t,e){if(!t)throw new Error("skeleton cannot be null.");let i=this.boundingBoxes,n=this.polygons,r=this.polygonPool,a=t.slots,o=a.length;i.length=0,r.freeAll(n),n.length=0;for(let t=0;t<o;t++){let e=a[t];if(!e.bone.active)continue;let o=e.getAttachment();if(o instanceof pt){let t=o;i.push(t);let a=r.obtain();a.length!=t.worldVerticesLength&&(a=s.newFloatArray(t.worldVerticesLength)),n.push(a),t.computeWorldVertices(e,0,t.worldVerticesLength,a,0,2)}}e?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)}aabbCompute(){let t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,n=Number.NEGATIVE_INFINITY,s=this.polygons;for(let r=0,a=s.length;r<a;r++){let a=s[r],o=a;for(let s=0,r=a.length;s<r;s+=2){let r=o[s],a=o[s+1];t=Math.min(t,r),e=Math.min(e,a),i=Math.max(i,r),n=Math.max(n,a)}}this.minX=t,this.minY=e,this.maxX=i,this.maxY=n}aabbContainsPoint(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY}aabbIntersectsSegment(t,e,i,n){let s=this.minX,r=this.minY,a=this.maxX,o=this.maxY;if(t<=s&&i<=s||e<=r&&n<=r||t>=a&&i>=a||e>=o&&n>=o)return!1;let l=(n-e)/(i-t),h=l*(s-t)+e;if(h>r&&h<o)return!0;if(h=l*(a-t)+e,h>r&&h<o)return!0;let c=(r-e)/l+t;return c>s&&c<a||(c=(o-e)/l+t,c>s&&c<a)}aabbIntersectsSkeleton(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY}containsPoint(t,e){let i=this.polygons;for(let n=0,s=i.length;n<s;n++)if(this.containsPointPolygon(i[n],t,e))return this.boundingBoxes[n];return null}containsPointPolygon(t,e,i){let n=t,s=t.length,r=s-2,a=!1;for(let t=0;t<s;t+=2){let s=n[t+1],o=n[r+1];if(s<i&&o>=i||o<i&&s>=i){let l=n[t];l+(i-s)/(o-s)*(n[r]-l)<e&&(a=!a)}r=t}return a}intersectsSegment(t,e,i,n){let s=this.polygons;for(let r=0,a=s.length;r<a;r++)if(this.intersectsSegmentPolygon(s[r],t,e,i,n))return this.boundingBoxes[r];return null}intersectsSegmentPolygon(t,e,i,n,s){let r=t,a=t.length,o=e-n,l=i-s,h=e*s-i*n,c=r[a-2],u=r[a-1];for(let t=0;t<a;t+=2){let a=r[t],d=r[t+1],f=c*d-u*a,p=c-a,m=u-d,g=o*m-l*p,x=(h*p-o*f)/g;if((x>=c&&x<=a||x>=a&&x<=c)&&(x>=e&&x<=n||x>=n&&x<=e)){let t=(h*m-l*f)/g;if((t>=u&&t<=d||t>=d&&t<=u)&&(t>=i&&t<=s||t>=s&&t<=i))return!0}c=a,u=d}return!1}getPolygon(t){if(!t)throw new Error("boundingBox cannot be null.");let e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]}getWidth(){return this.maxX-this.minX}getHeight(){return this.maxY-this.minY}}class ie{convexPolygons=new Array;convexPolygonsIndices=new Array;indicesArray=new Array;isConcaveArray=new Array;triangles=new Array;polygonPool=new r((()=>new Array));polygonIndicesPool=new r((()=>new Array));triangulate(t){let e=t,i=t.length>>1,n=this.indicesArray;n.length=0;for(let t=0;t<i;t++)n[t]=t;let s=this.isConcaveArray;s.length=0;for(let t=0,r=i;t<r;++t)s[t]=ie.isConcave(t,i,e,n);let r=this.triangles;for(r.length=0;i>3;){let t=i-1,a=0,o=1;for(;;){t:if(!s[a]){let r=n[t]<<1,l=n[a]<<1,h=n[o]<<1,c=e[r],u=e[r+1],d=e[l],f=e[l+1],p=e[h],m=e[h+1];for(let r=(o+1)%i;r!=t;r=(r+1)%i){if(!s[r])continue;let t=n[r]<<1,i=e[t],a=e[t+1];if(ie.positiveArea(p,m,c,u,i,a)&&ie.positiveArea(c,u,d,f,i,a)&&ie.positiveArea(d,f,p,m,i,a))break t}break}if(0==o){do{if(!s[a])break;a--}while(a>0);break}t=a,a=o,o=(o+1)%i}r.push(n[(i+a-1)%i]),r.push(n[a]),r.push(n[(a+1)%i]),n.splice(a,1),s.splice(a,1),i--;let l=(i+a-1)%i,h=a==i?0:a;s[l]=ie.isConcave(l,i,e,n),s[h]=ie.isConcave(h,i,e,n)}return 3==i&&(r.push(n[2]),r.push(n[0]),r.push(n[1])),r}decompose(t,e){let i=t,n=this.convexPolygons;this.polygonPool.freeAll(n),n.length=0;let s=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(s),s.length=0;let r=this.polygonIndicesPool.obtain();r.length=0;let a=this.polygonPool.obtain();a.length=0;let o=-1,l=0;for(let t=0,h=e.length;t<h;t+=3){let h=e[t]<<1,c=e[t+1]<<1,u=e[t+2]<<1,d=i[h],f=i[h+1],p=i[c],m=i[c+1],g=i[u],x=i[u+1],v=!1;if(o==h){let t=a.length-4,e=ie.winding(a[t],a[t+1],a[t+2],a[t+3],g,x),i=ie.winding(g,x,a[0],a[1],a[2],a[3]);e==l&&i==l&&(a.push(g),a.push(x),r.push(u),v=!0)}v||(a.length>0?(n.push(a),s.push(r)):(this.polygonPool.free(a),this.polygonIndicesPool.free(r)),a=this.polygonPool.obtain(),a.length=0,a.push(d),a.push(f),a.push(p),a.push(m),a.push(g),a.push(x),r=this.polygonIndicesPool.obtain(),r.length=0,r.push(h),r.push(c),r.push(u),l=ie.winding(d,f,p,m,g,x),o=h)}a.length>0&&(n.push(a),s.push(r));for(let t=0,e=n.length;t<e;t++){if(r=s[t],0==r.length)continue;let i=r[0],o=r[r.length-1];a=n[t];let l=a.length-4,h=a[l],c=a[l+1],u=a[l+2],d=a[l+3],f=a[0],p=a[1],m=a[2],g=a[3],x=ie.winding(h,c,u,d,f,p);for(let l=0;l<e;l++){if(l==t)continue;let e=s[l];if(3!=e.length)continue;let v=e[0],y=e[1],b=e[2],w=n[l],C=w[w.length-2],A=w[w.length-1];if(v!=i||y!=o)continue;let T=ie.winding(h,c,u,d,C,A),S=ie.winding(C,A,f,p,m,g);T==x&&S==x&&(w.length=0,e.length=0,a.push(C),a.push(A),r.push(b),h=u,c=d,u=C,d=A,l=0)}}for(let t=n.length-1;t>=0;t--)a=n[t],0==a.length&&(n.splice(t,1),this.polygonPool.free(a),r=s[t],s.splice(t,1),this.polygonIndicesPool.free(r));return n}static isConcave(t,e,i,n){let s=n[(e+t-1)%e]<<1,r=n[t]<<1,a=n[(t+1)%e]<<1;return!this.positiveArea(i[s],i[s+1],i[r],i[r+1],i[a],i[a+1])}static positiveArea(t,e,i,n,s,r){return t*(r-n)+i*(e-r)+s*(n-e)>=0}static winding(t,e,i,n,s,r){let a=i-t,o=n-e;return s*o-r*a+a*e-t*o>=0?1:-1}}class ne{triangulator=new ie;clippingPolygon=new Array;clipOutput=new Array;clippedVertices=new Array;clippedTriangles=new Array;scratch=new Array;clipAttachment=null;clippingPolygons=null;clipStart(t,e){if(this.clipAttachment)return 0;this.clipAttachment=e;let i=e.worldVerticesLength,n=s.setArraySize(this.clippingPolygon,i);e.computeWorldVertices(t,0,i,n,0,2);let r=this.clippingPolygon;ne.makeClockwise(r);let a=this.clippingPolygons=this.triangulator.decompose(r,this.triangulator.triangulate(r));for(let t=0,e=a.length;t<e;t++){let e=a[t];ne.makeClockwise(e),e.push(e[0]),e.push(e[1])}return a.length}clipEndWithSlot(t){this.clipAttachment&&this.clipAttachment.endSlot==t.data&&this.clipEnd()}clipEnd(){this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)}isClipping(){return null!=this.clipAttachment}clipTriangles(t,e,i,n,s,r,a,o){s&&r&&a&&"boolean"==typeof o?this.clipTrianglesRender(t,e,i,n,s,r,a,o):this.clipTrianglesNoRender(t,e,i,n)}clipTrianglesNoRender(t,e,i,n){let r=this.clipOutput,a=this.clippedVertices,o=this.clippedTriangles,l=this.clippingPolygons,h=l.length,c=0;a.length=0,o.length=0;t:for(let e=0;e<n;e+=3){let n=i[e]<<1,u=t[n],d=t[n+1];n=i[e+1]<<1;let f=t[n],p=t[n+1];n=i[e+2]<<1;let m=t[n],g=t[n+1];for(let t=0;t<h;t++){let e=a.length;if(!this.clip(u,d,f,p,m,g,l[t],r)){let t=s.setArraySize(a,e+6);t[e]=u,t[e+1]=d,t[e+2]=f,t[e+3]=p,t[e+4]=m,t[e+5]=g,e=o.length;let i=s.setArraySize(o,e+3);i[e]=c,i[e+1]=c+1,i[e+2]=c+2,c+=3;continue t}{let t=r.length;if(0==t)continue;let i=t>>1,n=this.clipOutput,l=s.setArraySize(a,e+2*i);for(let i=0;i<t;i+=2){let t=n[i],s=n[i+1];l[e]=t,l[e+1]=s,e+=2}e=o.length;let h=s.setArraySize(o,e+3*(i-2));i--;for(let t=1;t<i;t++)h[e]=c,h[e+1]=c+t,h[e+2]=c+t+1,e+=3;c+=i+1}}}}clipTrianglesRender(t,e,i,n,r,a,o,l){let h=this.clipOutput,c=this.clippedVertices,u=this.clippedTriangles,d=this.clippingPolygons,f=d.length,p=l?12:8,m=0;c.length=0,u.length=0;t:for(let e=0;e<n;e+=3){let n=i[e]<<1,g=t[n],x=t[n+1],v=r[n],y=r[n+1];n=i[e+1]<<1;let b=t[n],w=t[n+1],C=r[n],A=r[n+1];n=i[e+2]<<1;let T=t[n],S=t[n+1],k=r[n],E=r[n+1];for(let t=0;t<f;t++){let e=c.length;if(!this.clip(g,x,b,w,T,S,d[t],h)){let t=s.setArraySize(c,e+3*p);t[e]=g,t[e+1]=x,t[e+2]=a.r,t[e+3]=a.g,t[e+4]=a.b,t[e+5]=a.a,l?(t[e+6]=v,t[e+7]=y,t[e+8]=o.r,t[e+9]=o.g,t[e+10]=o.b,t[e+11]=o.a,t[e+12]=b,t[e+13]=w,t[e+14]=a.r,t[e+15]=a.g,t[e+16]=a.b,t[e+17]=a.a,t[e+18]=C,t[e+19]=A,t[e+20]=o.r,t[e+21]=o.g,t[e+22]=o.b,t[e+23]=o.a,t[e+24]=T,t[e+25]=S,t[e+26]=a.r,t[e+27]=a.g,t[e+28]=a.b,t[e+29]=a.a,t[e+30]=k,t[e+31]=E,t[e+32]=o.r,t[e+33]=o.g,t[e+34]=o.b,t[e+35]=o.a):(t[e+6]=v,t[e+7]=y,t[e+8]=b,t[e+9]=w,t[e+10]=a.r,t[e+11]=a.g,t[e+12]=a.b,t[e+13]=a.a,t[e+14]=C,t[e+15]=A,t[e+16]=T,t[e+17]=S,t[e+18]=a.r,t[e+19]=a.g,t[e+20]=a.b,t[e+21]=a.a,t[e+22]=k,t[e+23]=E),e=u.length;let i=s.setArraySize(u,e+3);i[e]=m,i[e+1]=m+1,i[e+2]=m+2,m+=3;continue t}{let t=h.length;if(0==t)continue;let i=w-S,n=T-b,r=g-T,d=S-x,f=1/(i*r+n*(x-S)),M=t>>1,R=this.clipOutput,I=s.setArraySize(c,e+M*p);for(let s=0;s<t;s+=2){let t=R[s],h=R[s+1];I[e]=t,I[e+1]=h,I[e+2]=a.r,I[e+3]=a.g,I[e+4]=a.b,I[e+5]=a.a;let c=t-T,u=h-S,m=(i*c+n*u)*f,g=(d*c+r*u)*f,x=1-m-g;I[e+6]=v*m+C*g+k*x,I[e+7]=y*m+A*g+E*x,l&&(I[e+8]=o.r,I[e+9]=o.g,I[e+10]=o.b,I[e+11]=o.a),e+=p}e=u.length;let L=s.setArraySize(u,e+3*(M-2));M--;for(let t=1;t<M;t++)L[e]=m,L[e+1]=m+t,L[e+2]=m+t+1,e+=3;m+=M+1}}}}clip(t,e,i,n,s,r,a,o){let l,h=o,c=!1;a.length%4>=2?(l=o,o=this.scratch):l=this.scratch,l.length=0,l.push(t),l.push(e),l.push(i),l.push(n),l.push(s),l.push(r),l.push(t),l.push(e),o.length=0;let u=a,d=a.length-4;for(let t=0;;t+=2){let e=u[t],i=u[t+1],n=u[t+2],s=u[t+3],r=e-n,a=i-s,f=l,p=l.length-2,m=o.length;for(let t=0;t<p;t+=2){let l=f[t],h=f[t+1],u=f[t+2],d=f[t+3],p=r*(d-s)-a*(u-n)>0;if(r*(h-s)-a*(l-n)>0){if(p){o.push(u),o.push(d);continue}let t=d-h,r=u-l,a=t*(n-e)-r*(s-i);if(Math.abs(a)>1e-6){let c=(r*(i-h)-t*(e-l))/a;o.push(e+(n-e)*c),o.push(i+(s-i)*c)}else o.push(e),o.push(i)}else if(p){let t=d-h,r=u-l,a=t*(n-e)-r*(s-i);if(Math.abs(a)>1e-6){let c=(r*(i-h)-t*(e-l))/a;o.push(e+(n-e)*c),o.push(i+(s-i)*c)}else o.push(e),o.push(i);o.push(u),o.push(d)}c=!0}if(m==o.length)return h.length=0,!0;if(o.push(o[0]),o.push(o[1]),t==d)break;let g=o;(o=l).length=0,l=g}if(h!=o){h.length=0;for(let t=0,e=o.length-2;t<e;t++)h[t]=o[t]}else h.length=h.length-2;return c}static makeClockwise(t){let e=t,i=t.length,n=e[i-2]*e[1]-e[0]*e[i-1],s=0,r=0,a=0,o=0;for(let t=0,l=i-3;t<l;t+=2)s=e[t],r=e[t+1],a=e[t+2],o=e[t+3],n+=s*o-a*r;if(!(n<0))for(let t=0,n=i-2,s=i>>1;t<s;t+=2){let i=e[t],s=e[t+1],r=n-t;e[t]=e[r],e[t+1]=e[r+1],e[r]=i,e[r+1]=s}}}class se{name;intValue=0;floatValue=0;stringValue=null;audioPath=null;volume=0;balance=0;constructor(t){this.name=t}}class re{data;intValue=0;floatValue=0;stringValue=null;time=0;volume=0;balance=0;constructor(t,e){if(!e)throw new Error("data cannot be null.");this.time=t,this.data=e}}class ae extends zt{bones=new Array;_target=null;set target(t){this._target=t}get target(){if(this._target)return this._target;throw new Error("BoneData not set.")}bendDirection=0;compress=!1;stretch=!1;uniform=!1;mix=0;softness=0;constructor(t){super(t,0,!1)}}class oe{name=null;bones=new Array;slots=new Array;skins=new Array;defaultSkin=null;events=new Array;animations=new Array;ikConstraints=new Array;transformConstraints=new Array;pathConstraints=new Array;physicsConstraints=new Array;x=0;y=0;width=0;height=0;referenceScale=100;version=null;hash=null;fps=0;imagesPath=null;audioPath=null;findBone(t){if(!t)throw new Error("boneName cannot be null.");let e=this.bones;for(let i=0,n=e.length;i<n;i++){let n=e[i];if(n.name==t)return n}return null}findSlot(t){if(!t)throw new Error("slotName cannot be null.");let e=this.slots;for(let i=0,n=e.length;i<n;i++){let n=e[i];if(n.name==t)return n}return null}findSkin(t){if(!t)throw new Error("skinName cannot be null.");let e=this.skins;for(let i=0,n=e.length;i<n;i++){let n=e[i];if(n.name==t)return n}return null}findEvent(t){if(!t)throw new Error("eventDataName cannot be null.");let e=this.events;for(let i=0,n=e.length;i<n;i++){let n=e[i];if(n.name==t)return n}return null}findAnimation(t){if(!t)throw new Error("animationName cannot be null.");let e=this.animations;for(let i=0,n=e.length;i<n;i++){let n=e[i];if(n.name==t)return n}return null}findIkConstraint(t){if(!t)throw new Error("constraintName cannot be null.");const e=this.ikConstraints;for(let i=0,n=e.length;i<n;i++){const n=e[i];if(n.name==t)return n}return null}findTransformConstraint(t){if(!t)throw new Error("constraintName cannot be null.");const e=this.transformConstraints;for(let i=0,n=e.length;i<n;i++){const n=e[i];if(n.name==t)return n}return null}findPathConstraint(t){if(!t)throw new Error("constraintName cannot be null.");const e=this.pathConstraints;for(let i=0,n=e.length;i<n;i++){const n=e[i];if(n.name==t)return n}return null}findPhysicsConstraint(t){if(!t)throw new Error("constraintName cannot be null.");const e=this.physicsConstraints;for(let i=0,n=e.length;i<n;i++){const n=e[i];if(n.name==t)return n}return null}}class le extends zt{bones=new Array;_target=null;set target(t){this._target=t}get target(){if(this._target)return this._target;throw new Error("BoneData not set.")}mixRotate=0;mixX=0;mixY=0;mixScaleX=0;mixScaleY=0;mixShearY=0;offsetRotation=0;offsetX=0;offsetY=0;offsetScaleX=0;offsetScaleY=0;offsetShearY=0;relative=!1;local=!1;constructor(t){super(t,0,!1)}}class he extends zt{_bone=null;set bone(t){this._bone=t}get bone(){if(this._bone)return this._bone;throw new Error("BoneData not set.")}x=0;y=0;rotate=0;scaleX=0;shearX=0;limit=0;step=0;inertia=0;strength=0;damping=0;massInverse=0;wind=0;gravity=0;mix=0;inertiaGlobal=!1;strengthGlobal=!1;dampingGlobal=!1;massGlobal=!1;windGlobal=!1;gravityGlobal=!1;mixGlobal=!1;constructor(t){super(t,0,!1)}}class ce{attachmentLoader;scale=1;linkedMeshes=new Array;constructor(t){this.attachmentLoader=t}readSkeletonData(t){let i=this.scale,n=new oe,r="string"==typeof t?JSON.parse(t):t,a=r.skeleton;if(a&&(n.hash=a.hash,n.version=a.spine,n.x=a.x,n.y=a.y,n.width=a.width,n.height=a.height,n.referenceScale=me(a,"referenceScale",100)*i,n.fps=a.fps,n.imagesPath=a.images??null,n.audioPath=a.audio??null),r.bones)for(let t=0;t<r.bones.length;t++){let e=r.bones[t],a=null,o=me(e,"parent",null);o&&(a=n.findBone(o));let l=new Bt(n.bones.length,e.name,a);l.length=me(e,"length",0)*i,l.x=me(e,"x",0)*i,l.y=me(e,"y",0)*i,l.rotation=me(e,"rotation",0),l.scaleX=me(e,"scaleX",1),l.scaleY=me(e,"scaleY",1),l.shearX=me(e,"shearX",0),l.shearY=me(e,"shearY",0),l.inherit=s.enumValue(yt,me(e,"inherit","Normal")),l.skinRequired=me(e,"skin",!1);let h=me(e,"color",null);h&&l.color.setFromString(h),n.bones.push(l)}if(r.slots)for(let t=0;t<r.slots.length;t++){let i=r.slots[t],a=null,o=i.name;const l=o.lastIndexOf("/");-1!=l&&(a=o.substring(0,l),o=o.substring(l+1));let h=n.findBone(i.bone);if(!h)throw new Error(`Couldn't find bone ${i.bone} for slot ${o}`);let c=new te(n.slots.length,o,h),u=me(i,"color",null);u&&c.color.setFromString(u);let d=me(i,"dark",null);d&&(c.darkColor=e.fromString(d)),c.attachmentName=me(i,"attachment",null),c.blendMode=s.enumValue(Tt,me(i,"blend","normal")),c.visible=me(i,"visible",!0),c.path=a,n.slots.push(c)}if(r.ik)for(let t=0;t<r.ik.length;t++){let e=r.ik[t],s=new ae(e.name);s.order=me(e,"order",0),s.skinRequired=me(e,"skin",!1);for(let t=0;t<e.bones.length;t++){let i=n.findBone(e.bones[t]);if(!i)throw new Error(`Couldn't find bone ${e.bones[t]} for IK constraint ${e.name}.`);s.bones.push(i)}let a=n.findBone(e.target);if(!a)throw new Error(`Couldn't find target bone ${e.target} for IK constraint ${e.name}.`);s.target=a,s.mix=me(e,"mix",1),s.softness=me(e,"softness",0)*i,s.bendDirection=me(e,"bendPositive",!0)?1:-1,s.compress=me(e,"compress",!1),s.stretch=me(e,"stretch",!1),s.uniform=me(e,"uniform",!1),n.ikConstraints.push(s)}if(r.transform)for(let t=0;t<r.transform.length;t++){let e=r.transform[t],s=new le(e.name);s.order=me(e,"order",0),s.skinRequired=me(e,"skin",!1);for(let t=0;t<e.bones.length;t++){let i=e.bones[t],r=n.findBone(i);if(!r)throw new Error(`Couldn't find bone ${i} for transform constraint ${e.name}.`);s.bones.push(r)}let a=e.target,o=n.findBone(a);if(!o)throw new Error(`Couldn't find target bone ${a} for transform constraint ${e.name}.`);s.target=o,s.local=me(e,"local",!1),s.relative=me(e,"relative",!1),s.offsetRotation=me(e,"rotation",0),s.offsetX=me(e,"x",0)*i,s.offsetY=me(e,"y",0)*i,s.offsetScaleX=me(e,"scaleX",0),s.offsetScaleY=me(e,"scaleY",0),s.offsetShearY=me(e,"shearY",0),s.mixRotate=me(e,"mixRotate",1),s.mixX=me(e,"mixX",1),s.mixY=me(e,"mixY",s.mixX),s.mixScaleX=me(e,"mixScaleX",1),s.mixScaleY=me(e,"mixScaleY",s.mixScaleX),s.mixShearY=me(e,"mixShearY",1),n.transformConstraints.push(s)}if(r.path)for(let t=0;t<r.path.length;t++){let e=r.path[t],a=new Ht(e.name);a.order=me(e,"order",0),a.skinRequired=me(e,"skin",!1);for(let t=0;t<e.bones.length;t++){let i=e.bones[t],s=n.findBone(i);if(!s)throw new Error(`Couldn't find bone ${i} for path constraint ${e.name}.`);a.bones.push(s)}let o=e.target,l=n.findSlot(o);if(!l)throw new Error(`Couldn't find target slot ${o} for path constraint ${e.name}.`);a.target=l,a.positionMode=s.enumValue(bt,me(e,"positionMode","Percent")),a.spacingMode=s.enumValue(wt,me(e,"spacingMode","Length")),a.rotateMode=s.enumValue(Ct,me(e,"rotateMode","Tangent")),a.offsetRotation=me(e,"rotation",0),a.position=me(e,"position",0),a.positionMode==bt.Fixed&&(a.position*=i),a.spacing=me(e,"spacing",0),a.spacingMode!=wt.Length&&a.spacingMode!=wt.Fixed||(a.spacing*=i),a.mixRotate=me(e,"mixRotate",1),a.mixX=me(e,"mixX",1),a.mixY=me(e,"mixY",a.mixX),n.pathConstraints.push(a)}if(r.physics)for(let t=0;t<r.physics.length;t++){const e=r.physics[t],s=new he(e.name);s.order=me(e,"order",0),s.skinRequired=me(e,"skin",!1);const a=e.bone,o=n.findBone(a);if(null==o)throw new Error("Physics bone not found: "+a);s.bone=o,s.x=me(e,"x",0),s.y=me(e,"y",0),s.rotate=me(e,"rotate",0),s.scaleX=me(e,"scaleX",0),s.shearX=me(e,"shearX",0),s.limit=me(e,"limit",5e3)*i,s.step=1/me(e,"fps",60),s.inertia=me(e,"inertia",1),s.strength=me(e,"strength",100),s.damping=me(e,"damping",1),s.massInverse=1/me(e,"mass",1),s.wind=me(e,"wind",0),s.gravity=me(e,"gravity",0),s.mix=me(e,"mix",1),s.inertiaGlobal=me(e,"inertiaGlobal",!1),s.strengthGlobal=me(e,"strengthGlobal",!1),s.dampingGlobal=me(e,"dampingGlobal",!1),s.massGlobal=me(e,"massGlobal",!1),s.windGlobal=me(e,"windGlobal",!1),s.gravityGlobal=me(e,"gravityGlobal",!1),s.mixGlobal=me(e,"mixGlobal",!1),n.physicsConstraints.push(s)}if(r.skins)for(let t=0;t<r.skins.length;t++){let e=r.skins[t],i=new Zt(e.name);if(e.bones)for(let t=0;t<e.bones.length;t++){let s=e.bones[t],r=n.findBone(s);if(!r)throw new Error(`Couldn't find bone ${s} for skin ${e.name}.`);i.bones.push(r)}if(e.ik)for(let t=0;t<e.ik.length;t++){let s=e.ik[t],r=n.findIkConstraint(s);if(!r)throw new Error(`Couldn't find IK constraint ${s} for skin ${e.name}.`);i.constraints.push(r)}if(e.transform)for(let t=0;t<e.transform.length;t++){let s=e.transform[t],r=n.findTransformConstraint(s);if(!r)throw new Error(`Couldn't find transform constraint ${s} for skin ${e.name}.`);i.constraints.push(r)}if(e.path)for(let t=0;t<e.path.length;t++){let s=e.path[t],r=n.findPathConstraint(s);if(!r)throw new Error(`Couldn't find path constraint ${s} for skin ${e.name}.`);i.constraints.push(r)}if(e.physics)for(let t=0;t<e.physics.length;t++){let s=e.physics[t],r=n.findPhysicsConstraint(s);if(!r)throw new Error(`Couldn't find physics constraint ${s} for skin ${e.name}.`);i.constraints.push(r)}for(let t in e.attachments){let s=n.findSlot(t);if(!s)throw new Error(`Couldn't find slot ${t} for skin ${e.name}.`);let r=e.attachments[t];for(let t in r){let e=this.readAttachment(r[t],i,s.index,t,n);e&&i.setAttachment(s.index,t,e)}}n.skins.push(i),"default"==i.name&&(n.defaultSkin=i)}for(let t=0,e=this.linkedMeshes.length;t<e;t++){let e=this.linkedMeshes[t],i=e.skin?n.findSkin(e.skin):n.defaultSkin;if(!i)throw new Error(`Skin not found: ${e.skin}`);let s=i.getAttachment(e.slotIndex,e.parent);if(!s)throw new Error(`Parent mesh not found: ${e.parent}`);e.mesh.timelineAttachment=e.inheritTimeline?s:e.mesh,e.mesh.setParentMesh(s),null!=e.mesh.region&&e.mesh.updateRegion()}if(this.linkedMeshes.length=0,r.events)for(let t in r.events){let e=r.events[t],i=new se(t);i.intValue=me(e,"int",0),i.floatValue=me(e,"float",0),i.stringValue=me(e,"string",""),i.audioPath=me(e,"audio",null),i.audioPath&&(i.volume=me(e,"volume",1),i.balance=me(e,"balance",0)),n.events.push(i)}if(r.animations)for(let t in r.animations){let e=r.animations[t];this.readAnimation(e,t,n)}return n}readAttachment(t,e,i,n,r){let a=this.scale;switch(n=me(t,"name",n),me(t,"type","region")){case"region":{let i=me(t,"path",n),s=this.readSequence(me(t,"sequence",null)),r=this.attachmentLoader.newRegionAttachment(e,n,i,s);if(!r)return null;r.path=i,r.x=me(t,"x",0)*a,r.y=me(t,"y",0)*a,r.scaleX=me(t,"scaleX",1),r.scaleY=me(t,"scaleY",1),r.rotation=me(t,"rotation",0),r.width=t.width*a,r.height=t.height*a,r.sequence=s;let o=me(t,"color",null);return o&&r.color.setFromString(o),null!=r.region&&r.updateRegion(),r}case"boundingbox":{let i=this.attachmentLoader.newBoundingBoxAttachment(e,n);if(!i)return null;this.readVertices(t,i,t.vertexCount<<1);let s=me(t,"color",null);return s&&i.color.setFromString(s),i}case"mesh":case"linkedmesh":{let s=me(t,"path",n),r=this.readSequence(me(t,"sequence",null)),o=this.attachmentLoader.newMeshAttachment(e,n,s,r);if(!o)return null;o.path=s;let l=me(t,"color",null);l&&o.color.setFromString(l),o.width=me(t,"width",0)*a,o.height=me(t,"height",0)*a,o.sequence=r;let h=me(t,"parent",null);if(h)return this.linkedMeshes.push(new ue(o,me(t,"skin",null),i,h,me(t,"timelines",!0))),o;let c=t.uvs;return this.readVertices(t,o,c.length),o.triangles=t.triangles,o.regionUVs=c,null!=o.region&&o.updateRegion(),o.edges=me(t,"edges",null),o.hullLength=2*me(t,"hull",0),o}case"path":{let i=this.attachmentLoader.newPathAttachment(e,n);if(!i)return null;i.closed=me(t,"closed",!1),i.constantSpeed=me(t,"constantSpeed",!0);let r=t.vertexCount;this.readVertices(t,i,r<<1);let o=s.newArray(r/3,0);for(let e=0;e<t.lengths.length;e++)o[e]=t.lengths[e]*a;i.lengths=o;let l=me(t,"color",null);return l&&i.color.setFromString(l),i}case"point":{let i=this.attachmentLoader.newPointAttachment(e,n);if(!i)return null;i.x=me(t,"x",0)*a,i.y=me(t,"y",0)*a,i.rotation=me(t,"rotation",0);let s=me(t,"color",null);return s&&i.color.setFromString(s),i}case"clipping":{let i=this.attachmentLoader.newClippingAttachment(e,n);if(!i)return null;let s=me(t,"end",null);s&&(i.endSlot=r.findSlot(s));let a=t.vertexCount;this.readVertices(t,i,a<<1);let o=me(t,"color",null);return o&&i.color.setFromString(o),i}}return null}readSequence(t){if(null==t)return null;let e=new c(me(t,"count",0));return e.start=me(t,"start",1),e.digits=me(t,"digits",0),e.setupIndex=me(t,"setup",0),e}readVertices(t,e,i){let n=this.scale;e.worldVerticesLength=i;let r=t.vertices;if(i==r.length){let t=s.toFloatArray(r);if(1!=n)for(let e=0,i=r.length;e<i;e++)t[e]*=n;return void(e.vertices=t)}let a=new Array,o=new Array;for(let t=0,e=r.length;t<e;){let e=r[t++];o.push(e);for(let i=t+4*e;t<i;t+=4)o.push(r[t]),a.push(r[t+1]*n),a.push(r[t+2]*n),a.push(r[t+3])}e.bones=o,e.vertices=s.toFloatArray(a)}readAnimation(t,i,n){let r=this.scale,a=new Array;if(t.slots)for(let i in t.slots){let s=t.slots[i],r=n.findSlot(i);if(!r)throw new Error("Slot not found: "+i);let o=r.index;for(let t in s){let i=s[t];if(!i)continue;let n=i.length;if("attachment"==t){let t=new N(n,o);for(let e=0;e<n;e++){let n=i[e];t.setFrame(e,me(n,"time",0),me(n,"name",null))}a.push(t)}else if("rgba"==t){let t=new P(n,n<<2,o),s=i[0],r=me(s,"time",0),l=e.fromString(s.color);for(let n=0,a=0;;n++){t.setFrame(n,r,l.r,l.g,l.b,l.a);let o=i[n+1];if(!o){t.shrink(a);break}let h=me(o,"time",0),c=e.fromString(o.color),u=s.curve;u&&(a=pe(u,t,a,n,0,r,h,l.r,c.r,1),a=pe(u,t,a,n,1,r,h,l.g,c.g,1),a=pe(u,t,a,n,2,r,h,l.b,c.b,1),a=pe(u,t,a,n,3,r,h,l.a,c.a,1)),r=h,l=c,s=o}a.push(t)}else if("rgb"==t){let t=new D(n,3*n,o),s=i[0],r=me(s,"time",0),l=e.fromString(s.color);for(let n=0,a=0;;n++){t.setFrame(n,r,l.r,l.g,l.b);let o=i[n+1];if(!o){t.shrink(a);break}let h=me(o,"time",0),c=e.fromString(o.color),u=s.curve;u&&(a=pe(u,t,a,n,0,r,h,l.r,c.r,1),a=pe(u,t,a,n,1,r,h,l.g,c.g,1),a=pe(u,t,a,n,2,r,h,l.b,c.b,1)),r=h,l=c,s=o}a.push(t)}else if("alpha"==t)a.push(de(i,new F(n,n,o),0,1));else if("rgba2"==t){let t=new X(n,7*n,o),s=i[0],r=me(s,"time",0),l=e.fromString(s.light),h=e.fromString(s.dark);for(let n=0,a=0;;n++){t.setFrame(n,r,l.r,l.g,l.b,l.a,h.r,h.g,h.b);let o=i[n+1];if(!o){t.shrink(a);break}let c=me(o,"time",0),u=e.fromString(o.light),d=e.fromString(o.dark),f=s.curve;f&&(a=pe(f,t,a,n,0,r,c,l.r,u.r,1),a=pe(f,t,a,n,1,r,c,l.g,u.g,1),a=pe(f,t,a,n,2,r,c,l.b,u.b,1),a=pe(f,t,a,n,3,r,c,l.a,u.a,1),a=pe(f,t,a,n,4,r,c,h.r,d.r,1),a=pe(f,t,a,n,5,r,c,h.g,d.g,1),a=pe(f,t,a,n,6,r,c,h.b,d.b,1)),r=c,l=u,h=d,s=o}a.push(t)}else if("rgb2"==t){let t=new Y(n,6*n,o),s=i[0],r=me(s,"time",0),l=e.fromString(s.light),h=e.fromString(s.dark);for(let n=0,a=0;;n++){t.setFrame(n,r,l.r,l.g,l.b,h.r,h.g,h.b);let o=i[n+1];if(!o){t.shrink(a);break}let c=me(o,"time",0),u=e.fromString(o.light),d=e.fromString(o.dark),f=s.curve;f&&(a=pe(f,t,a,n,0,r,c,l.r,u.r,1),a=pe(f,t,a,n,1,r,c,l.g,u.g,1),a=pe(f,t,a,n,2,r,c,l.b,u.b,1),a=pe(f,t,a,n,3,r,c,h.r,d.r,1),a=pe(f,t,a,n,4,r,c,h.g,d.g,1),a=pe(f,t,a,n,5,r,c,h.b,d.b,1)),r=c,l=u,h=d,s=o}a.push(t)}}}if(t.bones)for(let e in t.bones){let i=t.bones[e],o=n.findBone(e);if(!o)throw new Error("Bone not found: "+e);let l=o.index;for(let t in i){let e=i[t],n=e.length;if(0!=n)if("rotate"===t)a.push(de(e,new w(n,n,l),0,1));else if("translate"===t){let t=new C(n,n<<1,l);a.push(fe(e,t,"x","y",0,r))}else if("translatex"===t){let t=new A(n,n,l);a.push(de(e,t,0,r))}else if("translatey"===t){let t=new T(n,n,l);a.push(de(e,t,0,r))}else if("scale"===t){let t=new S(n,n<<1,l);a.push(fe(e,t,"x","y",1,1))}else if("scalex"===t){let t=new k(n,n,l);a.push(de(e,t,1,1))}else if("scaley"===t){let t=new E(n,n,l);a.push(de(e,t,1,1))}else if("shear"===t){let t=new M(n,n<<1,l);a.push(fe(e,t,"x","y",0,1))}else if("shearx"===t){let t=new R(n,n,l);a.push(de(e,t,0,1))}else if("sheary"===t){let t=new I(n,n,l);a.push(de(e,t,0,1))}else if("inherit"===t){let t=new L(n,o.index);for(let i=0;i<e.length;i++){let n=e[i];t.setFrame(i,me(n,"time",0),s.enumValue(yt,me(n,"inherit","Normal")))}a.push(t)}}}if(t.ik)for(let e in t.ik){let i=t.ik[e],s=i[0];if(!s)continue;let o=n.findIkConstraint(e);if(!o)throw new Error("IK Constraint not found: "+e);let l=n.ikConstraints.indexOf(o),h=new V(i.length,i.length<<1,l),c=me(s,"time",0),u=me(s,"mix",1),d=me(s,"softness",0)*r;for(let t=0,e=0;;t++){h.setFrame(t,c,u,d,me(s,"bendPositive",!0)?1:-1,me(s,"compress",!1),me(s,"stretch",!1));let n=i[t+1];if(!n){h.shrink(e);break}let a=me(n,"time",0),o=me(n,"mix",1),l=me(n,"softness",0)*r,f=s.curve;f&&(e=pe(f,h,e,t,0,c,a,u,o,1),e=pe(f,h,e,t,1,c,a,d,l,r)),c=a,u=o,d=l,s=n}a.push(h)}if(t.transform)for(let e in t.transform){let i=t.transform[e],s=i[0];if(!s)continue;let r=n.findTransformConstraint(e);if(!r)throw new Error("Transform constraint not found: "+e);let o=n.transformConstraints.indexOf(r),l=new q(i.length,6*i.length,o),h=me(s,"time",0),c=me(s,"mixRotate",1),u=me(s,"mixX",1),d=me(s,"mixY",u),f=me(s,"mixScaleX",1),p=me(s,"mixScaleY",f),m=me(s,"mixShearY",1);for(let t=0,e=0;;t++){l.setFrame(t,h,c,u,d,f,p,m);let n=i[t+1];if(!n){l.shrink(e);break}let r=me(n,"time",0),a=me(n,"mixRotate",1),o=me(n,"mixX",1),g=me(n,"mixY",o),x=me(n,"mixScaleX",1),v=me(n,"mixScaleY",x),y=me(n,"mixShearY",1),b=s.curve;b&&(e=pe(b,l,e,t,0,h,r,c,a,1),e=pe(b,l,e,t,1,h,r,u,o,1),e=pe(b,l,e,t,2,h,r,d,g,1),e=pe(b,l,e,t,3,h,r,f,x,1),e=pe(b,l,e,t,4,h,r,p,v,1),e=pe(b,l,e,t,5,h,r,m,y,1)),h=r,c=a,u=o,d=g,f=x,p=v,f=x,s=n}a.push(l)}if(t.path)for(let e in t.path){let i=t.path[e],s=n.findPathConstraint(e);if(!s)throw new Error("Path constraint not found: "+e);let o=n.pathConstraints.indexOf(s);for(let t in i){let e=i[t],n=e[0];if(!n)continue;let l=e.length;if("position"===t){let t=new W(l,l,o);a.push(de(e,t,0,s.positionMode==bt.Fixed?r:1))}else if("spacing"===t){let t=new j(l,l,o);a.push(de(e,t,0,s.spacingMode==wt.Length||s.spacingMode==wt.Fixed?r:1))}else if("mix"===t){let t=new z(l,3*l,o),i=me(n,"time",0),s=me(n,"mixRotate",1),r=me(n,"mixX",1),h=me(n,"mixY",r);for(let a=0,o=0;;a++){t.setFrame(a,i,s,r,h);let l=e[a+1];if(!l){t.shrink(o);break}let c=me(l,"time",0),u=me(l,"mixRotate",1),d=me(l,"mixX",1),f=me(l,"mixY",d),p=n.curve;p&&(o=pe(p,t,o,a,0,i,c,s,u,1),o=pe(p,t,o,a,1,i,c,r,d,1),o=pe(p,t,o,a,2,i,c,h,f,1)),i=c,s=u,r=d,h=f,n=l}a.push(t)}}}if(t.physics)for(let e in t.physics){let i=t.physics[e],s=-1;if(e.length>0){let t=n.findPhysicsConstraint(e);if(!t)throw new Error("Physics constraint not found: "+e);s=n.physicsConstraints.indexOf(t)}for(let t in i){let e=i[t],n=e[0];if(!n)continue;let r,o=e.length;if("reset"!=t){if("inertia"==t)r=new U(o,o,s);else if("strength"==t)r=new $(o,o,s);else if("damping"==t)r=new G(o,o,s);else if("mass"==t)r=new J(o,o,s);else if("wind"==t)r=new K(o,o,s);else if("gravity"==t)r=new Q(o,o,s);else{if("mix"!=t)continue;r=new Z(o,o,s)}a.push(de(e,r,0,1))}else{const t=new tt(e.size,s);for(let i=0;null!=n;n=e[i+1],i++)t.setFrame(i,me(n,"time",0));a.push(t)}}}if(t.attachments)for(let e in t.attachments){let i=t.attachments[e],o=n.findSkin(e);if(!o)throw new Error("Skin not found: "+e);for(let t in i){let e=i[t],l=n.findSlot(t);if(!l)throw new Error("Slot not found: "+t);let h=l.index;for(let t in e){let i=e[t],n=o.getAttachment(h,t);for(let t in i){let e=i[t],o=e[0];if(o)if("deform"==t){let t=n.bones,i=n.vertices,l=t?i.length/3*2:i.length,c=new O(e.length,e.length,h,n),u=me(o,"time",0);for(let n=0,a=0;;n++){let h,d=me(o,"vertices",null);if(d){h=s.newFloatArray(l);let e=me(o,"offset",0);if(s.arrayCopy(d,0,h,e,d.length),1!=r)for(let t=e,i=t+d.length;t<i;t++)h[t]*=r;if(!t)for(let t=0;t<l;t++)h[t]+=i[t]}else h=t?s.newFloatArray(l):i;c.setFrame(n,u,h);let f=e[n+1];if(!f){c.shrink(a);break}let p=me(f,"time",0),m=o.curve;m&&(a=pe(m,c,a,n,0,u,p,0,1,1)),u=p,o=f}a.push(c)}else if("sequence"==t){let t=new et(e.length,h,n),i=0;for(let n=0;n<e.length;n++){let s=me(o,"delay",i),r=me(o,"time",0),a=u[me(o,"mode","hold")],l=me(o,"index",0);t.setFrame(n,r,a,l,s),i=s,o=e[n+1]}a.push(t)}}}}}if(t.drawOrder){let e=new B(t.drawOrder.length),i=n.slots.length,r=0;for(let a=0;a<t.drawOrder.length;a++,r++){let o=t.drawOrder[a],l=null,h=me(o,"offsets",null);if(h){l=s.newArray(i,-1);let t=s.newArray(i-h.length,0),e=0,r=0;for(let i=0;i<h.length;i++){let s=h[i],a=n.findSlot(s.slot);if(!a)throw new Error("Slot not found: "+a);let o=a.index;for(;e!=o;)t[r++]=e++;l[e+s.offset]=e++}for(;e<i;)t[r++]=e++;for(let e=i-1;e>=0;e--)-1==l[e]&&(l[e]=t[--r])}e.setFrame(r,me(o,"time",0),l)}a.push(e)}if(t.events){let e=new _(t.events.length),i=0;for(let r=0;r<t.events.length;r++,i++){let a=t.events[r],o=n.findEvent(a.name);if(!o)throw new Error("Event not found: "+a.name);let l=new re(s.toSinglePrecision(me(a,"time",0)),o);l.intValue=me(a,"int",o.intValue),l.floatValue=me(a,"float",o.floatValue),l.stringValue=me(a,"string",o.stringValue),l.data.audioPath&&(l.volume=me(a,"volume",1),l.balance=me(a,"balance",0)),e.setFrame(i,l)}a.push(e)}let o=0;for(let t=0,e=a.length;t<e;t++)o=Math.max(o,a[t].getDuration());n.animations.push(new f(i,a,o))}}class ue{parent;skin;slotIndex;mesh;inheritTimeline;constructor(t,e,i,n,s){this.mesh=t,this.skin=e,this.slotIndex=i,this.parent=n,this.inheritTimeline=s}}function de(t,e,i,n){let s=t[0],r=me(s,"time",0),a=me(s,"value",i)*n,o=0;for(let l=0;;l++){e.setFrame(l,r,a);let h=t[l+1];if(!h)return e.shrink(o),e;let c=me(h,"time",0),u=me(h,"value",i)*n;s.curve&&(o=pe(s.curve,e,o,l,0,r,c,a,u,n)),r=c,a=u,s=h}}function fe(t,e,i,n,s,r){let a=t[0],o=me(a,"time",0),l=me(a,i,s)*r,h=me(a,n,s)*r,c=0;for(let u=0;;u++){e.setFrame(u,o,l,h);let d=t[u+1];if(!d)return e.shrink(c),e;let f=me(d,"time",0),p=me(d,i,s)*r,m=me(d,n,s)*r,g=a.curve;g&&(c=pe(g,e,c,u,0,o,f,l,p,r),c=pe(g,e,c,u,1,o,f,h,m,r)),o=f,l=p,h=m,a=d}}function pe(t,e,i,n,s,r,a,o,l,h){if("stepped"==t)return e.setStepped(n),i;let c=s<<2,u=t[c],d=t[c+1]*h,f=t[c+2],p=t[c+3]*h;return e.setBezier(i,n,s,r,o,u,d,f,p,a,l),i+1}function me(t,e,i){return void 0!==t[e]?t[e]:i}void 0===Math.fround&&(Math.fround=(Rt=new Float32Array(1),function(t){return Rt[0]=t,Rt[0]}));class ge{canvas;gl;restorables=new Array;constructor(t,e={alpha:"true"}){if(t instanceof WebGLRenderingContext||"undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext)this.gl=t,this.canvas=this.gl.canvas;else{let i=t;this.gl=i.getContext("webgl2",e)||i.getContext("webgl",e),this.canvas=i,i.addEventListener("webglcontextlost",(t=>{t&&t.preventDefault()})),i.addEventListener("webglcontextrestored",(t=>{for(let t=0,e=this.restorables.length;t<e;t++)this.restorables[t].restore()}))}}addRestorable(t){this.restorables.push(t)}removeRestorable(t){let e=this.restorables.indexOf(t);e>-1&&this.restorables.splice(e,1)}}class xe extends gt{context;texture=null;boundUnit=0;useMipMaps=!1;static DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL=!1;constructor(t,e,i=!1){super(e),this.context=t instanceof ge?t:new ge(t),this.useMipMaps=i,this.restore(),this.context.addRestorable(this)}setFilters(t,e){let i=this.context.gl;this.bind(),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,xe.validateMagFilter(e)),this.useMipMaps=xe.usesMipMaps(t),this.useMipMaps&&i.generateMipmap(i.TEXTURE_2D)}static validateMagFilter(t){switch(t){case xt.MipMapLinearLinear:case xt.MipMapLinearNearest:case xt.MipMapNearestLinear:case xt.MipMapNearestNearest:return xt.Linear;default:return t}}static usesMipMaps(t){switch(t){case xt.MipMapLinearLinear:case xt.MipMapLinearNearest:case xt.MipMapNearestLinear:case xt.MipMapNearestNearest:return!0;default:return!1}}setWraps(t,e){let i=this.context.gl;this.bind(),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,e)}update(t){let e=this.context.gl;this.texture||(this.texture=this.context.gl.createTexture()),this.bind(),xe.DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL&&e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this._image),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),t&&e.generateMipmap(e.TEXTURE_2D)}restore(){this.texture=null,this.update(this.useMipMaps)}bind(t=0){let e=this.context.gl;this.boundUnit=t,e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)}unbind(){let t=this.context.gl;t.activeTexture(t.TEXTURE0+this.boundUnit),t.bindTexture(t.TEXTURE_2D,null)}dispose(){this.context.removeRestorable(this),this.context.gl.deleteTexture(this.texture)}}class ve extends qt{constructor(t,e="",i=new Wt){super((e=>new xe(t,e)),e,i)}}class ye{x=0;y=0;z=0;constructor(t=0,e=0,i=0){this.x=t,this.y=e,this.z=i}setFrom(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}set(t,e,i){return this.x=t,this.y=e,this.z=i,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}scale(t){return this.x*=t,this.y*=t,this.z*=t,this}normalize(){let t=this.length();return 0==t||(t=1/t,this.x*=t,this.y*=t,this.z*=t),this}cross(t){return this.set(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)}multiply(t){let e=t.values;return this.set(this.x*e[be]+this.y*e[we]+this.z*e[Ce]+e[Ae],this.x*e[Te]+this.y*e[Se]+this.z*e[ke]+e[Ee],this.x*e[Me]+this.y*e[Re]+this.z*e[Ie]+e[Le])}project(t){let e=t.values,i=1/(this.x*e[Pe]+this.y*e[De]+this.z*e[Fe]+e[Xe]);return this.set((this.x*e[be]+this.y*e[we]+this.z*e[Ce]+e[Ae])*i,(this.x*e[Te]+this.y*e[Se]+this.z*e[ke]+e[Ee])*i,(this.x*e[Me]+this.y*e[Re]+this.z*e[Ie]+e[Le])*i)}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}distance(t){let e=t.x-this.x,i=t.y-this.y,n=t.z-this.z;return Math.sqrt(e*e+i*i+n*n)}}const be=0,we=4,Ce=8,Ae=12,Te=1,Se=5,ke=9,Ee=13,Me=2,Re=6,Ie=10,Le=14,Pe=3,De=7,Fe=11,Xe=15;class Ye{temp=new Float32Array(16);values=new Float32Array(16);static xAxis=new ye;static yAxis=new ye;static zAxis=new ye;static tmpMatrix=new Ye;constructor(){let t=this.values;t[be]=1,t[Se]=1,t[Ie]=1,t[Xe]=1}set(t){return this.values.set(t),this}transpose(){let t=this.temp,e=this.values;return t[be]=e[be],t[we]=e[Te],t[Ce]=e[Me],t[Ae]=e[Pe],t[Te]=e[we],t[Se]=e[Se],t[ke]=e[Re],t[Ee]=e[De],t[Me]=e[Ce],t[Re]=e[ke],t[Ie]=e[Ie],t[Le]=e[Fe],t[Pe]=e[Ae],t[De]=e[Ee],t[Fe]=e[Le],t[Xe]=e[Xe],this.set(t)}identity(){let t=this.values;return t[be]=1,t[we]=0,t[Ce]=0,t[Ae]=0,t[Te]=0,t[Se]=1,t[ke]=0,t[Ee]=0,t[Me]=0,t[Re]=0,t[Ie]=1,t[Le]=0,t[Pe]=0,t[De]=0,t[Fe]=0,t[Xe]=1,this}invert(){let t=this.values,e=this.temp,i=t[Pe]*t[Re]*t[ke]*t[Ae]-t[Me]*t[De]*t[ke]*t[Ae]-t[Pe]*t[Se]*t[Ie]*t[Ae]+t[Te]*t[De]*t[Ie]*t[Ae]+t[Me]*t[Se]*t[Fe]*t[Ae]-t[Te]*t[Re]*t[Fe]*t[Ae]-t[Pe]*t[Re]*t[Ce]*t[Ee]+t[Me]*t[De]*t[Ce]*t[Ee]+t[Pe]*t[we]*t[Ie]*t[Ee]-t[be]*t[De]*t[Ie]*t[Ee]-t[Me]*t[we]*t[Fe]*t[Ee]+t[be]*t[Re]*t[Fe]*t[Ee]+t[Pe]*t[Se]*t[Ce]*t[Le]-t[Te]*t[De]*t[Ce]*t[Le]-t[Pe]*t[we]*t[ke]*t[Le]+t[be]*t[De]*t[ke]*t[Le]+t[Te]*t[we]*t[Fe]*t[Le]-t[be]*t[Se]*t[Fe]*t[Le]-t[Me]*t[Se]*t[Ce]*t[Xe]+t[Te]*t[Re]*t[Ce]*t[Xe]+t[Me]*t[we]*t[ke]*t[Xe]-t[be]*t[Re]*t[ke]*t[Xe]-t[Te]*t[we]*t[Ie]*t[Xe]+t[be]*t[Se]*t[Ie]*t[Xe];if(0==i)throw new Error("non-invertible matrix");let n=1/i;return e[be]=t[ke]*t[Le]*t[De]-t[Ee]*t[Ie]*t[De]+t[Ee]*t[Re]*t[Fe]-t[Se]*t[Le]*t[Fe]-t[ke]*t[Re]*t[Xe]+t[Se]*t[Ie]*t[Xe],e[we]=t[Ae]*t[Ie]*t[De]-t[Ce]*t[Le]*t[De]-t[Ae]*t[Re]*t[Fe]+t[we]*t[Le]*t[Fe]+t[Ce]*t[Re]*t[Xe]-t[we]*t[Ie]*t[Xe],e[Ce]=t[Ce]*t[Ee]*t[De]-t[Ae]*t[ke]*t[De]+t[Ae]*t[Se]*t[Fe]-t[we]*t[Ee]*t[Fe]-t[Ce]*t[Se]*t[Xe]+t[we]*t[ke]*t[Xe],e[Ae]=t[Ae]*t[ke]*t[Re]-t[Ce]*t[Ee]*t[Re]-t[Ae]*t[Se]*t[Ie]+t[we]*t[Ee]*t[Ie]+t[Ce]*t[Se]*t[Le]-t[we]*t[ke]*t[Le],e[Te]=t[Ee]*t[Ie]*t[Pe]-t[ke]*t[Le]*t[Pe]-t[Ee]*t[Me]*t[Fe]+t[Te]*t[Le]*t[Fe]+t[ke]*t[Me]*t[Xe]-t[Te]*t[Ie]*t[Xe],e[Se]=t[Ce]*t[Le]*t[Pe]-t[Ae]*t[Ie]*t[Pe]+t[Ae]*t[Me]*t[Fe]-t[be]*t[Le]*t[Fe]-t[Ce]*t[Me]*t[Xe]+t[be]*t[Ie]*t[Xe],e[ke]=t[Ae]*t[ke]*t[Pe]-t[Ce]*t[Ee]*t[Pe]-t[Ae]*t[Te]*t[Fe]+t[be]*t[Ee]*t[Fe]+t[Ce]*t[Te]*t[Xe]-t[be]*t[ke]*t[Xe],e[Ee]=t[Ce]*t[Ee]*t[Me]-t[Ae]*t[ke]*t[Me]+t[Ae]*t[Te]*t[Ie]-t[be]*t[Ee]*t[Ie]-t[Ce]*t[Te]*t[Le]+t[be]*t[ke]*t[Le],e[Me]=t[Se]*t[Le]*t[Pe]-t[Ee]*t[Re]*t[Pe]+t[Ee]*t[Me]*t[De]-t[Te]*t[Le]*t[De]-t[Se]*t[Me]*t[Xe]+t[Te]*t[Re]*t[Xe],e[Re]=t[Ae]*t[Re]*t[Pe]-t[we]*t[Le]*t[Pe]-t[Ae]*t[Me]*t[De]+t[be]*t[Le]*t[De]+t[we]*t[Me]*t[Xe]-t[be]*t[Re]*t[Xe],e[Ie]=t[we]*t[Ee]*t[Pe]-t[Ae]*t[Se]*t[Pe]+t[Ae]*t[Te]*t[De]-t[be]*t[Ee]*t[De]-t[we]*t[Te]*t[Xe]+t[be]*t[Se]*t[Xe],e[Le]=t[Ae]*t[Se]*t[Me]-t[we]*t[Ee]*t[Me]-t[Ae]*t[Te]*t[Re]+t[be]*t[Ee]*t[Re]+t[we]*t[Te]*t[Le]-t[be]*t[Se]*t[Le],e[Pe]=t[ke]*t[Re]*t[Pe]-t[Se]*t[Ie]*t[Pe]-t[ke]*t[Me]*t[De]+t[Te]*t[Ie]*t[De]+t[Se]*t[Me]*t[Fe]-t[Te]*t[Re]*t[Fe],e[De]=t[we]*t[Ie]*t[Pe]-t[Ce]*t[Re]*t[Pe]+t[Ce]*t[Me]*t[De]-t[be]*t[Ie]*t[De]-t[we]*t[Me]*t[Fe]+t[be]*t[Re]*t[Fe],e[Fe]=t[Ce]*t[Se]*t[Pe]-t[we]*t[ke]*t[Pe]-t[Ce]*t[Te]*t[De]+t[be]*t[ke]*t[De]+t[we]*t[Te]*t[Fe]-t[be]*t[Se]*t[Fe],e[Xe]=t[we]*t[ke]*t[Me]-t[Ce]*t[Se]*t[Me]+t[Ce]*t[Te]*t[Re]-t[be]*t[ke]*t[Re]-t[we]*t[Te]*t[Ie]+t[be]*t[Se]*t[Ie],t[be]=e[be]*n,t[we]=e[we]*n,t[Ce]=e[Ce]*n,t[Ae]=e[Ae]*n,t[Te]=e[Te]*n,t[Se]=e[Se]*n,t[ke]=e[ke]*n,t[Ee]=e[Ee]*n,t[Me]=e[Me]*n,t[Re]=e[Re]*n,t[Ie]=e[Ie]*n,t[Le]=e[Le]*n,t[Pe]=e[Pe]*n,t[De]=e[De]*n,t[Fe]=e[Fe]*n,t[Xe]=e[Xe]*n,this}determinant(){let t=this.values;return t[Pe]*t[Re]*t[ke]*t[Ae]-t[Me]*t[De]*t[ke]*t[Ae]-t[Pe]*t[Se]*t[Ie]*t[Ae]+t[Te]*t[De]*t[Ie]*t[Ae]+t[Me]*t[Se]*t[Fe]*t[Ae]-t[Te]*t[Re]*t[Fe]*t[Ae]-t[Pe]*t[Re]*t[Ce]*t[Ee]+t[Me]*t[De]*t[Ce]*t[Ee]+t[Pe]*t[we]*t[Ie]*t[Ee]-t[be]*t[De]*t[Ie]*t[Ee]-t[Me]*t[we]*t[Fe]*t[Ee]+t[be]*t[Re]*t[Fe]*t[Ee]+t[Pe]*t[Se]*t[Ce]*t[Le]-t[Te]*t[De]*t[Ce]*t[Le]-t[Pe]*t[we]*t[ke]*t[Le]+t[be]*t[De]*t[ke]*t[Le]+t[Te]*t[we]*t[Fe]*t[Le]-t[be]*t[Se]*t[Fe]*t[Le]-t[Me]*t[Se]*t[Ce]*t[Xe]+t[Te]*t[Re]*t[Ce]*t[Xe]+t[Me]*t[we]*t[ke]*t[Xe]-t[be]*t[Re]*t[ke]*t[Xe]-t[Te]*t[we]*t[Ie]*t[Xe]+t[be]*t[Se]*t[Ie]*t[Xe]}translate(t,e,i){let n=this.values;return n[Ae]+=t,n[Ee]+=e,n[Le]+=i,this}copy(){return(new Ye).set(this.values)}projection(t,e,i,n){this.identity();let s=1/Math.tan(i*(Math.PI/180)/2),r=(e+t)/(t-e),a=2*e*t/(t-e),o=this.values;return o[be]=s/n,o[Te]=0,o[Me]=0,o[Pe]=0,o[we]=0,o[Se]=s,o[Re]=0,o[De]=0,o[Ce]=0,o[ke]=0,o[Ie]=r,o[Fe]=-1,o[Ae]=0,o[Ee]=0,o[Le]=a,o[Xe]=0,this}ortho2d(t,e,i,n){return this.ortho(t,t+i,e,e+n,0,1)}ortho(t,e,i,n,s,r){this.identity();let a=2/(e-t),o=2/(n-i),l=-2/(r-s),h=-(e+t)/(e-t),c=-(n+i)/(n-i),u=-(r+s)/(r-s),d=this.values;return d[be]=a,d[Te]=0,d[Me]=0,d[Pe]=0,d[we]=0,d[Se]=o,d[Re]=0,d[De]=0,d[Ce]=0,d[ke]=0,d[Ie]=l,d[Fe]=0,d[Ae]=h,d[Ee]=c,d[Le]=u,d[Xe]=1,this}multiply(t){let e=this.temp,i=this.values,n=t.values;return e[be]=i[be]*n[be]+i[we]*n[Te]+i[Ce]*n[Me]+i[Ae]*n[Pe],e[we]=i[be]*n[we]+i[we]*n[Se]+i[Ce]*n[Re]+i[Ae]*n[De],e[Ce]=i[be]*n[Ce]+i[we]*n[ke]+i[Ce]*n[Ie]+i[Ae]*n[Fe],e[Ae]=i[be]*n[Ae]+i[we]*n[Ee]+i[Ce]*n[Le]+i[Ae]*n[Xe],e[Te]=i[Te]*n[be]+i[Se]*n[Te]+i[ke]*n[Me]+i[Ee]*n[Pe],e[Se]=i[Te]*n[we]+i[Se]*n[Se]+i[ke]*n[Re]+i[Ee]*n[De],e[ke]=i[Te]*n[Ce]+i[Se]*n[ke]+i[ke]*n[Ie]+i[Ee]*n[Fe],e[Ee]=i[Te]*n[Ae]+i[Se]*n[Ee]+i[ke]*n[Le]+i[Ee]*n[Xe],e[Me]=i[Me]*n[be]+i[Re]*n[Te]+i[Ie]*n[Me]+i[Le]*n[Pe],e[Re]=i[Me]*n[we]+i[Re]*n[Se]+i[Ie]*n[Re]+i[Le]*n[De],e[Ie]=i[Me]*n[Ce]+i[Re]*n[ke]+i[Ie]*n[Ie]+i[Le]*n[Fe],e[Le]=i[Me]*n[Ae]+i[Re]*n[Ee]+i[Ie]*n[Le]+i[Le]*n[Xe],e[Pe]=i[Pe]*n[be]+i[De]*n[Te]+i[Fe]*n[Me]+i[Xe]*n[Pe],e[De]=i[Pe]*n[we]+i[De]*n[Se]+i[Fe]*n[Re]+i[Xe]*n[De],e[Fe]=i[Pe]*n[Ce]+i[De]*n[ke]+i[Fe]*n[Ie]+i[Xe]*n[Fe],e[Xe]=i[Pe]*n[Ae]+i[De]*n[Ee]+i[Fe]*n[Le]+i[Xe]*n[Xe],this.set(this.temp)}multiplyLeft(t){let e=this.temp,i=this.values,n=t.values;return e[be]=n[be]*i[be]+n[we]*i[Te]+n[Ce]*i[Me]+n[Ae]*i[Pe],e[we]=n[be]*i[we]+n[we]*i[Se]+n[Ce]*i[Re]+n[Ae]*i[De],e[Ce]=n[be]*i[Ce]+n[we]*i[ke]+n[Ce]*i[Ie]+n[Ae]*i[Fe],e[Ae]=n[be]*i[Ae]+n[we]*i[Ee]+n[Ce]*i[Le]+n[Ae]*i[Xe],e[Te]=n[Te]*i[be]+n[Se]*i[Te]+n[ke]*i[Me]+n[Ee]*i[Pe],e[Se]=n[Te]*i[we]+n[Se]*i[Se]+n[ke]*i[Re]+n[Ee]*i[De],e[ke]=n[Te]*i[Ce]+n[Se]*i[ke]+n[ke]*i[Ie]+n[Ee]*i[Fe],e[Ee]=n[Te]*i[Ae]+n[Se]*i[Ee]+n[ke]*i[Le]+n[Ee]*i[Xe],e[Me]=n[Me]*i[be]+n[Re]*i[Te]+n[Ie]*i[Me]+n[Le]*i[Pe],e[Re]=n[Me]*i[we]+n[Re]*i[Se]+n[Ie]*i[Re]+n[Le]*i[De],e[Ie]=n[Me]*i[Ce]+n[Re]*i[ke]+n[Ie]*i[Ie]+n[Le]*i[Fe],e[Le]=n[Me]*i[Ae]+n[Re]*i[Ee]+n[Ie]*i[Le]+n[Le]*i[Xe],e[Pe]=n[Pe]*i[be]+n[De]*i[Te]+n[Fe]*i[Me]+n[Xe]*i[Pe],e[De]=n[Pe]*i[we]+n[De]*i[Se]+n[Fe]*i[Re]+n[Xe]*i[De],e[Fe]=n[Pe]*i[Ce]+n[De]*i[ke]+n[Fe]*i[Ie]+n[Xe]*i[Fe],e[Xe]=n[Pe]*i[Ae]+n[De]*i[Ee]+n[Fe]*i[Le]+n[Xe]*i[Xe],this.set(this.temp)}lookAt(t,e,i){let n=Ye.xAxis,s=Ye.yAxis,r=Ye.zAxis;r.setFrom(e).normalize(),n.setFrom(e).normalize(),n.cross(i).normalize(),s.setFrom(n).cross(r).normalize(),this.identity();let a=this.values;return a[be]=n.x,a[we]=n.y,a[Ce]=n.z,a[Te]=s.x,a[Se]=s.y,a[ke]=s.z,a[Me]=-r.x,a[Re]=-r.y,a[Ie]=-r.z,Ye.tmpMatrix.identity(),Ye.tmpMatrix.values[Ae]=-t.x,Ye.tmpMatrix.values[Ee]=-t.y,Ye.tmpMatrix.values[Le]=-t.z,this.multiply(Ye.tmpMatrix),this}}class Ne{position=new ye(0,0,0);direction=new ye(0,0,-1);up=new ye(0,1,0);near=0;far=100;zoom=1;viewportWidth=0;viewportHeight=0;projectionView=new Ye;inverseProjectionView=new Ye;projection=new Ye;view=new Ye;constructor(t,e){this.viewportWidth=t,this.viewportHeight=e,this.update()}update(){let t=this.projection,e=this.view,i=this.projectionView,n=this.inverseProjectionView,s=this.zoom,r=this.viewportWidth,a=this.viewportHeight;t.ortho(s*(-r/2),s*(r/2),s*(-a/2),s*(a/2),this.near,this.far),e.lookAt(this.position,this.direction,this.up),i.set(t.values),i.multiply(e),n.set(i.values).invert()}screenToWorld(t,e,i){let n=t.x,s=i-t.y-1;return t.x=2*n/e-1,t.y=2*s/i-1,t.z=2*t.z-1,t.project(this.inverseProjectionView),t}worldToScreen(t,e,i){return t.project(this.projectionView),t.x=e*(t.x+1)/2,t.y=i*(t.y+1)/2,t.z=(t.z+1)/2,t}setViewport(t,e){this.viewportWidth=t,this.viewportHeight=e}}class Oe{element;mouseX=0;mouseY=0;buttonDown=!1;touch0=null;touch1=null;initialPinchDistance=0;listeners=new Array;eventListeners=[];constructor(t){this.element=t,this.setupCallbacks(t)}setupCallbacks(t){let e=e=>{if(e instanceof MouseEvent){let i=t.getBoundingClientRect();this.mouseX=e.clientX-i.left,this.mouseY=e.clientY-i.top,this.listeners.map((t=>{this.buttonDown?t.dragged&&t.dragged(this.mouseX,this.mouseY):t.moved&&t.moved(this.mouseX,this.mouseY)}))}},i=n=>{if(n instanceof MouseEvent){let s=t.getBoundingClientRect();this.mouseX=n.clientX-s.left,this.mouseY=n.clientY-s.top,this.buttonDown=!1,this.listeners.map((t=>{t.up&&t.up(this.mouseX,this.mouseY)})),document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",i)}};t.addEventListener("mousedown",(n=>{if(n instanceof MouseEvent){let s=t.getBoundingClientRect();this.mouseX=n.clientX-s.left,this.mouseY=n.clientY-s.top,this.buttonDown=!0,this.listeners.map((t=>{t.down&&t.down(this.mouseX,this.mouseY)})),document.addEventListener("mousemove",e),document.addEventListener("mouseup",i)}}),!0),t.addEventListener("mousemove",e,!0),t.addEventListener("mouseup",i,!0),t.addEventListener("wheel",(t=>{t.preventDefault();let e=t.deltaY;t.deltaMode==WheelEvent.DOM_DELTA_LINE&&(e*=8),t.deltaMode==WheelEvent.DOM_DELTA_PAGE&&(e*=24),this.listeners.map((e=>{e.wheel&&e.wheel(t.deltaY)}))}),!0),t.addEventListener("touchstart",(e=>{if(!this.touch0||!this.touch1){let i=e.changedTouches.item(0);if(!i)return;let n=t.getBoundingClientRect(),s=i.clientX-n.left,r=i.clientY-n.top,a=new _e(i.identifier,s,r);if(this.mouseX=s,this.mouseY=r,this.buttonDown=!0,this.touch0){if(!this.touch1){this.touch1=a;let t=this.touch1.x-this.touch0.x,e=this.touch1.x-this.touch0.x;this.initialPinchDistance=Math.sqrt(t*t+e*e),this.listeners.map((t=>{t.zoom&&t.zoom(this.initialPinchDistance,this.initialPinchDistance)}))}}else this.touch0=a,this.listeners.map((t=>{t.down&&t.down(a.x,a.y)}))}e.preventDefault()}),!1),t.addEventListener("touchmove",(e=>{if(this.touch0){var i=e.changedTouches;let r=t.getBoundingClientRect();for(var n=0;n<i.length;n++){var s=i[n];let t=s.clientX-r.left,e=s.clientY-r.top;this.touch0.identifier===s.identifier&&(this.touch0.x=this.mouseX=t,this.touch0.y=this.mouseY=e,this.listeners.map((i=>{i.dragged&&i.dragged(t,e)}))),this.touch1&&this.touch1.identifier===s.identifier&&(this.touch1.x=this.mouseX=t,this.touch1.y=this.mouseY=e)}if(this.touch0&&this.touch1){let t=this.touch1.x-this.touch0.x,e=this.touch1.x-this.touch0.x,i=Math.sqrt(t*t+e*e);this.listeners.map((t=>{t.zoom&&t.zoom(this.initialPinchDistance,i)}))}}e.preventDefault()}),!1);let n=e=>{if(this.touch0){var i=e.changedTouches;let r=t.getBoundingClientRect();for(var n=0;n<i.length;n++){var s=i[n];let t=s.clientX-r.left,e=s.clientY-r.top;if(this.touch0.identifier===s.identifier){if(this.touch0=null,this.mouseX=t,this.mouseY=e,this.listeners.map((i=>{i.up&&i.up(t,e)})),!this.touch1){this.buttonDown=!1;break}this.touch0=this.touch1,this.touch1=null,this.mouseX=this.touch0.x,this.mouseX=this.touch0.x,this.buttonDown=!0,this.listeners.map((t=>{t.down&&t.down(this.touch0.x,this.touch0.y)}))}this.touch1&&this.touch1.identifier&&(this.touch1=null)}}e.preventDefault()};t.addEventListener("touchend",n,!1),t.addEventListener("touchcancel",n)}addListener(t){this.listeners.push(t)}removeListener(t){let e=this.listeners.indexOf(t);e>-1&&this.listeners.splice(e,1)}}class _e{identifier;x;y;constructor(t,e,i){this.identifier=t,this.x=e,this.y=i}}class Be{vertexShader;fragmentShader;static MVP_MATRIX="u_projTrans";static POSITION="a_position";static COLOR="a_color";static COLOR2="a_color2";static TEXCOORDS="a_texCoords";static SAMPLER="u_texture";context;vs=null;vsSource;fs=null;fsSource;program=null;tmp2x2=new Float32Array(4);tmp3x3=new Float32Array(9);tmp4x4=new Float32Array(16);getProgram(){return this.program}getVertexShader(){return this.vertexShader}getFragmentShader(){return this.fragmentShader}getVertexShaderSource(){return this.vsSource}getFragmentSource(){return this.fsSource}constructor(t,e,i){this.vertexShader=e,this.fragmentShader=i,this.vsSource=e,this.fsSource=i,this.context=t instanceof ge?t:new ge(t),this.context.addRestorable(this),this.compile()}compile(){let t=this.context.gl;try{if(this.vs=this.compileShader(t.VERTEX_SHADER,this.vertexShader),!this.vs)throw new Error("Couldn't compile vertex shader.");if(this.fs=this.compileShader(t.FRAGMENT_SHADER,this.fragmentShader),!this.fs)throw new Error("Couldn#t compile fragment shader.");this.program=this.compileProgram(this.vs,this.fs)}catch(t){throw this.dispose(),t}}compileShader(t,e){let i=this.context.gl,n=i.createShader(t);if(!n)throw new Error("Couldn't create shader.");if(i.shaderSource(n,e),i.compileShader(n),!i.getShaderParameter(n,i.COMPILE_STATUS)){let t="Couldn't compile shader: "+i.getShaderInfoLog(n);if(i.deleteShader(n),!i.isContextLost())throw new Error(t)}return n}compileProgram(t,e){let i=this.context.gl,n=i.createProgram();if(!n)throw new Error("Couldn't compile program.");if(i.attachShader(n,t),i.attachShader(n,e),i.linkProgram(n),!i.getProgramParameter(n,i.LINK_STATUS)){let t="Couldn't compile shader program: "+i.getProgramInfoLog(n);if(i.deleteProgram(n),!i.isContextLost())throw new Error(t)}return n}restore(){this.compile()}bind(){this.context.gl.useProgram(this.program)}unbind(){this.context.gl.useProgram(null)}setUniformi(t,e){this.context.gl.uniform1i(this.getUniformLocation(t),e)}setUniformf(t,e){this.context.gl.uniform1f(this.getUniformLocation(t),e)}setUniform2f(t,e,i){this.context.gl.uniform2f(this.getUniformLocation(t),e,i)}setUniform3f(t,e,i,n){this.context.gl.uniform3f(this.getUniformLocation(t),e,i,n)}setUniform4f(t,e,i,n,s){this.context.gl.uniform4f(this.getUniformLocation(t),e,i,n,s)}setUniform2x2f(t,e){let i=this.context.gl;this.tmp2x2.set(e),i.uniformMatrix2fv(this.getUniformLocation(t),!1,this.tmp2x2)}setUniform3x3f(t,e){let i=this.context.gl;this.tmp3x3.set(e),i.uniformMatrix3fv(this.getUniformLocation(t),!1,this.tmp3x3)}setUniform4x4f(t,e){let i=this.context.gl;this.tmp4x4.set(e),i.uniformMatrix4fv(this.getUniformLocation(t),!1,this.tmp4x4)}getUniformLocation(t){let e=this.context.gl;if(!this.program)throw new Error("Shader not compiled.");let i=e.getUniformLocation(this.program,t);if(!i&&!e.isContextLost())throw new Error(`Couldn't find location for uniform ${t}`);return i}getAttributeLocation(t){let e=this.context.gl;if(!this.program)throw new Error("Shader not compiled.");let i=e.getAttribLocation(this.program,t);if(-1==i&&!e.isContextLost())throw new Error(`Couldn't find location for attribute ${t}`);return i}dispose(){this.context.removeRestorable(this);let t=this.context.gl;this.vs&&(t.deleteShader(this.vs),this.vs=null),this.fs&&(t.deleteShader(this.fs),this.fs=null),this.program&&(t.deleteProgram(this.program),this.program=null)}static newColoredTextured(t){let e=`\nattribute vec4 ${Be.POSITION};\nattribute vec4 ${Be.COLOR};\nattribute vec2 ${Be.TEXCOORDS};\nuniform mat4 ${Be.MVP_MATRIX};\nvarying vec4 v_color;\nvarying vec2 v_texCoords;\n\nvoid main () {\n\tv_color = ${Be.COLOR};\n\tv_texCoords = ${Be.TEXCOORDS};\n\tgl_Position = ${Be.MVP_MATRIX} * ${Be.POSITION};\n}\n`;return new Be(t,e,"\n#ifdef GL_ES\n\t#define LOWP lowp\n\tprecision mediump float;\n#else\n\t#define LOWP\n#endif\nvarying LOWP vec4 v_color;\nvarying vec2 v_texCoords;\nuniform sampler2D u_texture;\n\nvoid main () {\n\tgl_FragColor = v_color * texture2D(u_texture, v_texCoords);\n}\n")}static newTwoColoredTextured(t){let e=`\nattribute vec4 ${Be.POSITION};\nattribute vec4 ${Be.COLOR};\nattribute vec4 ${Be.COLOR2};\nattribute vec2 ${Be.TEXCOORDS};\nuniform mat4 ${Be.MVP_MATRIX};\nvarying vec4 v_light;\nvarying vec4 v_dark;\nvarying vec2 v_texCoords;\n\nvoid main () {\n\tv_light = ${Be.COLOR};\n\tv_dark = ${Be.COLOR2};\n\tv_texCoords = ${Be.TEXCOORDS};\n\tgl_Position = ${Be.MVP_MATRIX} * ${Be.POSITION};\n}\n`;return new Be(t,e,"\n#ifdef GL_ES\n\t#define LOWP lowp\n\tprecision mediump float;\n#else\n\t#define LOWP\n#endif\nvarying LOWP vec4 v_light;\nvarying LOWP vec4 v_dark;\nvarying vec2 v_texCoords;\nuniform sampler2D u_texture;\n\nvoid main () {\n\tvec4 texColor = texture2D(u_texture, v_texCoords);\n\tgl_FragColor.a = texColor.a * v_light.a;\n\tgl_FragColor.rgb = ((texColor.a - 1.0) * v_dark.a + 1.0 - texColor.rgb) * v_dark.rgb + texColor.rgb * v_light.rgb;\n}\n")}static newColored(t){let e=`\nattribute vec4 ${Be.POSITION};\nattribute vec4 ${Be.COLOR};\nuniform mat4 ${Be.MVP_MATRIX};\nvarying vec4 v_color;\n\nvoid main () {\n\tv_color = ${Be.COLOR};\n\tgl_Position = ${Be.MVP_MATRIX} * ${Be.POSITION};\n}\n`;return new Be(t,e,"\n#ifdef GL_ES\n\t#define LOWP lowp\n\tprecision mediump float;\n#else\n\t#define LOWP\n#endif\nvarying LOWP vec4 v_color;\n\nvoid main () {\n\tgl_FragColor = v_color;\n}\n")}}class Ve{attributes;context;vertices;verticesBuffer=null;verticesLength=0;dirtyVertices=!1;indices;indicesBuffer=null;indicesLength=0;dirtyIndices=!1;elementsPerVertex=0;getAttributes(){return this.attributes}maxVertices(){return this.vertices.length/this.elementsPerVertex}numVertices(){return this.verticesLength/this.elementsPerVertex}setVerticesLength(t){this.dirtyVertices=!0,this.verticesLength=t}getVertices(){return this.vertices}maxIndices(){return this.indices.length}numIndices(){return this.indicesLength}setIndicesLength(t){this.dirtyIndices=!0,this.indicesLength=t}getIndices(){return this.indices}getVertexSizeInFloats(){let t=0;for(var e=0;e<this.attributes.length;e++)t+=this.attributes[e].numElements;return t}constructor(t,e,i,n){this.attributes=e,this.context=t instanceof ge?t:new ge(t),this.elementsPerVertex=0;for(let t=0;t<e.length;t++)this.elementsPerVertex+=e[t].numElements;this.vertices=new Float32Array(i*this.elementsPerVertex),this.indices=new Uint16Array(n),this.context.addRestorable(this)}setVertices(t){if(this.dirtyVertices=!0,t.length>this.vertices.length)throw Error("Mesh can't store more than "+this.maxVertices()+" vertices");this.vertices.set(t,0),this.verticesLength=t.length}setIndices(t){if(this.dirtyIndices=!0,t.length>this.indices.length)throw Error("Mesh can't store more than "+this.maxIndices()+" indices");this.indices.set(t,0),this.indicesLength=t.length}draw(t,e){this.drawWithOffset(t,e,0,this.indicesLength>0?this.indicesLength:this.verticesLength/this.elementsPerVertex)}drawWithOffset(t,e,i,n){let s=this.context.gl;(this.dirtyVertices||this.dirtyIndices)&&this.update(),this.bind(t),this.indicesLength>0?s.drawElements(e,n,s.UNSIGNED_SHORT,2*i):s.drawArrays(e,i,n),this.unbind(t)}bind(t){let e=this.context.gl;e.bindBuffer(e.ARRAY_BUFFER,this.verticesBuffer);let i=0;for(let n=0;n<this.attributes.length;n++){let s=this.attributes[n],r=t.getAttributeLocation(s.name);e.enableVertexAttribArray(r),e.vertexAttribPointer(r,s.numElements,e.FLOAT,!1,4*this.elementsPerVertex,4*i),i+=s.numElements}this.indicesLength>0&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indicesBuffer)}unbind(t){let e=this.context.gl;for(let i=0;i<this.attributes.length;i++){let n=this.attributes[i],s=t.getAttributeLocation(n.name);e.disableVertexAttribArray(s)}e.bindBuffer(e.ARRAY_BUFFER,null),this.indicesLength>0&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)}update(){let t=this.context.gl;this.dirtyVertices&&(this.verticesBuffer||(this.verticesBuffer=t.createBuffer()),t.bindBuffer(t.ARRAY_BUFFER,this.verticesBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices.subarray(0,this.verticesLength),t.DYNAMIC_DRAW),this.dirtyVertices=!1),this.dirtyIndices&&(this.indicesBuffer||(this.indicesBuffer=t.createBuffer()),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices.subarray(0,this.indicesLength),t.DYNAMIC_DRAW),this.dirtyIndices=!1)}restore(){this.verticesBuffer=null,this.indicesBuffer=null,this.update()}dispose(){this.context.removeRestorable(this);let t=this.context.gl;t.deleteBuffer(this.verticesBuffer),t.deleteBuffer(this.indicesBuffer)}}class qe{name;type;numElements;constructor(t,e,i){this.name=t,this.type=e,this.numElements=i}}class We extends qe{constructor(){super(Be.POSITION,Ue.Float,2)}}class je extends qe{constructor(t=0){super(Be.TEXCOORDS+(0==t?"":t),Ue.Float,2)}}class ze extends qe{constructor(){super(Be.COLOR,Ue.Float,4)}}class He extends qe{constructor(){super(Be.COLOR2,Ue.Float,4)}}var Ue,$e;!function(t){t[t.Float=0]="Float"}(Ue||(Ue={}));class Ge{static disableCulling=!1;context;drawCalls=0;static globalDrawCalls=0;isDrawing=!1;mesh;shader=null;lastTexture=null;verticesLength=0;indicesLength=0;srcColorBlend;srcAlphaBlend;dstBlend;cullWasEnabled=!1;constructor(t,e=!0,i=10920){if(i>10920)throw new Error("Can't have more than 10920 triangles per batch: "+i);this.context=t instanceof ge?t:new ge(t);let n=e?[new We,new ze,new je,new He]:[new We,new ze,new je];this.mesh=new Ve(t,n,i,3*i);let s=this.context.gl;this.srcColorBlend=s.SRC_ALPHA,this.srcAlphaBlend=s.ONE,this.dstBlend=s.ONE_MINUS_SRC_ALPHA}begin(t){if(this.isDrawing)throw new Error("PolygonBatch is already drawing. Call PolygonBatch.end() before calling PolygonBatch.begin()");this.drawCalls=0,this.shader=t,this.lastTexture=null,this.isDrawing=!0;let e=this.context.gl;e.enable(e.BLEND),e.blendFuncSeparate(this.srcColorBlend,this.dstBlend,this.srcAlphaBlend,this.dstBlend),Ge.disableCulling&&(this.cullWasEnabled=e.isEnabled(e.CULL_FACE),this.cullWasEnabled&&e.disable(e.CULL_FACE))}static blendModesGL=[{srcRgb:770,srcRgbPma:1,dstRgb:771,srcAlpha:1},{srcRgb:770,srcRgbPma:1,dstRgb:1,srcAlpha:1},{srcRgb:774,srcRgbPma:774,dstRgb:771,srcAlpha:1},{srcRgb:1,srcRgbPma:1,dstRgb:769,srcAlpha:1}];setBlendMode(t,e){const i=Ge.blendModesGL[t],n=e?i.srcRgbPma:i.srcRgb,s=i.srcAlpha,r=i.dstRgb;this.srcColorBlend==n&&this.srcAlphaBlend==s&&this.dstBlend==r||(this.srcColorBlend=n,this.srcAlphaBlend=s,this.dstBlend=r,this.isDrawing&&this.flush(),this.context.gl.blendFuncSeparate(n,r,s,r))}draw(t,e,i){t!=this.lastTexture?(this.flush(),this.lastTexture=t):(this.verticesLength+e.length>this.mesh.getVertices().length||this.indicesLength+i.length>this.mesh.getIndices().length)&&this.flush();let n=this.mesh.numVertices();this.mesh.getVertices().set(e,this.verticesLength),this.verticesLength+=e.length,this.mesh.setVerticesLength(this.verticesLength);let s=this.mesh.getIndices();for(let t=this.indicesLength,e=0;e<i.length;t++,e++)s[t]=i[e]+n;this.indicesLength+=i.length,this.mesh.setIndicesLength(this.indicesLength)}flush(){if(0!=this.verticesLength){if(!this.lastTexture)throw new Error("No texture set.");if(!this.shader)throw new Error("No shader set.");this.lastTexture.bind(),this.mesh.draw(this.shader,this.context.gl.TRIANGLES),this.verticesLength=0,this.indicesLength=0,this.mesh.setVerticesLength(0),this.mesh.setIndicesLength(0),this.drawCalls++,Ge.globalDrawCalls++}}end(){if(!this.isDrawing)throw new Error("PolygonBatch is not drawing. Call PolygonBatch.begin() before calling PolygonBatch.end()");(this.verticesLength>0||this.indicesLength>0)&&this.flush(),this.shader=null,this.lastTexture=null,this.isDrawing=!1;let t=this.context.gl;t.disable(t.BLEND),Ge.disableCulling&&this.cullWasEnabled&&t.enable(t.CULL_FACE)}getDrawCalls(){return this.drawCalls}static getAndResetGlobalDrawCalls(){let t=Ge.globalDrawCalls;return Ge.globalDrawCalls=0,t}dispose(){this.mesh.dispose()}}class Je{context;isDrawing=!1;mesh;shapeType=$e.Filled;color=new e(1,1,1,1);shader=null;vertexIndex=0;tmp=new a;srcColorBlend;srcAlphaBlend;dstBlend;constructor(t,e=10920){if(e>10920)throw new Error("Can't have more than 10920 triangles per batch: "+e);this.context=t instanceof ge?t:new ge(t),this.mesh=new Ve(t,[new We,new ze],e,0);let i=this.context.gl;this.srcColorBlend=i.SRC_ALPHA,this.srcAlphaBlend=i.ONE,this.dstBlend=i.ONE_MINUS_SRC_ALPHA}begin(t){if(this.isDrawing)throw new Error("ShapeRenderer.begin() has already been called");this.shader=t,this.vertexIndex=0,this.isDrawing=!0;let e=this.context.gl;e.enable(e.BLEND),e.blendFuncSeparate(this.srcColorBlend,this.dstBlend,this.srcAlphaBlend,this.dstBlend)}setBlendMode(t,e,i){this.srcColorBlend=t,this.srcAlphaBlend=e,this.dstBlend=i,this.isDrawing&&(this.flush(),this.context.gl.blendFuncSeparate(t,i,e,i))}setColor(t){this.color.setFromColor(t)}setColorWith(t,e,i,n){this.color.set(t,e,i,n)}point(t,e,i){this.check($e.Point,1),i||(i=this.color),this.vertex(t,e,i)}line(t,e,i,n,s){this.check($e.Line,2),this.mesh.getVertices(),this.vertexIndex,s||(s=this.color),this.vertex(t,e,s),this.vertex(i,n,s)}triangle(t,e,i,n,s,r,a,o,l,h){this.check(t?$e.Filled:$e.Line,3),this.mesh.getVertices(),this.vertexIndex,o||(o=this.color),l||(l=this.color),h||(h=this.color),t?(this.vertex(e,i,o),this.vertex(n,s,l),this.vertex(r,a,h)):(this.vertex(e,i,o),this.vertex(n,s,l),this.vertex(n,s,o),this.vertex(r,a,l),this.vertex(r,a,o),this.vertex(e,i,l))}quad(t,e,i,n,s,r,a,o,l,h,c,u,d){this.check(t?$e.Filled:$e.Line,3),this.mesh.getVertices(),this.vertexIndex,h||(h=this.color),c||(c=this.color),u||(u=this.color),d||(d=this.color),t?(this.vertex(e,i,h),this.vertex(n,s,c),this.vertex(r,a,u),this.vertex(r,a,u),this.vertex(o,l,d),this.vertex(e,i,h)):(this.vertex(e,i,h),this.vertex(n,s,c),this.vertex(n,s,c),this.vertex(r,a,u),this.vertex(r,a,u),this.vertex(o,l,d),this.vertex(o,l,d),this.vertex(e,i,h))}rect(t,e,i,n,s,r){this.quad(t,e,i,e+n,i,e+n,i+s,e,i+s,r,r,r,r)}rectLine(t,e,i,n,s,r,a){this.check(t?$e.Filled:$e.Line,8),a||(a=this.color);let o=this.tmp.set(s-i,e-n);o.normalize(),r*=.5;let l=o.x*r,h=o.y*r;t?(this.vertex(e+l,i+h,a),this.vertex(e-l,i-h,a),this.vertex(n+l,s+h,a),this.vertex(n-l,s-h,a),this.vertex(n+l,s+h,a),this.vertex(e-l,i-h,a)):(this.vertex(e+l,i+h,a),this.vertex(e-l,i-h,a),this.vertex(n+l,s+h,a),this.vertex(n-l,s-h,a),this.vertex(n+l,s+h,a),this.vertex(e+l,i+h,a),this.vertex(n-l,s-h,a),this.vertex(e-l,i-h,a))}x(t,e,i){this.line(t-i,e-i,t+i,e+i),this.line(t-i,e+i,t+i,e-i)}polygon(t,e,i,n){if(i<3)throw new Error("Polygon must contain at least 3 vertices");this.check($e.Line,2*i),n||(n=this.color),this.mesh.getVertices(),this.vertexIndex,i<<=1;let s=t[e<<=1],r=t[e+1],a=e+i;for(let o=e,l=e+i-2;o<l;o+=2){let e=t[o],i=t[o+1],l=0,h=0;o+2>=a?(l=s,h=r):(l=t[o+2],h=t[o+3]),this.vertex(e,i,n),this.vertex(l,h,n)}}circle(t,e,n,s,r,a=0){if(0==a&&(a=Math.max(1,6*i.cbrt(s)|0)),a<=0)throw new Error("segments must be > 0.");r||(r=this.color);let o=2*i.PI/a,l=Math.cos(o),h=Math.sin(o),c=s,u=0;if(t){this.check($e.Filled,3*a+3),a--;for(let t=0;t<a;t++){this.vertex(e,n,r),this.vertex(e+c,n+u,r);let t=c;c=l*c-h*u,u=h*t+l*u,this.vertex(e+c,n+u,r)}this.vertex(e,n,r),this.vertex(e+c,n+u,r)}else{this.check($e.Line,2*a+2);for(let t=0;t<a;t++){this.vertex(e+c,n+u,r);let t=c;c=l*c-h*u,u=h*t+l*u,this.vertex(e+c,n+u,r)}this.vertex(e+c,n+u,r)}c=s,u=0,this.vertex(e+c,n+u,r)}curve(t,e,i,n,s,r,a,o,l,h){this.check($e.Line,2*l+2),h||(h=this.color);let c=1/l,u=c*c,d=c*c*c,f=3*c,p=3*u,m=6*u,g=6*d,x=t-2*i+s,v=e-2*n+r,y=3*(i-s)-t+a,b=3*(n-r)-e+o,w=t,C=e,A=(i-t)*f+x*p+y*d,T=(n-e)*f+v*p+b*d,S=x*m+y*g,k=v*m+b*g,E=y*g,M=b*g;for(;l-- >0;)this.vertex(w,C,h),w+=A,C+=T,A+=S,T+=k,S+=E,k+=M,this.vertex(w,C,h);this.vertex(w,C,h),this.vertex(a,o,h)}vertex(t,e,i){let n=this.vertexIndex,s=this.mesh.getVertices();s[n++]=t,s[n++]=e,s[n++]=i.r,s[n++]=i.g,s[n++]=i.b,s[n++]=i.a,this.vertexIndex=n}end(){if(!this.isDrawing)throw new Error("ShapeRenderer.begin() has not been called");this.flush();let t=this.context.gl;t.disable(t.BLEND),this.isDrawing=!1}flush(){if(0!=this.vertexIndex){if(!this.shader)throw new Error("No shader set.");this.mesh.setVerticesLength(this.vertexIndex),this.mesh.draw(this.shader,this.shapeType),this.vertexIndex=0}}check(t,e){if(!this.isDrawing)throw new Error("ShapeRenderer.begin() has not been called");if(this.shapeType==t){if(!(this.mesh.maxVertices()-this.mesh.numVertices()<e))return;this.flush()}else this.flush(),this.shapeType=t}dispose(){this.mesh.dispose()}}!function(t){t[t.Point=0]="Point",t[t.Line=1]="Line",t[t.Filled=4]="Filled"}($e||($e={}));class Ke{boneLineColor=new e(1,0,0,1);boneOriginColor=new e(0,1,0,1);attachmentLineColor=new e(0,0,1,.5);triangleLineColor=new e(1,.64,0,.5);pathColor=(new e).setFromString("FF7F00");clipColor=new e(.8,0,0,2);aabbColor=new e(0,1,0,.5);drawBones=!0;drawRegionAttachments=!0;drawBoundingBoxes=!0;drawMeshHull=!0;drawMeshTriangles=!0;drawPaths=!0;drawSkeletonXY=!1;drawClipping=!0;premultipliedAlpha=!1;scale=1;boneWidth=2;context;bounds=new ee;temp=new Array;vertices=s.newFloatArray(2048);static LIGHT_GRAY=new e(192/255,192/255,192/255,1);static GREEN=new e(0,1,0,1);constructor(t){this.context=t instanceof ge?t:new ge(t)}draw(t,e,i){let n=e.x,r=e.y,a=this.context.gl,o=this.premultipliedAlpha?a.ONE:a.SRC_ALPHA;t.setBlendMode(o,a.ONE,a.ONE_MINUS_SRC_ALPHA);let l=e.bones;if(this.drawBones){t.setColor(this.boneLineColor);for(let e=0,n=l.length;e<n;e++){let n=l[e];if(i&&i.indexOf(n.data.name)>-1)continue;if(!n.parent)continue;let s=n.data.length*n.a+n.worldX,r=n.data.length*n.c+n.worldY;t.rectLine(!0,n.worldX,n.worldY,s,r,this.boneWidth*this.scale)}this.drawSkeletonXY&&t.x(n,r,4*this.scale)}if(this.drawRegionAttachments){t.setColor(this.attachmentLineColor);let i=e.slots;for(let e=0,n=i.length;e<n;e++){let n=i[e],s=n.getAttachment();if(s instanceof Ot){let e=s,i=this.vertices;e.computeWorldVertices(n,i,0,2),t.line(i[0],i[1],i[2],i[3]),t.line(i[2],i[3],i[4],i[5]),t.line(i[4],i[5],i[6],i[7]),t.line(i[6],i[7],i[0],i[1])}}}if(this.drawMeshHull||this.drawMeshTriangles){let i=e.slots;for(let e=0,n=i.length;e<n;e++){let n=i[e];if(!n.bone.active)continue;let s=n.getAttachment();if(!(s instanceof Xt))continue;let r=s,a=this.vertices;r.computeWorldVertices(n,0,r.worldVerticesLength,a,0,2);let o=r.triangles,l=r.hullLength;if(this.drawMeshTriangles){t.setColor(this.triangleLineColor);for(let e=0,i=o.length;e<i;e+=3){let i=2*o[e],n=2*o[e+1],s=2*o[e+2];t.triangle(!1,a[i],a[i+1],a[n],a[n+1],a[s],a[s+1])}}if(this.drawMeshHull&&l>0){t.setColor(this.attachmentLineColor),l=2*(l>>1);let e=a[l-2],i=a[l-1];for(let n=0,s=l;n<s;n+=2){let s=a[n],r=a[n+1];t.line(s,r,e,i),e=s,i=r}}}}if(this.drawBoundingBoxes){let i=this.bounds;i.update(e,!0),t.setColor(this.aabbColor),t.rect(!1,i.minX,i.minY,i.getWidth(),i.getHeight());let n=i.polygons,s=i.boundingBoxes;for(let e=0,i=n.length;e<i;e++){let i=n[e];t.setColor(s[e].color),t.polygon(i,0,i.length)}}if(this.drawPaths){let i=e.slots;for(let e=0,n=i.length;e<n;e++){let n=i[e];if(!n.bone.active)continue;let r=n.getAttachment();if(!(r instanceof Yt))continue;let a=r,o=a.worldVerticesLength,l=this.temp=s.setArraySize(this.temp,o,0);a.computeWorldVertices(n,0,o,l,0,2);let h=this.pathColor,c=l[2],u=l[3],d=0,f=0;if(a.closed){t.setColor(h);let e=l[0],i=l[1],n=l[o-2],s=l[o-1];d=l[o-4],f=l[o-3],t.curve(c,u,e,i,n,s,d,f,32),t.setColor(Ke.LIGHT_GRAY),t.line(c,u,e,i),t.line(d,f,n,s)}o-=4;for(let e=4;e<o;e+=6){let i=l[e],n=l[e+1],s=l[e+2],r=l[e+3];d=l[e+4],f=l[e+5],t.setColor(h),t.curve(c,u,i,n,s,r,d,f,32),t.setColor(Ke.LIGHT_GRAY),t.line(c,u,i,n),t.line(d,f,s,r),c=d,u=f}}}if(this.drawBones){t.setColor(this.boneOriginColor);for(let e=0,n=l.length;e<n;e++){let n=l[e];i&&i.indexOf(n.data.name)>-1||t.circle(!0,n.worldX,n.worldY,3*this.scale,this.boneOriginColor,8)}}if(this.drawClipping){let i=e.slots;t.setColor(this.clipColor);for(let e=0,n=i.length;e<n;e++){let n=i[e];if(!n.bone.active)continue;let r=n.getAttachment();if(!(r instanceof mt))continue;let a=r,o=a.worldVerticesLength,l=this.temp=s.setArraySize(this.temp,o,0);a.computeWorldVertices(n,0,o,l,0,2);for(let e=0,i=l.length;e<i;e+=2){let i=l[e],n=l[e+1],s=l[(e+2)%l.length],r=l[(e+3)%l.length];t.line(i,n,s,r)}}}}dispose(){}}class Qe{vertices;numVertices;numFloats;constructor(t,e,i){this.vertices=t,this.numVertices=e,this.numFloats=i}}class Ze{static QUAD_TRIANGLES=[0,1,2,2,3,0];premultipliedAlpha=!1;tempColor=new e;tempColor2=new e;vertices;vertexSize=8;twoColorTint=!1;renderable=new Qe([],0,0);clipper=new ne;temp=new a;temp2=new a;temp3=new e;temp4=new e;constructor(t,e=!0){this.twoColorTint=e,e&&(this.vertexSize+=4),this.vertices=s.newFloatArray(1024*this.vertexSize)}draw(t,e,i=-1,n=-1,r=null){let a,o,l,h=this.clipper,c=this.premultipliedAlpha,u=this.twoColorTint,d=null,f=this.renderable,p=e.drawOrder,m=e.color,g=u?12:8,x=!1;-1==i&&(x=!0);for(let e=0,v=p.length;e<v;e++){let v=h.isClipping()?2:g,y=p[e];if(!y.bone.active){h.clipEndWithSlot(y);continue}if(i>=0&&i==y.data.index&&(x=!0),!x){h.clipEndWithSlot(y);continue}n>=0&&n==y.data.index&&(x=!1);let b,w=y.getAttachment();if(w instanceof Ot){let t=w;f.vertices=this.vertices,f.numVertices=4,f.numFloats=v<<2,t.computeWorldVertices(y,f.vertices,0,v),o=Ze.QUAD_TRIANGLES,a=t.uvs,b=t.region.texture,l=t.color}else{if(!(w instanceof Xt)){if(w instanceof mt){let t=w;h.clipStart(y,t);continue}h.clipEndWithSlot(y);continue}{let t=w;f.vertices=this.vertices,f.numVertices=t.worldVerticesLength>>1,f.numFloats=f.numVertices*v,f.numFloats>f.vertices.length&&(f.vertices=this.vertices=s.newFloatArray(f.numFloats)),t.computeWorldVertices(y,0,t.worldVerticesLength,f.vertices,0,v),o=t.triangles,b=t.region.texture,a=t.uvs,l=t.color}}if(b){let e=y.color,i=this.tempColor;i.r=m.r*e.r*l.r,i.g=m.g*e.g*l.g,i.b=m.b*e.b*l.b,i.a=m.a*e.a*l.a,c&&(i.r*=i.a,i.g*=i.a,i.b*=i.a);let n=this.tempColor2;y.darkColor?(c?(n.r=y.darkColor.r*i.a,n.g=y.darkColor.g*i.a,n.b=y.darkColor.b*i.a):n.setFromColor(y.darkColor),n.a=c?1:0):n.set(0,0,0,1);let s=y.data.blendMode;if(s!=d&&(d=s,t.setBlendMode(d,c)),h.isClipping()){h.clipTriangles(f.vertices,f.numFloats,o,o.length,a,i,n,u);let e=new Float32Array(h.clippedVertices),s=h.clippedTriangles;r&&r(e,e.length,g),t.draw(b,e,s)}else{let e=f.vertices;if(u)for(let t=2,s=0,r=f.numFloats;t<r;t+=g,s+=2)e[t]=i.r,e[t+1]=i.g,e[t+2]=i.b,e[t+3]=i.a,e[t+4]=a[s],e[t+5]=a[s+1],e[t+6]=n.r,e[t+7]=n.g,e[t+8]=n.b,e[t+9]=n.a;else for(let t=2,n=0,s=f.numFloats;t<s;t+=g,n+=2)e[t]=i.r,e[t+1]=i.g,e[t+2]=i.b,e[t+3]=i.a,e[t+4]=a[n],e[t+5]=a[n+1];let s=f.vertices.subarray(0,f.numFloats);r&&r(f.vertices,f.numFloats,g),t.draw(b,s,o)}}h.clipEndWithSlot(y)}h.clipEnd()}getSkeletonClipping(){return this.clipper}}const ti=[0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0],ei=[0,1,2,2,3,0],ii=new e(1,1,1,1);class ni{context;canvas;camera;batcher;twoColorTint=!1;batcherShader;shapes;shapesShader;activeRenderer=null;skeletonRenderer;skeletonDebugRenderer;constructor(t,e,i=!0){this.canvas=t,this.context=e instanceof ge?e:new ge(e),this.twoColorTint=i,this.camera=new Ne(t.width,t.height),this.batcherShader=i?Be.newTwoColoredTextured(this.context):Be.newColoredTextured(this.context),this.batcher=new Ge(this.context,i),this.shapesShader=Be.newColored(this.context),this.shapes=new Je(this.context),this.skeletonRenderer=new Ze(this.context,i),this.skeletonDebugRenderer=new Ke(this.context)}dispose(){this.batcher.dispose(),this.batcherShader.dispose(),this.shapes.dispose(),this.shapesShader.dispose(),this.skeletonDebugRenderer.dispose()}begin(){this.camera.update(),this.enableRenderer(this.batcher)}drawSkeleton(t,e=!1,i=-1,n=-1,s=null){this.enableRenderer(this.batcher),this.skeletonRenderer.premultipliedAlpha=e,this.skeletonRenderer.draw(this.batcher,t,i,n,s)}drawSkeletonDebug(t,e=!1,i){this.enableRenderer(this.shapes),this.skeletonDebugRenderer.premultipliedAlpha=e,this.skeletonDebugRenderer.draw(this.shapes,t,i)}drawTexture(t,e,i,n,s,r){this.enableRenderer(this.batcher),r||(r=ii);var a=0;ti[a++]=e,ti[a++]=i,ti[a++]=r.r,ti[a++]=r.g,ti[a++]=r.b,ti[a++]=r.a,ti[a++]=0,ti[a++]=1,this.twoColorTint&&(ti[a++]=0,ti[a++]=0,ti[a++]=0,ti[a++]=0),ti[a++]=e+n,ti[a++]=i,ti[a++]=r.r,ti[a++]=r.g,ti[a++]=r.b,ti[a++]=r.a,ti[a++]=1,ti[a++]=1,this.twoColorTint&&(ti[a++]=0,ti[a++]=0,ti[a++]=0,ti[a++]=0),ti[a++]=e+n,ti[a++]=i+s,ti[a++]=r.r,ti[a++]=r.g,ti[a++]=r.b,ti[a++]=r.a,ti[a++]=1,ti[a++]=0,this.twoColorTint&&(ti[a++]=0,ti[a++]=0,ti[a++]=0,ti[a++]=0),ti[a++]=e,ti[a++]=i+s,ti[a++]=r.r,ti[a++]=r.g,ti[a++]=r.b,ti[a++]=r.a,ti[a++]=0,ti[a++]=0,this.twoColorTint&&(ti[a++]=0,ti[a++]=0,ti[a++]=0,ti[a]=0),this.batcher.draw(t,ti,ei)}drawTextureUV(t,e,i,n,s,r,a,o,l,h){this.enableRenderer(this.batcher),h||(h=ii);var c=0;ti[c++]=e,ti[c++]=i,ti[c++]=h.r,ti[c++]=h.g,ti[c++]=h.b,ti[c++]=h.a,ti[c++]=r,ti[c++]=a,this.twoColorTint&&(ti[c++]=0,ti[c++]=0,ti[c++]=0,ti[c++]=0),ti[c++]=e+n,ti[c++]=i,ti[c++]=h.r,ti[c++]=h.g,ti[c++]=h.b,ti[c++]=h.a,ti[c++]=o,ti[c++]=a,this.twoColorTint&&(ti[c++]=0,ti[c++]=0,ti[c++]=0,ti[c++]=0),ti[c++]=e+n,ti[c++]=i+s,ti[c++]=h.r,ti[c++]=h.g,ti[c++]=h.b,ti[c++]=h.a,ti[c++]=o,ti[c++]=l,this.twoColorTint&&(ti[c++]=0,ti[c++]=0,ti[c++]=0,ti[c++]=0),ti[c++]=e,ti[c++]=i+s,ti[c++]=h.r,ti[c++]=h.g,ti[c++]=h.b,ti[c++]=h.a,ti[c++]=r,ti[c++]=l,this.twoColorTint&&(ti[c++]=0,ti[c++]=0,ti[c++]=0,ti[c]=0),this.batcher.draw(t,ti,ei)}drawTextureRotated(t,e,n,s,r,a,o,l,h){this.enableRenderer(this.batcher),h||(h=ii);let c=e+a,u=n+o,d=-a,f=-o,p=s-a,m=r-o,g=d,x=f,v=d,y=m,b=p,w=m,C=p,A=f,T=0,S=0,k=0,E=0,M=0,R=0,I=0,L=0;if(0!=l){let t=i.cosDeg(l),e=i.sinDeg(l);T=t*g-e*x,S=e*g+t*x,I=t*v-e*y,L=e*v+t*y,M=t*b-e*w,R=e*b+t*w,k=M+(T-I),E=R+(S-L)}else T=g,S=x,I=v,L=y,M=b,R=w,k=C,E=A;T+=c,S+=u,k+=c,E+=u,M+=c,R+=u,I+=c,L+=u;var P=0;ti[P++]=T,ti[P++]=S,ti[P++]=h.r,ti[P++]=h.g,ti[P++]=h.b,ti[P++]=h.a,ti[P++]=0,ti[P++]=1,this.twoColorTint&&(ti[P++]=0,ti[P++]=0,ti[P++]=0,ti[P++]=0),ti[P++]=k,ti[P++]=E,ti[P++]=h.r,ti[P++]=h.g,ti[P++]=h.b,ti[P++]=h.a,ti[P++]=1,ti[P++]=1,this.twoColorTint&&(ti[P++]=0,ti[P++]=0,ti[P++]=0,ti[P++]=0),ti[P++]=M,ti[P++]=R,ti[P++]=h.r,ti[P++]=h.g,ti[P++]=h.b,ti[P++]=h.a,ti[P++]=1,ti[P++]=0,this.twoColorTint&&(ti[P++]=0,ti[P++]=0,ti[P++]=0,ti[P++]=0),ti[P++]=I,ti[P++]=L,ti[P++]=h.r,ti[P++]=h.g,ti[P++]=h.b,ti[P++]=h.a,ti[P++]=0,ti[P++]=0,this.twoColorTint&&(ti[P++]=0,ti[P++]=0,ti[P++]=0,ti[P]=0),this.batcher.draw(t,ti,ei)}drawRegion(t,e,i,n,s,r){this.enableRenderer(this.batcher),r||(r=ii);var a=0;ti[a++]=e,ti[a++]=i,ti[a++]=r.r,ti[a++]=r.g,ti[a++]=r.b,ti[a++]=r.a,ti[a++]=t.u,ti[a++]=t.v2,this.twoColorTint&&(ti[a++]=0,ti[a++]=0,ti[a++]=0,ti[a++]=0),ti[a++]=e+n,ti[a++]=i,ti[a++]=r.r,ti[a++]=r.g,ti[a++]=r.b,ti[a++]=r.a,ti[a++]=t.u2,ti[a++]=t.v2,this.twoColorTint&&(ti[a++]=0,ti[a++]=0,ti[a++]=0,ti[a++]=0),ti[a++]=e+n,ti[a++]=i+s,ti[a++]=r.r,ti[a++]=r.g,ti[a++]=r.b,ti[a++]=r.a,ti[a++]=t.u2,ti[a++]=t.v,this.twoColorTint&&(ti[a++]=0,ti[a++]=0,ti[a++]=0,ti[a++]=0),ti[a++]=e,ti[a++]=i+s,ti[a++]=r.r,ti[a++]=r.g,ti[a++]=r.b,ti[a++]=r.a,ti[a++]=t.u,ti[a++]=t.v,this.twoColorTint&&(ti[a++]=0,ti[a++]=0,ti[a++]=0,ti[a]=0),this.batcher.draw(t.page.texture,ti,ei)}line(t,e,i,n,s,r){this.enableRenderer(this.shapes),this.shapes.line(t,e,i,n,s)}triangle(t,e,i,n,s,r,a,o,l,h){this.enableRenderer(this.shapes),this.shapes.triangle(t,e,i,n,s,r,a,o,l,h)}quad(t,e,i,n,s,r,a,o,l,h,c,u,d){this.enableRenderer(this.shapes),this.shapes.quad(t,e,i,n,s,r,a,o,l,h,c,u,d)}rect(t,e,i,n,s,r){this.enableRenderer(this.shapes),this.shapes.rect(t,e,i,n,s,r)}rectLine(t,e,i,n,s,r,a){this.enableRenderer(this.shapes),this.shapes.rectLine(t,e,i,n,s,r,a)}polygon(t,e,i,n){this.enableRenderer(this.shapes),this.shapes.polygon(t,e,i,n)}circle(t,e,i,n,s,r=0){this.enableRenderer(this.shapes),this.shapes.circle(t,e,i,n,s,r)}curve(t,e,i,n,s,r,a,o,l,h){this.enableRenderer(this.shapes),this.shapes.curve(t,e,i,n,s,r,a,o,l,h)}end(){this.activeRenderer===this.batcher?this.batcher.end():this.activeRenderer===this.shapes&&this.shapes.end(),this.activeRenderer=null}resize(t){let e=this.canvas;var i=window.devicePixelRatio||1,n=Math.round(e.clientWidth*i),s=Math.round(e.clientHeight*i);if(e.width==n&&e.height==s||(e.width=n,e.height=s),this.context.gl.viewport(0,0,e.width,e.height),t===si.Expand)this.camera.setViewport(n,s);else if(t===si.Fit){let t=e.width,i=e.height,n=this.camera.viewportWidth,s=this.camera.viewportHeight,r=s/n<i/t?n/t:s/i;this.camera.setViewport(t*r,i*r)}this.camera.update()}enableRenderer(t){this.activeRenderer!==t&&(this.end(),t instanceof Ge?(this.batcherShader.bind(),this.batcherShader.setUniform4x4f(Be.MVP_MATRIX,this.camera.projectionView.values),this.batcherShader.setUniformi("u_texture",0),this.batcher.begin(this.batcherShader),this.activeRenderer=this.batcher):t instanceof Je?(this.shapesShader.bind(),this.shapesShader.setUniform4x4f(Be.MVP_MATRIX,this.camera.projectionView.values),this.shapes.begin(this.shapesShader),this.activeRenderer=this.shapes):this.activeRenderer=this.skeletonDebugRenderer)}}var si,ri;(ri=si||(si={}))[ri.Stretch=0]="Stretch",ri[ri.Expand=1]="Expand",ri[ri.Fit=2]="Fit";class ai{config;context;time=new o;htmlCanvas;gl;renderer;assetManager;input;disposed=!1;constructor(t,e){this.config=e,e.pathPrefix||(e.pathPrefix=""),e.app||(e.app={loadAssets:()=>{},initialize:()=>{},update:()=>{},render:()=>{},error:()=>{},dispose:()=>{}}),e.webglConfig||(e.webglConfig={alpha:!0}),this.htmlCanvas=t,this.context=new ge(t,e.webglConfig),this.renderer=new ni(t,this.context),this.gl=this.context.gl,this.assetManager=new ve(this.context,e.pathPrefix),this.input=new Oe(t),e.app.loadAssets&&e.app.loadAssets(this);let i=()=>{this.disposed||(requestAnimationFrame(i),this.time.update(),e.app.update&&e.app.update(this,this.time.delta),e.app.render&&e.app.render(this))},n=()=>{this.disposed||(this.assetManager.isLoadingComplete()?this.assetManager.hasErrors()?e.app.error&&e.app.error(this,this.assetManager.getErrors()):(e.app.initialize&&e.app.initialize(this),i()):requestAnimationFrame(n))};requestAnimationFrame(n)}clear(t,e,i,n){this.gl.clearColor(t,e,i,n),this.gl.clear(this.gl.COLOR_BUFFER_BIT)}dispose(){this.config.app.dispose&&this.config.app.dispose(this),this.disposed=!0}}var oi=n(755);const li=new class{constructor(){this.currentTimeout=null}wait(t){return this.currentTimeout&&clearTimeout(this.currentTimeout),new Promise((e=>{this.currentTimeout=setTimeout(e,t)}))}onEffects(){const t=oi("#navigation nav ul li").add(oi(".hire-btn")),e=oi("#profile .MS__hover");let i;t.add(e).on("mouseenter",(function(){if(!(oi(".MJ__currentFollowFrame#profile").length<=0)){if(oi(this).hasClass("special"))hi.fireFlies.listAmounts=54,hi.fireFlies.speed=6,hi.layers.forEach((t=>{["baseCanvas1","baseCanvas2"].includes(t.element)&&(t.grayscale=!1,t.pause=!1)}));else{hi.fireFlies.listAmounts=27,hi.fireFlies.speed=3,0,3,i=Math.floor(4*Math.random())+0;const t=hi.layers[i];["baseCanvas1","baseCanvas2"].includes(t.element)&&("baseCanvas2"===t.element?t.grayscale=!0:t.grayscale=!1,t.pause=!1)}hi.fireFlies.list.forEach((t=>{t.wind=hi.fireFlies.speed}))}})),t.add(e).on("mouseleave",(function(){if(!(oi(".MJ__currentFollowFrame#profile").length<=0))if(hi.fireFlies.listAmounts=9,hi.fireFlies.speed=1,hi.fireFlies.list.forEach((t=>{t.wind=hi.fireFlies.speed})),oi(this).hasClass("special"))hi.layers.forEach((t=>{["baseCanvas1","baseCanvas2"].includes(t.element)&&(t.grayscale=!0,t.pause=!0)}));else{const t=hi.layers[i];["baseCanvas1","baseCanvas2"].includes(t.element)&&(t.grayscale=!0,t.pause=!0)}}))}backToTop(){if("desktop"==oi("body").data("device-type")){const t=oi(".back-to-top"),e=t.find("svg"),i="oklch(85.33% 0.185 92.12)",n="oklch(100% 0 0)";function s(){const s=oi(window).scrollTop(),r=document.documentElement.scrollHeight-window.innerHeight,a=r>0?s/r*100:0,o=`linear-gradient(${i} 0% ${a}%, ${n} ${a}% 100%)`;t.css("background-image",o);const l=1.8*a-90;e.css("transform",`rotate(${l}deg)`)}t.on("click",(function(t){t.preventDefault(),oi("html, body").animate({scrollTop:0},500)})),oi(window).on("scroll load",s)}}},hi=new class{constructor(){this.layers=[],this.fireFlies={status:!0,list:[],listAmounts:9,wave:3,speed:1}}addLayer(t,e,i){let n=new Image;n.src=t,n.onload=()=>{this.layers.push({img:n,x:e,y:i})}}updateLayerFrameInterval(t,e,i,n=1e3){const s=this.layers.find((i=>i.baseName===t&&i.layerOrder===e));if(!s)return;const r=s.frameInterval;s.frameInterval=i,setTimeout((()=>{s.frameInterval=r}),n)}canvas(){this.spawnLoopingV1(),this.spineWebgl(),this.spawnElectric(),this.canvasFireFlies()}spineWebgl(){new ai(document.getElementById("spineCanvas"),{app:new class{constructor(){this.skeleton=null,this.animationState=null,this.baseUrl="/assets/profile/images/spin/"}loadAssets(t){t.assetManager.loadJson(`${this.baseUrl}character_01-cache.json`),t.assetManager.loadTextureAtlas(`${this.baseUrl}character_01.atlas`)}initialize(t){let e=t.assetManager;var i=e.require(`${this.baseUrl}character_01.atlas`),n=new _t(i),s=new ce(n).readSkeletonData(e.get(`${this.baseUrl}character_01-cache.json`));this.skeleton=new Kt(s),this.skeleton.scaleX=.9,this.skeleton.scaleY=.9,this.skeleton.y=-335,this.skeleton.x=0;var r=new ft(s);this.animationState=new it(r),this.animationState.setAnimation(0,"animation",!0)}async update(t,e){oi(".MJ__currentFollowFrame#profile").length>0&&this.animationState.update(e),this.animationState.apply(this.skeleton),this.skeleton.updateWorldTransform(At.update)}render(t){let e=t.renderer;t.clear(0,0,0,0),e.begin(),e.drawSkeleton(this.skeleton,!0),e.end()}},resizeMode:si.Fit})}canvasMotionAtlas(t={}){const{element:e,jsonPath:i,imagePath:n,framePrefix:s="",totalFrames:r,x:a=0,y:o=0,scale:l=1,flip:h=!1,frameInterval:c=30,pause:u=!1,loopDelay:d=0,layerOrder:f=0,hideWhenPaused:p=!0,grayscale:m=!1,loop:g=!0}=t;i&&n&&r?(this._canvasAnimationStatus||(this._canvasAnimationStatus={}),this._canvasAnimationStatus[e]||(this._canvasAnimationStatus[e]=!1),Promise.all([fetch(i).then((t=>t.json())),new Promise((t=>{const e=new Image;e.src=n,e.onload=()=>t(e)}))]).then((([t,i])=>{const n=[];for(let e=0;e<r;e++){const i=`${s}${e.toString().padStart(2,"0")}`,r=t.find((t=>t.name===i));r?n.push({x:r.x,y:r.y,w:r.width,h:r.height}):(console.warn(`Missing frame: ${i}`),n.push(null))}this.layers.push({element:e,frames:n,image:i,x:a,y:o,scale:l,flip:h,frameInterval:c,totalFrames:r,currentFrame:0,lastFrameTime:0,pause:u,loopDelay:d,isWaiting:!1,lastLoopTime:0,visible:!0,layerOrder:f,hideWhenPaused:p,spriteSheet:!0,grayscale:m}),this._canvasAnimationStatus[e]||(this._canvasAnimationStatus[e]=!0,requestAnimationFrame((t=>this._animate(t,e,m))))}))):console.warn("Missing required parameters: jsonPath, imagePath, totalFrames")}spawnLoopingV1(){[{x:200,y:-50,scale:1,flip:!1,layerOrder:1},{x:620,y:50,scale:1,flip:!0,layerOrder:2},{x:770,y:430,scale:.5,flip:!1,layerOrder:3}].forEach((({x:t,y:e,scale:i,flip:n,layerOrder:s},r)=>{this.canvasMotionAtlas({element:"baseCanvas1",jsonPath:"/assets/profile/images/canvas/v1.json",imagePath:"/assets/profile/images/canvas/v1.png",framePrefix:"v1_",totalFrames:34,x:t,y:e,scale:i,flip:n,frameInterval:0,pause:!0,hideWhenPaused:!1,layerOrder:s,grayscale:!0})}))}_animate(t,e){this._drawFrame(t,e),requestAnimationFrame((t=>this._animate(t,e)))}_drawFrame(t,e){const i=document.getElementById(e),n=i.getContext("2d");n.clearRect(0,0,i.width,i.height),[...this.layers].filter((t=>t.element===e)).sort(((t,e)=>t.layerOrder-e.layerOrder)).forEach((e=>{if(e.isWaiting)t-e.lastLoopTime>=e.loopDelay&&(e.isWaiting=!1,e.visible=!0,e.lastFrameTime=t);else if(!(e.pause&&e.hideWhenPaused||!e.visible)){if(n.save(),e.grayscale?n.filter="grayscale(100%)":n.filter="none",e.spriteSheet){const t=e.frames[e.currentFrame];if(!t)return;const{x:i,y:s,w:r,h:a}=t;e.flip?(n.scale(-1,1),n.drawImage(e.image,i,s,r,a,-e.x-r*e.scale,e.y,r*e.scale,a*e.scale)):n.drawImage(e.image,i,s,r,a,e.x,e.y,r*e.scale,a*e.scale)}else if(e.frames){const t=e.frames[e.currentFrame];e.flip?(n.scale(-1,1),n.drawImage(t,-e.x-t.width,e.y)):(1!==e.scale&&n.scale(e.scale,e.scale),n.drawImage(t,e.x,e.y))}n.restore(),e.pause||(!e.lastFrameTime||t-e.lastFrameTime>e.frameInterval)&&(e.currentFrame++,e.currentFrame>=e.totalFrames&&(e.currentFrame=0,e.loopDelay>0&&(e.visible=!1,e.isWaiting=!0,e.lastLoopTime=t)),e.lastFrameTime=t)}}))}spawnElectric(){this.canvasMotionAtlas({element:"baseCanvas2",jsonPath:"/assets/profile/images/canvas/electric.json",imagePath:"/assets/profile/images/canvas/electric.png",framePrefix:"electric_",totalFrames:8,x:-100,y:-270,scale:1.2,flip:!1,frameInterval:60,pause:!0,layerOrder:5,grayscale:!0,loopDelay:500})}canvasFireFlies(){const t=document.getElementById("canvasFirefiles"),e=t.getContext("2d");let i=t.width=window.innerWidth,n=t.height=window.innerHeight;class s{constructor(t){this.x=Math.random()*i,this.y=Math.random()*n,this.s=2*Math.random(),this.ang=2*Math.random()*Math.PI,this.v=this.s*this.s/4,this.wind=t}move(){this.x+=this.v*Math.cos(this.ang)+this.wind,this.y+=this.v*Math.sin(this.ang),this.ang+=20*Math.random()*Math.PI/180-10*Math.PI/180}show(){e.beginPath(),e.arc(this.x,this.y,this.s,0,2*Math.PI),e.fillStyle="#fddba3",e.fill()}}const r=this.fireFlies.list,a=()=>{if(r.length<this.fireFlies.listAmounts)for(let t=0;t<this.fireFlies.wave;t++)r.push(new s(this.fireFlies.speed));for(let t=0;t<r.length;t++)r[t].move(),r[t].show(),(r[t].x<0||r[t].x>i||r[t].y<0||r[t].y>n)&&r.splice(t,1)},o=async()=>{if(oi(".MJ__currentFollowFrame#profile").length<=0)return requestAnimationFrame(o);e.clearRect(0,0,i,n),this.fireFlies.status&&(a(),requestAnimationFrame(o))};o()}};window.addEventListener("load",(async function(){li.backToTop(),"desktop"==oi("body").data("device-type")&&(li.onEffects(),hi.canvas())}))})(),window.addEventListener("load",(function(){})),t=n(755),window.addEventListener("load",(function(){const e=t("#projects .categories button"),i=t(".mySwiper .swiper-slide"),n=new Swiper(".mySwiper",{slidesPerView:1,pagination:{el:".swiper-pagination"},breakpoints:{768:{slidesPerView:3}}});e.on("click",(function(s){s.preventDefault();const r=t(this).attr("class").split(" ")[0];e.removeClass("active"),t(this).addClass("active"),i.css("display","none"),setTimeout((()=>{"all"===r?i.css("display","flex"):i.filter('[data-classname="'+r+'"]').css("display","flex"),n.update()}),50)})),function(){const n={};i.each((function(){const e=t(this).data("classname");n[e]=(n[e]||0)+1})),e.each((function(){const e=t(this),s=e.attr("class").split(" ")[0];if("all"===s){const t=i.length;e.find("span").text(t)}else e.find("span").text(n[s]||0)}))}(),setTimeout((()=>{e.eq(0).trigger("click")}),500)})),(()=>{"use strict";class t{constructor(t=0,e="Network Error"){this.status=t,this.text=e}}const e={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!=typeof localStorage)return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}})()},i=t=>t?"string"==typeof t?{publicKey:t}:"[object Object]"===t.toString()?t:{}:{},s=async(n,s,r,a)=>{const o=i(a),l=o.publicKey||e.publicKey,h=o.blockHeadless||e.blockHeadless,c=e.storageProvider||o.storageProvider,u={...e.blockList,...o.blockList},d={...e.limitRate,...o.limitRate};if(h&&(t=>t.webdriver||!t.languages||0===t.languages.length)(navigator))return Promise.reject(new t(451,"Unavailable For Headless Browser"));const f=(t=>"string"==typeof t?document.querySelector(t):t)(r);((t,e,i)=>{if(!t||"string"!=typeof t)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||"string"!=typeof e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!i||"string"!=typeof i)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"})(l,n,s),(t=>{if(!t||"FORM"!==t.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"})(f);const p=new FormData(f);return((t,e)=>{if((t=>!t.list?.length||!t.watchVariable)(t))return!1;((t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if("string"!=typeof e)throw"The BlockList watchVariable has to be a string"})(t.list,t.watchVariable);const i=(n=e,s=t.watchVariable,n instanceof FormData?n.get(s):n[s]);var n,s;return"string"==typeof i&&t.list.includes(i)})(u,p)?Promise.reject(new t(403,"Forbidden")):await(async(t,e,i)=>{if(!e.throttle||!i)return!1;((t,e)=>{if("number"!=typeof t||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&"string"!=typeof e)throw"The LimitRate ID has to be a non-empty string"})(e.throttle,e.id);const n=e.id||t,s=await(async(t,e,i)=>{const n=Number(await i.get(t)||0);return e-Date.now()+n})(n,e.throttle,i);return s>0||(await i.set(n,Date.now().toString()),!1)})(location.pathname,d,c)?Promise.reject(new t(429,"Too Many Requests")):(p.append("lib_version","4.4.1"),p.append("service_id",n),p.append("template_id",s),p.append("user_id",l),(async(i,n,s={})=>{const r=await fetch(e.origin+i,{method:"POST",headers:s,body:n}),a=await r.text(),o=new t(r.status,a);if(r.ok)return o;throw o})("/api/v1.0/email/send-form",p))};var r=n(755);window.addEventListener("load",(function(){const t=r("#projects .categories button");t.on("click",(function(e){e.preventDefault(),t.removeClass("active"),r(this).addClass("active")})),new Swiper(".mySwiper",{slidesPerView:3,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),r("#contact .list-btns .btn").on("click",(function(t){t.preventDefault(),r("#contact .list-btns .btn").removeClass("active"),r(this).addClass("active"),r('#myForm input[name="selected_option"]').val(r(this).text())})),r("#myForm").on("submit",(function(t){t.preventDefault(),r("#myForm .button").addClass("MS__off"),s("service_3343x1e","template_68edaxr","#myForm").then((t=>{console.log("SUCCESS!",t.status,t.text),r("#myForm .button").hide(),Fancybox.show([{src:"#popup_inform_2",type:"inline"}])}),(t=>{r("#myForm .button").removeClass("MS__off"),console.log("FAILED...",t),Fancybox.show([{src:"#popup_inform_1",type:"inline"}])}))})),((t,n="https://api.emailjs.com")=>{if(!t)return;const s=i(t);e.publicKey=s.publicKey,e.blockHeadless=s.blockHeadless,e.storageProvider=s.storageProvider,e.blockList=s.blockList,e.limitRate=s.limitRate,e.origin=s.origin||n})({publicKey:"uvC1RT8JXl-Q6o2F-"})}))})(),(()=>{var t=n(755);window.addEventListener("load",(function(){"mobile"!=t("body").data("device-type")&&t(window).on("scroll",(function(){if(t(".MJ__currentFollowFrame#profile").length>0){if(!t("#navigation").hasClass("active"))return;t("#navigation").removeClass("active")}else t("#navigation").hasClass("active")||t("#navigation").addClass("active")}))}))})(),window.addEventListener("load",(function(){}))})();
//# sourceMappingURL=ten.js.map